import{r as fg,a as gg,L as ji,b,u as al,c as yg,B as xg,R as bg,d as ei,N as vg}from"./react-vendor-Dqf2LXFM.js";import{_ as jg,C as Sg,r as Om,a as wg,g as Cg,b as Ag,c as tc,d as Dg,i as $m,p as Tg,u as zg,F as Bg,e as Rg,f as kg,h as Eg,j as Be,k as Vt,l as Se,q as Ae,w as de,m as He,n as ci,o as Lr,s as Pr,t as Ft,v as ti,x as Ng,y as Mg,z as Lm,A as Pm,B as Hg,D as Ug,E as Og,G as ha,T as Ir,H as fa,I as Zd,J as Lg}from"./firebase-p-DgfaJy.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const x of g.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function u(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(f){if(f.ep)return;f.ep=!0;const g=u(f);fetch(f.href,g)}})();var Wd={exports:{}},To={};var Im;function Pg(){if(Im)return To;Im=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(c,f,g){var x=null;if(g!==void 0&&(x=""+g),f.key!==void 0&&(x=""+f.key),"key"in f){g={};for(var y in f)y!=="key"&&(g[y]=f[y])}else g=f;return f=g.ref,{$$typeof:r,type:c,key:x,ref:f!==void 0?f:null,props:g}}return To.Fragment=s,To.jsx=u,To.jsxs=u,To}var _m;function Ig(){return _m||(_m=1,Wd.exports=Pg()),Wd.exports}var t=Ig(),Yd={exports:{}},zo={},Fd={exports:{}},Vd={};var qm;function _g(){return qm||(qm=1,(function(r){function s(W,ce){var fe=W.length;W.push(ce);e:for(;0<fe;){var lt=fe-1>>>1,Ge=W[lt];if(0<f(Ge,ce))W[lt]=ce,W[fe]=Ge,fe=lt;else break e}}function u(W){return W.length===0?null:W[0]}function c(W){if(W.length===0)return null;var ce=W[0],fe=W.pop();if(fe!==ce){W[0]=fe;e:for(var lt=0,Ge=W.length,Rt=Ge>>>1;lt<Rt;){var We=2*(lt+1)-1,be=W[We],Ze=We+1,_t=W[Ze];if(0>f(be,fe))Ze<Ge&&0>f(_t,be)?(W[lt]=_t,W[Ze]=fe,lt=Ze):(W[lt]=be,W[We]=fe,lt=We);else if(Ze<Ge&&0>f(_t,fe))W[lt]=_t,W[Ze]=fe,lt=Ze;else break e}}return ce}function f(W,ce){var fe=W.sortIndex-ce.sortIndex;return fe!==0?fe:W.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;r.unstable_now=function(){return g.now()}}else{var x=Date,y=x.now();r.unstable_now=function(){return x.now()-y}}var w=[],j=[],C=1,U=null,A=3,re=!1,P=!1,K=!1,G=!1,se=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var ce=u(j);ce!==null;){if(ce.callback===null)c(j);else if(ce.startTime<=W)c(j),ce.sortIndex=ce.expirationTime,s(w,ce);else break;ce=u(j)}}function B(W){if(K=!1,oe(W),!P)if(u(w)!==null)P=!0,$e||($e=!0,he());else{var ce=u(j);ce!==null&&Fe(B,ce.startTime-W)}}var $e=!1,ht=-1,$=5,ue=-1;function I(){return G?!0:!(r.unstable_now()-ue<$)}function at(){if(G=!1,$e){var W=r.unstable_now();ue=W;var ce=!0;try{e:{P=!1,K&&(K=!1,E(ht),ht=-1),re=!0;var fe=A;try{t:{for(oe(W),U=u(w);U!==null&&!(U.expirationTime>W&&I());){var lt=U.callback;if(typeof lt=="function"){U.callback=null,A=U.priorityLevel;var Ge=lt(U.expirationTime<=W);if(W=r.unstable_now(),typeof Ge=="function"){U.callback=Ge,oe(W),ce=!0;break t}U===u(w)&&c(w),oe(W)}else c(w);U=u(w)}if(U!==null)ce=!0;else{var Rt=u(j);Rt!==null&&Fe(B,Rt.startTime-W),ce=!1}}break e}finally{U=null,A=fe,re=!1}ce=void 0}}finally{ce?he():$e=!1}}}var he;if(typeof le=="function")he=function(){le(at)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,wt=ct.port2;ct.port1.onmessage=at,he=function(){wt.postMessage(null)}}else he=function(){se(at,0)};function Fe(W,ce){ht=se(function(){W(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(W){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var fe=A;A=ce;try{return W()}finally{A=fe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var fe=A;A=W;try{return ce()}finally{A=fe}},r.unstable_scheduleCallback=function(W,ce,fe){var lt=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?lt+fe:lt):fe=lt,W){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=fe+Ge,W={id:C++,callback:ce,priorityLevel:W,startTime:fe,expirationTime:Ge,sortIndex:-1},fe>lt?(W.sortIndex=fe,s(j,W),u(w)===null&&W===u(j)&&(K?(E(ht),ht=-1):K=!0,Fe(B,fe-lt))):(W.sortIndex=Ge,s(w,W),P||re||(P=!0,$e||($e=!0,he()))),W},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(W){var ce=A;return function(){var fe=A;A=ce;try{return W.apply(this,arguments)}finally{A=fe}}}})(Vd)),Vd}var Gm;function qg(){return Gm||(Gm=1,Fd.exports=_g()),Fd.exports}var Wm;function Gg(){if(Wm)return zo;Wm=1;var r=qg(),s=fg(),u=gg();function c(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function x(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function w(e){if(g(e)!==e)throw Error(c(188))}function j(e){var n=e.alternate;if(!n){if(n=g(e),n===null)throw Error(c(188));return n!==e?null:e}for(var i=e,a=n;;){var l=i.return;if(l===null)break;var o=l.alternate;if(o===null){if(a=l.return,a!==null){i=a;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===i)return w(l),e;if(o===a)return w(l),n;o=o.sibling}throw Error(c(188))}if(i.return!==a.return)i=l,a=o;else{for(var d=!1,p=l.child;p;){if(p===i){d=!0,i=l,a=o;break}if(p===a){d=!0,a=l,i=o;break}p=p.sibling}if(!d){for(p=o.child;p;){if(p===i){d=!0,i=o,a=l;break}if(p===a){d=!0,a=o,i=l;break}p=p.sibling}if(!d)throw Error(c(189))}}if(i.alternate!==a)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:n}function C(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=C(e),n!==null)return n;e=e.sibling}return null}var U=Object.assign,A=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),le=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Symbol.for("react.client.reference");function wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case se:return"Profiler";case G:return"StrictMode";case B:return"Suspense";case $e:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case le:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ht:return n=e.displayName||null,n!==null?n:wt(e.type)||"Memo";case $:n=e._payload,e=e._init;try{return wt(e(n))}catch{}}return null}var Fe=Array.isArray,W=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},lt=[],Ge=-1;function Rt(e){return{current:e}}function We(e){0>Ge||(e.current=lt[Ge],lt[Ge]=null,Ge--)}function be(e,n){Ge++,lt[Ge]=e.current,e.current=n}var Ze=Rt(null),_t=Rt(null),kt=Rt(null),Et=Rt(null);function Cn(e,n){switch(be(kt,n),be(_t,e),be(Ze,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?om(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=om(n),e=rm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}We(Ze),be(Ze,e)}function Dt(){We(Ze),We(_t),We(kt)}function an(e){e.memoizedState!==null&&be(Et,e);var n=Ze.current,i=rm(n,e.type);n!==i&&(be(_t,e),be(Ze,i))}function Nt(e){_t.current===e&&(We(Ze),We(_t)),Et.current===e&&(We(Et),wo._currentValue=fe)}var gn,xt;function k(e){if(gn===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);gn=n&&n[1]||"",xt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gn+e+xt}var we=!1;function xe(e,n){if(!e||we)return"";we=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(_){var L=_}Reflect.construct(e,[],te)}else{try{te.call()}catch(_){L=_}e.call(te.prototype)}}else{try{throw Error()}catch(_){L=_}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(_){if(_&&L&&typeof _.stack=="string")return[_.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),d=o[0],p=o[1];if(d&&p){var S=d.split(`
`),H=p.split(`
`);for(l=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;if(a===S.length||l===H.length)for(a=S.length-1,l=H.length-1;1<=a&&0<=l&&S[a]!==H[l];)l--;for(;1<=a&&0<=l;a--,l--)if(S[a]!==H[l]){if(a!==1||l!==1)do if(a--,l--,0>l||S[a]!==H[l]){var V=`
`+S[a].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=a&&0<=l);break}}}finally{we=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?k(i):""}function Le(e,n){switch(e.tag){case 26:case 27:case 5:return k(e.type);case 16:return k("Lazy");case 13:return e.child!==n&&n!==null?k("Suspense Fallback"):k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return xe(e.type,!1);case 11:return xe(e.type.render,!1);case 1:return xe(e.type,!0);case 31:return k("Activity");default:return""}}function Ie(e){try{var n="",i=null;do n+=Le(e,i),i=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var An=Object.prototype.hasOwnProperty,qn=r.unstable_scheduleCallback,me=r.unstable_cancelCallback,yn=r.unstable_shouldYield,ki=r.unstable_requestPaint,Mt=r.unstable_now,Qt=r.unstable_getCurrentPriorityLevel,Vn=r.unstable_ImmediatePriority,ft=r.unstable_UserBlockingPriority,Qn=r.unstable_NormalPriority,Ht=r.unstable_LowPriority,rn=r.unstable_IdlePriority,N=r.log,J=r.unstable_setDisableYieldValue,ve=null,je=null;function ge(e){if(typeof N=="function"&&J(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ve,e)}catch{}}var Te=Math.clz32?Math.clz32:sn,bt=Math.log,Mn=Math.LN2;function sn(e){return e>>>=0,e===0?32:31-(bt(e)/Mn|0)|0}var Gn=256,Tt=262144,ln=4194304;function xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bn(e,n,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=a&134217727;return p!==0?(a=p&~o,a!==0?l=xn(a):(d&=p,d!==0?l=xn(d):i||(i=p&~e,i!==0&&(l=xn(i))))):(p=a&~o,p!==0?l=xn(p):d!==0?l=xn(d):i||(i=a&~e,i!==0&&(l=xn(i)))),l===0?0:n!==0&&n!==l&&(n&o)===0&&(o=l&-l,i=n&-n,o>=i||o===32&&(i&4194048)!==0)?n:l}function Ve(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ni(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var e=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),e}function Xt(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ut(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xe(e,n,i,a,l,o){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,S=e.expirationTimes,H=e.hiddenUpdates;for(i=d&~i;0<i;){var V=31-Te(i),te=1<<V;p[V]=0,S[V]=-1;var L=H[V];if(L!==null)for(H[V]=null,V=0;V<L.length;V++){var _=L[V];_!==null&&(_.lane&=-536870913)}i&=~te}a!==0&&D(e,a,0),o!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~n))}function D(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-Te(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function O(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Te(i),l=1<<a;l&n|e[a]&n&&(e[a]|=n),i&=~l}}function q(e,n){var i=n&-n;return i=(i&42)!==0?1:ne(i),(i&(e.suspendedLanes|n))!==0?0:i}function ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ke(){var e=ce.p;return e!==0?e:(e=window.event,e===void 0?32:Rm(e.type))}function vt(e,n){var i=ce.p;try{return ce.p=e,n()}finally{ce.p=i}}var _e=Math.random().toString(36).slice(2),Ne="__reactFiber$"+_e,Kt="__reactProps$"+_e,Si="__reactContainer$"+_e,Qe="__reactEvents$"+_e,Wn="__reactListeners$"+_e,yt="__reactHandles$"+_e,Xn="__reactResources$"+_e,Kn="__reactMarker$"+_e;function Ei(e){delete e[Ne],delete e[Kt],delete e[Qe],delete e[Wn],delete e[yt]}function _i(e){var n=e[Ne];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Si]||i[Ne]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=hm(e);e!==null;){if(i=e[Ne])return i;e=hm(e)}return n}e=i,i=e.parentNode}return null}function qi(e){if(e=e[Ne]||e[Si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ki(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(c(33))}function Ni(e){var n=e[Xn];return n||(n=e[Xn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function on(e){e[Kn]=!0}var _a=new Set,ga={};function Mi(e,n){Gi(e,n),Gi(e+"Capture",n)}function Gi(e,n){for(ga[e]=n,e=0;e<n.length;e++)_a.add(n[e])}var ee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),v={},ae={};function Pe(e){return An.call(ae,e)?!0:An.call(v,e)?!1:ee.test(e)?ae[e]=!0:(v[e]=!0,!1)}function Ot(e,n,i){if(Pe(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Zt(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function qt(e,n,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+a)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function h(e,n,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,o=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(d){i=""+d,o.call(this,d)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function T(e){if(!e._valueTracker){var n=F(e)?"checked":"value";e._valueTracker=h(e,n,""+e[n])}}function Q(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=F(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ie=/[\n"\\]/g;function ye(e){return e.replace(ie,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ue(e,n,i,a,l,o,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ct(n)):e.value!==""+Ct(n)&&(e.value=""+Ct(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?rt(e,d,Ct(n)):i!=null?rt(e,d,Ct(i)):a!=null&&e.removeAttribute("value"),l==null&&o!=null&&(e.defaultChecked=!!o),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Ct(p):e.removeAttribute("name")}function qe(e,n,i,a,l,o,d,p){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),n!=null||i!=null){if(!(o!=="submit"&&o!=="reset"||n!=null)){T(e);return}i=i!=null?""+Ct(i):"",n=n!=null?""+Ct(n):i,p||n===e.value||(e.value=n),e.defaultValue=n}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=p?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),T(e)}function rt(e,n,i){n==="number"&&pe(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function et(e,n,i,a){if(e=e.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=n.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Ct(i),n=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function Me(e,n,i){if(n!=null&&(n=""+Ct(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ct(i):""}function tt(e,n,i,a){if(n==null){if(a!=null){if(i!=null)throw Error(c(92));if(Fe(a)){if(1<a.length)throw Error(c(93));a=a[0]}i=a}i==null&&(i=""),n=i}i=Ct(n),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),T(e)}function ot(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var un=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jt(e,n,i){var a=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,i):typeof i!="number"||i===0||un.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Dn(e,n,i){if(n!=null&&typeof n!="object")throw Error(c(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in n)a=n[l],n.hasOwnProperty(l)&&i[l]!==a&&Jt(e,l,a)}else for(var o in n)n.hasOwnProperty(o)&&Jt(e,o,n[o])}function Rn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(e){return Yn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var En=null;function ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,Zn=null;function pn(e){var n=qi(e);if(n&&(e=n.stateNode)){var i=e[Kt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ue(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ye(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var l=a[Kt]||null;if(!l)throw Error(c(90));Ue(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(n=0;n<i.length;n++)a=i[n],a.form===e.form&&Q(a)}break e;case"textarea":Me(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&et(e,!!i.multiple,n,!1)}}}var mi=!1;function ll(e,n,i){if(mi)return e(n,i);mi=!0;try{var a=e(n);return a}finally{if(mi=!1,(pi!==null||Zn!==null)&&(fr(),pi&&(n=pi,e=Zn,Zn=pi=null,pn(n),e)))for(n=0;n<e.length;n++)pn(e[n])}}function Hi(e,n){var i=e.stateNode;if(i===null)return null;var a=i[Kt]||null;if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,n,typeof i));return i}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(Jn)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Zi=!1}var Ui=null,ol=null,qa=null;function ko(){if(qa)return qa;var e,n=ol,i=n.length,a,l="value"in Ui?Ui.value:Ui.textContent,o=l.length;for(e=0;e<i&&n[e]===l[e];e++);var d=i-e;for(a=1;a<=d&&n[i-a]===l[o-a];a++);return qa=l.slice(e,1<a?1-a:void 0)}function ya(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function sl(){return!1}function Un(e){function n(i,a,l,o,d){this._reactName=i,this._targetInst=l,this.type=a,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rl:sl,this.isPropagationStopped=sl,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ye=Un(Yi),bn=U({},Yi,{view:0,detail:0}),Eo=Un(bn),Fr,Vr,ql,No=U({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ql&&(ql&&e.type==="mousemove"?(Fr=e.screenX-ql.screenX,Vr=e.screenY-ql.screenY):Vr=Fr=0,ql=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),dc=Un(No),mh=U({},No,{dataTransfer:0}),hh=Un(mh),fh=U({},bn,{relatedTarget:0}),Qr=Un(fh),gh=U({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),yh=Un(gh),xh=U({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bh=Un(xh),vh=U({},Yi,{data:0}),cc=Un(vh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wh[e])?!!n[e]:!1}function Xr(){return Ch}var Ah=U({},bn,{key:function(e){if(e.key){var n=jh[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dh=Un(Ah),Th=U({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=Un(Th),zh=U({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Bh=Un(zh),Rh=U({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=Un(Rh),Eh=U({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nh=Un(Eh),Mh=U({},Yi,{newState:0,oldState:0}),Hh=Un(Mh),Uh=[9,13,27,32],Kr=Jn&&"CompositionEvent"in window,Gl=null;Jn&&"documentMode"in document&&(Gl=document.documentMode);var Oh=Jn&&"TextEvent"in window&&!Gl,pc=Jn&&(!Kr||Gl&&8<Gl&&11>=Gl),mc=" ",hc=!1;function fc(e,n){switch(e){case"keyup":return Uh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dl=!1;function Lh(e,n){switch(e){case"compositionend":return gc(n);case"keypress":return n.which!==32?null:(hc=!0,mc);case"textInput":return e=n.data,e===mc&&hc?null:e;default:return null}}function Ph(e,n){if(dl)return e==="compositionend"||!Kr&&fc(e,n)?(e=ko(),qa=ol=Ui=null,dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pc&&n.locale!=="ko"?null:n.data;default:return null}}var Ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ih[e.type]:n==="textarea"}function xc(e,n,i,a){pi?Zn?Zn.push(a):Zn=[a]:pi=a,n=Sr(n,"onChange"),0<n.length&&(i=new Ye("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Wl=null,Yl=null;function _h(e){em(e,0)}function Mo(e){var n=Ki(e);if(Q(n))return e}function bc(e,n){if(e==="change")return n}var vc=!1;if(Jn){var Zr;if(Jn){var Jr="oninput"in document;if(!Jr){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Jr=typeof jc.oninput=="function"}Zr=Jr}else Zr=!1;vc=Zr&&(!document.documentMode||9<document.documentMode)}function Sc(){Wl&&(Wl.detachEvent("onpropertychange",wc),Yl=Wl=null)}function wc(e){if(e.propertyName==="value"&&Mo(Yl)){var n=[];xc(n,Yl,e,ii(e)),ll(_h,n)}}function qh(e,n,i){e==="focusin"?(Sc(),Wl=n,Yl=i,Wl.attachEvent("onpropertychange",wc)):e==="focusout"&&Sc()}function Gh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mo(Yl)}function Wh(e,n){if(e==="click")return Mo(n)}function Yh(e,n){if(e==="input"||e==="change")return Mo(n)}function Fh(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hi=typeof Object.is=="function"?Object.is:Fh;function Fl(e,n){if(hi(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var l=i[a];if(!An.call(n,l)||!hi(e[l],n[l]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,n){var i=Cc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Cc(i)}}function Dc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pe(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=pe(e.document)}return n}function $r(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Vh=Jn&&"documentMode"in document&&11>=document.documentMode,cl=null,es=null,Vl=null,ts=!1;function zc(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ts||cl==null||cl!==pe(a)||(a=cl,"selectionStart"in a&&$r(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Vl&&Fl(Vl,a)||(Vl=a,a=Sr(es,"onSelect"),0<a.length&&(n=new Ye("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=cl)))}function Ga(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ul={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},ns={},Bc={};Jn&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Wa(e){if(ns[e])return ns[e];if(!ul[e])return e;var n=ul[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Bc)return ns[e]=n[i];return e}var Rc=Wa("animationend"),kc=Wa("animationiteration"),Ec=Wa("animationstart"),Qh=Wa("transitionrun"),Xh=Wa("transitionstart"),Kh=Wa("transitioncancel"),Nc=Wa("transitionend"),Mc=new Map,is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");is.push("scrollEnd");function Oi(e,n){Mc.set(e,n),Mi(n,[e])}var Ho=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wi=[],pl=0,as=0;function Uo(){for(var e=pl,n=as=pl=0;n<e;){var i=wi[n];wi[n++]=null;var a=wi[n];wi[n++]=null;var l=wi[n];wi[n++]=null;var o=wi[n];if(wi[n++]=null,a!==null&&l!==null){var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}o!==0&&Hc(i,l,o)}}function Oo(e,n,i,a){wi[pl++]=e,wi[pl++]=n,wi[pl++]=i,wi[pl++]=a,as|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ls(e,n,i,a){return Oo(e,n,i,a),Lo(e)}function Ya(e,n){return Oo(e,null,null,n),Lo(e)}function Hc(e,n,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var l=!1,o=e.return;o!==null;)o.childLanes|=i,a=o.alternate,a!==null&&(a.childLanes|=i),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(l=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,l&&n!==null&&(l=31-Te(i),e=o.hiddenUpdates,a=e[l],a===null?e[l]=[n]:a.push(n),n.lane=i|536870912),o):null}function Lo(e){if(50<go)throw go=0,hd=null,Error(c(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ml={};function Zh(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,n,i,a){return new Zh(e,n,i,a)}function os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,n){var i=e.alternate;return i===null?(i=fi(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Uc(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Po(e,n,i,a,l,o){var d=0;if(a=e,typeof e=="function")os(e)&&(d=1);else if(typeof e=="string")d=ig(e,i,Ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=fi(31,i,n,l),e.elementType=ue,e.lanes=o,e;case K:return Fa(i.children,l,o,n);case G:d=8,l|=24;break;case se:return e=fi(12,i,n,l|2),e.elementType=se,e.lanes=o,e;case B:return e=fi(13,i,n,l),e.elementType=B,e.lanes=o,e;case $e:return e=fi(19,i,n,l),e.elementType=$e,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:d=10;break e;case E:d=9;break e;case oe:d=11;break e;case ht:d=14;break e;case $:d=16,a=null;break e}d=29,i=Error(c(130,e===null?"null":typeof e,"")),a=null}return n=fi(d,i,n,l),n.elementType=e,n.type=a,n.lanes=o,n}function Fa(e,n,i,a){return e=fi(7,e,a,n),e.lanes=i,e}function rs(e,n,i){return e=fi(6,e,null,n),e.lanes=i,e}function Oc(e){var n=fi(18,null,null,0);return n.stateNode=e,n}function ss(e,n,i){return n=fi(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lc=new WeakMap;function Ci(e,n){if(typeof e=="object"&&e!==null){var i=Lc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ie(n)},Lc.set(e,n),n)}return{value:e,source:n,stack:Ie(n)}}var hl=[],fl=0,Io=null,Ql=0,Ai=[],Di=0,xa=null,Fi=1,Vi="";function $i(e,n){hl[fl++]=Ql,hl[fl++]=Io,Io=e,Ql=n}function Pc(e,n,i){Ai[Di++]=Fi,Ai[Di++]=Vi,Ai[Di++]=xa,xa=e;var a=Fi;e=Vi;var l=32-Te(a)-1;a&=~(1<<l),i+=1;var o=32-Te(n)+l;if(30<o){var d=l-l%5;o=(a&(1<<d)-1).toString(32),a>>=d,l-=d,Fi=1<<32-Te(n)+l|i<<l|a,Vi=o+e}else Fi=1<<o|i<<l|a,Vi=e}function ds(e){e.return!==null&&($i(e,1),Pc(e,1,0))}function cs(e){for(;e===Io;)Io=hl[--fl],hl[fl]=null,Ql=hl[--fl],hl[fl]=null;for(;e===xa;)xa=Ai[--Di],Ai[Di]=null,Vi=Ai[--Di],Ai[Di]=null,Fi=Ai[--Di],Ai[Di]=null}function Ic(e,n){Ai[Di++]=Fi,Ai[Di++]=Vi,Ai[Di++]=xa,Fi=n.id,Vi=n.overflow,xa=e}var On=null,$t=null,mt=!1,ba=null,Ti=!1,us=Error(c(519));function va(e){var n=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Ci(n,e)),us}function _c(e){var n=e.stateNode,i=e.type,a=e.memoizedProps;switch(n[Ne]=e,n[Kt]=a,i){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(i=0;i<xo.length;i++)dt(xo[i],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":dt("invalid",n),qe(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":dt("invalid",n);break;case"textarea":dt("invalid",n),tt(n,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||a.suppressHydrationWarning===!0||am(n.textContent,i)?(a.popover!=null&&(dt("beforetoggle",n),dt("toggle",n)),a.onScroll!=null&&dt("scroll",n),a.onScrollEnd!=null&&dt("scrollend",n),a.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||va(e,!0)}function qc(e){for(On=e.return;On;)switch(On.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:On=On.return}}function gl(e){if(e!==On)return!1;if(!mt)return qc(e),mt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Bd(e.type,e.memoizedProps)),i=!i),i&&$t&&va(e),qc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));$t=mm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));$t=mm(e)}else n===27?(n=$t,Ma(e.type)?(e=Md,Md=null,$t=e):$t=n):$t=On?Bi(e.stateNode.nextSibling):null;return!0}function Va(){$t=On=null,mt=!1}function ps(){var e=ba;return e!==null&&(ri===null?ri=e:ri.push.apply(ri,e),ba=null),e}function Xl(e){ba===null?ba=[e]:ba.push(e)}var ms=Rt(null),Qa=null,ea=null;function ja(e,n,i){be(ms,n._currentValue),n._currentValue=i}function ta(e){e._currentValue=ms.current,We(ms)}function hs(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function fs(e,n,i,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var o=l.dependencies;if(o!==null){var d=l.child;o=o.firstContext;e:for(;o!==null;){var p=o;o=l;for(var S=0;S<n.length;S++)if(p.context===n[S]){o.lanes|=i,p=o.alternate,p!==null&&(p.lanes|=i),hs(o.return,i,e),a||(d=null);break e}o=p.next}}else if(l.tag===18){if(d=l.return,d===null)throw Error(c(341));d.lanes|=i,o=d.alternate,o!==null&&(o.lanes|=i),hs(d,i,e),d=null}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===e){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}}function yl(e,n,i,a){e=null;for(var l=n,o=!1;l!==null;){if(!o){if((l.flags&524288)!==0)o=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var d=l.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var p=l.type;hi(l.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(l===Et.current){if(d=l.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(wo):e=[wo])}l=l.return}e!==null&&fs(n,e,i,a),n.flags|=262144}function _o(e){for(e=e.firstContext;e!==null;){if(!hi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xa(e){Qa=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ln(e){return Gc(Qa,e)}function qo(e,n){return Qa===null&&Xa(e),Gc(e,n)}function Gc(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ea===null){if(e===null)throw Error(c(308));ea=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ea=ea.next=n;return i}var Jh=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},$h=r.unstable_scheduleCallback,ef=r.unstable_NormalPriority,vn={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gs(){return{controller:new Jh,data:new Map,refCount:0}}function Kl(e){e.refCount--,e.refCount===0&&$h(ef,function(){e.controller.abort()})}var Zl=null,ys=0,xl=0,bl=null;function tf(e,n){if(Zl===null){var i=Zl=[];ys=0,xl=vd(),bl={status:"pending",value:void 0,then:function(a){i.push(a)}}}return ys++,n.then(Wc,Wc),n}function Wc(){if(--ys===0&&Zl!==null){bl!==null&&(bl.status="fulfilled");var e=Zl;Zl=null,xl=0,bl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nf(e,n){var i=[],a={status:"pending",value:null,reason:null,then:function(l){i.push(l)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var l=0;l<i.length;l++)(0,i[l])(n)},function(l){for(a.status="rejected",a.reason=l,l=0;l<i.length;l++)(0,i[l])(void 0)}),a}var Yc=W.S;W.S=function(e,n){zp=Mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&tf(e,n),Yc!==null&&Yc(e,n)};var Ka=Rt(null);function xs(){var e=Ka.current;return e!==null?e:Gt.pooledCache}function Go(e,n){n===null?be(Ka,Ka.current):be(Ka,n.pool)}function Fc(){var e=xs();return e===null?null:{parent:vn._currentValue,pool:e}}var vl=Error(c(460)),bs=Error(c(474)),Wo=Error(c(542)),Yo={then:function(){}};function Vc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qc(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Hn,Hn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kc(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var l=n;l.status="fulfilled",l.value=a}},function(a){if(n.status==="pending"){var l=n;l.status="rejected",l.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kc(e),e}throw Ja=n,vl}}function Za(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ja=i,vl):i}}var Ja=null;function Xc(){if(Ja===null)throw Error(c(459));var e=Ja;return Ja=null,e}function Kc(e){if(e===vl||e===Wo)throw Error(c(483))}var jl=null,Jl=0;function Fo(e){var n=Jl;return Jl+=1,jl===null&&(jl=[]),Qc(jl,e,n)}function $l(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vo(e,n){throw n.$$typeof===A?Error(c(525)):(e=Object.prototype.toString.call(n),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zc(e){function n(R,z){if(e){var M=R.deletions;M===null?(R.deletions=[z],R.flags|=16):M.push(z)}}function i(R,z){if(!e)return null;for(;z!==null;)n(R,z),z=z.sibling;return null}function a(R){for(var z=new Map;R!==null;)R.key!==null?z.set(R.key,R):z.set(R.index,R),R=R.sibling;return z}function l(R,z){return R=Ji(R,z),R.index=0,R.sibling=null,R}function o(R,z,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<z?(R.flags|=67108866,z):M):(R.flags|=67108866,z)):(R.flags|=1048576,z)}function d(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function p(R,z,M,Z){return z===null||z.tag!==6?(z=rs(M,R.mode,Z),z.return=R,z):(z=l(z,M),z.return=R,z)}function S(R,z,M,Z){var Ee=M.type;return Ee===K?V(R,z,M.props.children,Z,M.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===$&&Za(Ee)===z.type)?(z=l(z,M.props),$l(z,M),z.return=R,z):(z=Po(M.type,M.key,M.props,null,R.mode,Z),$l(z,M),z.return=R,z)}function H(R,z,M,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==M.containerInfo||z.stateNode.implementation!==M.implementation?(z=ss(M,R.mode,Z),z.return=R,z):(z=l(z,M.children||[]),z.return=R,z)}function V(R,z,M,Z,Ee){return z===null||z.tag!==7?(z=Fa(M,R.mode,Z,Ee),z.return=R,z):(z=l(z,M),z.return=R,z)}function te(R,z,M){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=rs(""+z,R.mode,M),z.return=R,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case re:return M=Po(z.type,z.key,z.props,null,R.mode,M),$l(M,z),M.return=R,M;case P:return z=ss(z,R.mode,M),z.return=R,z;case $:return z=Za(z),te(R,z,M)}if(Fe(z)||he(z))return z=Fa(z,R.mode,M,null),z.return=R,z;if(typeof z.then=="function")return te(R,Fo(z),M);if(z.$$typeof===le)return te(R,qo(R,z),M);Vo(R,z)}return null}function L(R,z,M,Z){var Ee=z!==null?z.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return Ee!==null?null:p(R,z,""+M,Z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case re:return M.key===Ee?S(R,z,M,Z):null;case P:return M.key===Ee?H(R,z,M,Z):null;case $:return M=Za(M),L(R,z,M,Z)}if(Fe(M)||he(M))return Ee!==null?null:V(R,z,M,Z,null);if(typeof M.then=="function")return L(R,z,Fo(M),Z);if(M.$$typeof===le)return L(R,z,qo(R,M),Z);Vo(R,M)}return null}function _(R,z,M,Z,Ee){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return R=R.get(M)||null,p(z,R,""+Z,Ee);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case re:return R=R.get(Z.key===null?M:Z.key)||null,S(z,R,Z,Ee);case P:return R=R.get(Z.key===null?M:Z.key)||null,H(z,R,Z,Ee);case $:return Z=Za(Z),_(R,z,M,Z,Ee)}if(Fe(Z)||he(Z))return R=R.get(M)||null,V(z,R,Z,Ee,null);if(typeof Z.then=="function")return _(R,z,M,Fo(Z),Ee);if(Z.$$typeof===le)return _(R,z,M,qo(z,Z),Ee);Vo(z,Z)}return null}function Ce(R,z,M,Z){for(var Ee=null,jt=null,ze=z,Je=z=0,pt=null;ze!==null&&Je<M.length;Je++){ze.index>Je?(pt=ze,ze=null):pt=ze.sibling;var St=L(R,ze,M[Je],Z);if(St===null){ze===null&&(ze=pt);break}e&&ze&&St.alternate===null&&n(R,ze),z=o(St,z,Je),jt===null?Ee=St:jt.sibling=St,jt=St,ze=pt}if(Je===M.length)return i(R,ze),mt&&$i(R,Je),Ee;if(ze===null){for(;Je<M.length;Je++)ze=te(R,M[Je],Z),ze!==null&&(z=o(ze,z,Je),jt===null?Ee=ze:jt.sibling=ze,jt=ze);return mt&&$i(R,Je),Ee}for(ze=a(ze);Je<M.length;Je++)pt=_(ze,R,Je,M[Je],Z),pt!==null&&(e&&pt.alternate!==null&&ze.delete(pt.key===null?Je:pt.key),z=o(pt,z,Je),jt===null?Ee=pt:jt.sibling=pt,jt=pt);return e&&ze.forEach(function(Pa){return n(R,Pa)}),mt&&$i(R,Je),Ee}function Oe(R,z,M,Z){if(M==null)throw Error(c(151));for(var Ee=null,jt=null,ze=z,Je=z=0,pt=null,St=M.next();ze!==null&&!St.done;Je++,St=M.next()){ze.index>Je?(pt=ze,ze=null):pt=ze.sibling;var Pa=L(R,ze,St.value,Z);if(Pa===null){ze===null&&(ze=pt);break}e&&ze&&Pa.alternate===null&&n(R,ze),z=o(Pa,z,Je),jt===null?Ee=Pa:jt.sibling=Pa,jt=Pa,ze=pt}if(St.done)return i(R,ze),mt&&$i(R,Je),Ee;if(ze===null){for(;!St.done;Je++,St=M.next())St=te(R,St.value,Z),St!==null&&(z=o(St,z,Je),jt===null?Ee=St:jt.sibling=St,jt=St);return mt&&$i(R,Je),Ee}for(ze=a(ze);!St.done;Je++,St=M.next())St=_(ze,R,Je,St.value,Z),St!==null&&(e&&St.alternate!==null&&ze.delete(St.key===null?Je:St.key),z=o(St,z,Je),jt===null?Ee=St:jt.sibling=St,jt=St);return e&&ze.forEach(function(hg){return n(R,hg)}),mt&&$i(R,Je),Ee}function It(R,z,M,Z){if(typeof M=="object"&&M!==null&&M.type===K&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case re:e:{for(var Ee=M.key;z!==null;){if(z.key===Ee){if(Ee=M.type,Ee===K){if(z.tag===7){i(R,z.sibling),Z=l(z,M.props.children),Z.return=R,R=Z;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===$&&Za(Ee)===z.type){i(R,z.sibling),Z=l(z,M.props),$l(Z,M),Z.return=R,R=Z;break e}i(R,z);break}else n(R,z);z=z.sibling}M.type===K?(Z=Fa(M.props.children,R.mode,Z,M.key),Z.return=R,R=Z):(Z=Po(M.type,M.key,M.props,null,R.mode,Z),$l(Z,M),Z.return=R,R=Z)}return d(R);case P:e:{for(Ee=M.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===M.containerInfo&&z.stateNode.implementation===M.implementation){i(R,z.sibling),Z=l(z,M.children||[]),Z.return=R,R=Z;break e}else{i(R,z);break}else n(R,z);z=z.sibling}Z=ss(M,R.mode,Z),Z.return=R,R=Z}return d(R);case $:return M=Za(M),It(R,z,M,Z)}if(Fe(M))return Ce(R,z,M,Z);if(he(M)){if(Ee=he(M),typeof Ee!="function")throw Error(c(150));return M=Ee.call(M),Oe(R,z,M,Z)}if(typeof M.then=="function")return It(R,z,Fo(M),Z);if(M.$$typeof===le)return It(R,z,qo(R,M),Z);Vo(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,z!==null&&z.tag===6?(i(R,z.sibling),Z=l(z,M),Z.return=R,R=Z):(i(R,z),Z=rs(M,R.mode,Z),Z.return=R,R=Z),d(R)):i(R,z)}return function(R,z,M,Z){try{Jl=0;var Ee=It(R,z,M,Z);return jl=null,Ee}catch(ze){if(ze===vl||ze===Wo)throw ze;var jt=fi(29,ze,null,R.mode);return jt.lanes=Z,jt.return=R,jt}finally{}}}var $a=Zc(!0),Jc=Zc(!1),Sa=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function js(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(At&2)!==0){var l=a.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),a.pending=n,n=Lo(e),Hc(e,null,i),n}return Oo(e,a,n,i),Lo(e)}function eo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,O(e,i)}}function Ss(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var l=null,o=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};o===null?l=o=d:o=o.next=d,i=i.next}while(i!==null);o===null?l=o=n:o=o.next=n}else l=o=n;i={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var ws=!1;function to(){if(ws){var e=bl;if(e!==null)throw e}}function no(e,n,i,a){ws=!1;var l=e.updateQueue;Sa=!1;var o=l.firstBaseUpdate,d=l.lastBaseUpdate,p=l.shared.pending;if(p!==null){l.shared.pending=null;var S=p,H=S.next;S.next=null,d===null?o=H:d.next=H,d=S;var V=e.alternate;V!==null&&(V=V.updateQueue,p=V.lastBaseUpdate,p!==d&&(p===null?V.firstBaseUpdate=H:p.next=H,V.lastBaseUpdate=S))}if(o!==null){var te=l.baseState;d=0,V=H=S=null,p=o;do{var L=p.lane&-536870913,_=L!==p.lane;if(_?(ut&L)===L:(a&L)===L){L!==0&&L===xl&&(ws=!0),V!==null&&(V=V.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Ce=e,Oe=p;L=n;var It=i;switch(Oe.tag){case 1:if(Ce=Oe.payload,typeof Ce=="function"){te=Ce.call(It,te,L);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Oe.payload,L=typeof Ce=="function"?Ce.call(It,te,L):Ce,L==null)break e;te=U({},te,L);break e;case 2:Sa=!0}}L=p.callback,L!==null&&(e.flags|=64,_&&(e.flags|=8192),_=l.callbacks,_===null?l.callbacks=[L]:_.push(L))}else _={lane:L,tag:p.tag,payload:p.payload,callback:p.callback,next:null},V===null?(H=V=_,S=te):V=V.next=_,d|=L;if(p=p.next,p===null){if(p=l.shared.pending,p===null)break;_=p,p=_.next,_.next=null,l.lastBaseUpdate=_,l.shared.pending=null}}while(!0);V===null&&(S=te),l.baseState=S,l.firstBaseUpdate=H,l.lastBaseUpdate=V,o===null&&(l.shared.lanes=0),Ba|=d,e.lanes=d,e.memoizedState=te}}function $c(e,n){if(typeof e!="function")throw Error(c(191,e));e.call(n)}function eu(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)$c(i[e],n)}var Sl=Rt(null),Qo=Rt(0);function tu(e,n){e=ca,be(Qo,e),be(Sl,n),ca=e|n.baseLanes}function Cs(){be(Qo,ca),be(Sl,Sl.current)}function As(){ca=Qo.current,We(Sl),We(Qo)}var gi=Rt(null),zi=null;function Aa(e){var n=e.alternate;be(mn,mn.current&1),be(gi,e),zi===null&&(n===null||Sl.current!==null||n.memoizedState!==null)&&(zi=e)}function Ds(e){be(mn,mn.current),be(gi,e),zi===null&&(zi=e)}function nu(e){e.tag===22?(be(mn,mn.current),be(gi,e),zi===null&&(zi=e)):Da()}function Da(){be(mn,mn.current),be(gi,gi.current)}function yi(e){We(gi),zi===e&&(zi=null),We(mn)}var mn=Rt(0);function Xo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ed(i)||Nd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var na=0,Ke=null,Lt=null,jn=null,Ko=!1,wl=!1,el=!1,Zo=0,io=0,Cl=null,af=0;function dn(){throw Error(c(321))}function Ts(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!hi(e[i],n[i]))return!1;return!0}function zs(e,n,i,a,l,o){return na=o,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=e===null||e.memoizedState===null?Pu:Gs,el=!1,o=i(a,l),el=!1,wl&&(o=au(n,i,a,l)),iu(e),o}function iu(e){W.H=oo;var n=Lt!==null&&Lt.next!==null;if(na=0,jn=Lt=Ke=null,Ko=!1,io=0,Cl=null,n)throw Error(c(300));e===null||Sn||(e=e.dependencies,e!==null&&_o(e)&&(Sn=!0))}function au(e,n,i,a){Ke=e;var l=0;do{if(wl&&(Cl=null),io=0,wl=!1,25<=l)throw Error(c(301));if(l+=1,jn=Lt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=Iu,o=n(i,a)}while(wl);return o}function lf(){var e=W.H,n=e.useState()[0];return n=typeof n.then=="function"?ao(n):n,e=e.useState()[0],(Lt!==null?Lt.memoizedState:null)!==e&&(Ke.flags|=1024),n}function Bs(){var e=Zo!==0;return Zo=0,e}function Rs(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function ks(e){if(Ko){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ko=!1}na=0,jn=Lt=Ke=null,wl=!1,io=Zo=0,Cl=null}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Ke.memoizedState=jn=e:jn=jn.next=e,jn}function hn(){if(Lt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var n=jn===null?Ke.memoizedState:jn.next;if(n!==null)jn=n,Lt=e;else{if(e===null)throw Ke.alternate===null?Error(c(467)):Error(c(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},jn===null?Ke.memoizedState=jn=e:jn=jn.next=e}return jn}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(e){var n=io;return io+=1,Cl===null&&(Cl=[]),e=Qc(Cl,e,n),n=Ke,(jn===null?n.memoizedState:jn.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?Pu:Gs),e}function $o(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ao(e);if(e.$$typeof===le)return Ln(e)}throw Error(c(438,String(e)))}function Es(e){var n=null,i=Ke.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var a=Ke.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(l){return l.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Jo(),Ke.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),a=0;a<e;a++)i[a]=I;return n.index++,i}function ia(e,n){return typeof n=="function"?n(e):n}function er(e){var n=hn();return Ns(n,Lt,e)}function Ns(e,n,i){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=i;var l=e.baseQueue,o=a.pending;if(o!==null){if(l!==null){var d=l.next;l.next=o.next,o.next=d}n.baseQueue=l=o,a.pending=null}if(o=e.baseState,l===null)e.memoizedState=o;else{n=l.next;var p=d=null,S=null,H=n,V=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(ut&te)===te:(na&te)===te){var L=H.revertLane;if(L===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===xl&&(V=!0);else if((na&L)===L){H=H.next,L===xl&&(V=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},S===null?(p=S=te,d=o):S=S.next=te,Ke.lanes|=L,Ba|=L;te=H.action,el&&i(o,te),o=H.hasEagerState?H.eagerState:i(o,te)}else L={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},S===null?(p=S=L,d=o):S=S.next=L,Ke.lanes|=te,Ba|=te;H=H.next}while(H!==null&&H!==n);if(S===null?d=o:S.next=p,!hi(o,e.memoizedState)&&(Sn=!0,V&&(i=bl,i!==null)))throw i;e.memoizedState=o,e.baseState=d,e.baseQueue=S,a.lastRenderedState=o}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ms(e){var n=hn(),i=n.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var a=i.dispatch,l=i.pending,o=n.memoizedState;if(l!==null){i.pending=null;var d=l=l.next;do o=e(o,d.action),d=d.next;while(d!==l);hi(o,n.memoizedState)||(Sn=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),i.lastRenderedState=o}return[o,a]}function lu(e,n,i){var a=Ke,l=hn(),o=mt;if(o){if(i===void 0)throw Error(c(407));i=i()}else i=n();var d=!hi((Lt||l).memoizedState,i);if(d&&(l.memoizedState=i,Sn=!0),l=l.queue,Os(su.bind(null,a,l,e),[e]),l.getSnapshot!==n||d||jn!==null&&jn.memoizedState.tag&1){if(a.flags|=2048,Al(9,{destroy:void 0},ru.bind(null,a,l,i,n),null),Gt===null)throw Error(c(349));o||(na&127)!==0||ou(a,n,i)}return i}function ou(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ke.updateQueue,n===null?(n=Jo(),Ke.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function ru(e,n,i,a){n.value=i,n.getSnapshot=a,du(n)&&cu(e)}function su(e,n,i){return i(function(){du(n)&&cu(e)})}function du(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!hi(e,i)}catch{return!0}}function cu(e){var n=Ya(e,2);n!==null&&si(n,e,2)}function Hs(e){var n=$n();if(typeof e=="function"){var i=e;if(e=i(),el){ge(!0);try{i()}finally{ge(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},n}function uu(e,n,i,a){return e.baseState=i,Ns(e,Lt,typeof a=="function"?a:ia)}function of(e,n,i,a,l){if(ir(e))throw Error(c(485));if(e=n.action,e!==null){var o={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};W.T!==null?i(!0):o.isTransition=!1,a(o),i=n.pending,i===null?(o.next=n.pending=o,pu(n,o)):(o.next=i.next,n.pending=i.next=o)}}function pu(e,n){var i=n.action,a=n.payload,l=e.state;if(n.isTransition){var o=W.T,d={};W.T=d;try{var p=i(l,a),S=W.S;S!==null&&S(d,p),mu(e,n,p)}catch(H){Us(e,n,H)}finally{o!==null&&d.types!==null&&(o.types=d.types),W.T=o}}else try{o=i(l,a),mu(e,n,o)}catch(H){Us(e,n,H)}}function mu(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){hu(e,n,a)},function(a){return Us(e,n,a)}):hu(e,n,i)}function hu(e,n,i){n.status="fulfilled",n.value=i,fu(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,pu(e,i)))}function Us(e,n,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=i,fu(n),n=n.next;while(n!==a)}e.action=null}function fu(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gu(e,n){return n}function yu(e,n){if(mt){var i=Gt.formState;if(i!==null){e:{var a=Ke;if(mt){if($t){t:{for(var l=$t,o=Ti;l.nodeType!==8;){if(!o){l=null;break t}if(l=Bi(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){$t=Bi(l.nextSibling),a=l.data==="F!";break e}}va(a)}a=!1}a&&(n=i[0])}}return i=$n(),i.memoizedState=i.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:n},i.queue=a,i=Uu.bind(null,Ke,a),a.dispatch=i,a=Hs(!1),o=qs.bind(null,Ke,!1,a.queue),a=$n(),l={state:n,dispatch:null,action:e,pending:null},a.queue=l,i=of.bind(null,Ke,l,o,i),l.dispatch=i,a.memoizedState=e,[n,i,!1]}function xu(e){var n=hn();return bu(n,Lt,e)}function bu(e,n,i){if(n=Ns(e,n,gu)[0],e=er(ia)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=ao(n)}catch(d){throw d===vl?Wo:d}else a=n;n=hn();var l=n.queue,o=l.dispatch;return i!==n.memoizedState&&(Ke.flags|=2048,Al(9,{destroy:void 0},rf.bind(null,l,i),null)),[a,o,e]}function rf(e,n){e.action=n}function vu(e){var n=hn(),i=Lt;if(i!==null)return bu(n,i,e);hn(),n=n.memoizedState,i=hn();var a=i.queue.dispatch;return i.memoizedState=e,[n,a,!1]}function Al(e,n,i,a){return e={tag:e,create:i,deps:a,inst:n,next:null},n=Ke.updateQueue,n===null&&(n=Jo(),Ke.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e),e}function ju(){return hn().memoizedState}function tr(e,n,i,a){var l=$n();Ke.flags|=e,l.memoizedState=Al(1|n,{destroy:void 0},i,a===void 0?null:a)}function nr(e,n,i,a){var l=hn();a=a===void 0?null:a;var o=l.memoizedState.inst;Lt!==null&&a!==null&&Ts(a,Lt.memoizedState.deps)?l.memoizedState=Al(n,o,i,a):(Ke.flags|=e,l.memoizedState=Al(1|n,o,i,a))}function Su(e,n){tr(8390656,8,e,n)}function Os(e,n){nr(2048,8,e,n)}function sf(e){Ke.flags|=4;var n=Ke.updateQueue;if(n===null)n=Jo(),Ke.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function wu(e){var n=hn().memoizedState;return sf({ref:n,nextImpl:e}),function(){if((At&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}function Cu(e,n){return nr(4,2,e,n)}function Au(e,n){return nr(4,4,e,n)}function Du(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tu(e,n,i){i=i!=null?i.concat([e]):null,nr(4,4,Du.bind(null,n,e),i)}function Ls(){}function zu(e,n){var i=hn();n=n===void 0?null:n;var a=i.memoizedState;return n!==null&&Ts(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function Bu(e,n){var i=hn();n=n===void 0?null:n;var a=i.memoizedState;if(n!==null&&Ts(n,a[1]))return a[0];if(a=e(),el){ge(!0);try{e()}finally{ge(!1)}}return i.memoizedState=[a,n],a}function Ps(e,n,i){return i===void 0||(na&1073741824)!==0&&(ut&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Rp(),Ke.lanes|=e,Ba|=e,i)}function Ru(e,n,i,a){return hi(i,n)?i:Sl.current!==null?(e=Ps(e,i,a),hi(e,n)||(Sn=!0),e):(na&42)===0||(na&1073741824)!==0&&(ut&261930)===0?(Sn=!0,e.memoizedState=i):(e=Rp(),Ke.lanes|=e,Ba|=e,n)}function ku(e,n,i,a,l){var o=ce.p;ce.p=o!==0&&8>o?o:8;var d=W.T,p={};W.T=p,qs(e,!1,n,i);try{var S=l(),H=W.S;if(H!==null&&H(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var V=nf(S,a);lo(e,n,V,vi(e))}else lo(e,n,a,vi(e))}catch(te){lo(e,n,{then:function(){},status:"rejected",reason:te},vi())}finally{ce.p=o,d!==null&&p.types!==null&&(d.types=p.types),W.T=d}}function df(){}function Is(e,n,i,a){if(e.tag!==5)throw Error(c(476));var l=Eu(e).queue;ku(e,l,n,fe,i===null?df:function(){return Nu(e),i(a)})}function Eu(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:fe},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Nu(e){var n=Eu(e);n.next===null&&(n=e.alternate.memoizedState),lo(e,n.next.queue,{},vi())}function _s(){return Ln(wo)}function Mu(){return hn().memoizedState}function Hu(){return hn().memoizedState}function cf(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=vi();e=wa(i);var a=Ca(n,e,i);a!==null&&(si(a,n,i),eo(a,n,i)),n={cache:gs()},e.payload=n;return}n=n.return}}function uf(e,n,i){var a=vi();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ir(e)?Ou(n,i):(i=ls(e,n,i,a),i!==null&&(si(i,e,a),Lu(i,n,a)))}function Uu(e,n,i){var a=vi();lo(e,n,i,a)}function lo(e,n,i,a){var l={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ir(e))Ou(n,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var d=n.lastRenderedState,p=o(d,i);if(l.hasEagerState=!0,l.eagerState=p,hi(p,d))return Oo(e,n,l,0),Gt===null&&Uo(),!1}catch{}finally{}if(i=ls(e,n,l,a),i!==null)return si(i,e,a),Lu(i,n,a),!0}return!1}function qs(e,n,i,a){if(a={lane:2,revertLane:vd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ir(e)){if(n)throw Error(c(479))}else n=ls(e,i,a,2),n!==null&&si(n,e,2)}function ir(e){var n=e.alternate;return e===Ke||n!==null&&n===Ke}function Ou(e,n){wl=Ko=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Lu(e,n,i){if((i&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,O(e,i)}}var oo={readContext:Ln,use:$o,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};oo.useEffectEvent=dn;var Pu={readContext:Ln,use:$o,useCallback:function(e,n){return $n().memoizedState=[e,n===void 0?null:n],e},useContext:Ln,useEffect:Su,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,tr(4194308,4,Du.bind(null,n,e),i)},useLayoutEffect:function(e,n){return tr(4194308,4,e,n)},useInsertionEffect:function(e,n){tr(4,2,e,n)},useMemo:function(e,n){var i=$n();n=n===void 0?null:n;var a=e();if(el){ge(!0);try{e()}finally{ge(!1)}}return i.memoizedState=[a,n],a},useReducer:function(e,n,i){var a=$n();if(i!==void 0){var l=i(n);if(el){ge(!0);try{i(n)}finally{ge(!1)}}}else l=n;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=uf.bind(null,Ke,e),[a.memoizedState,e]},useRef:function(e){var n=$n();return e={current:e},n.memoizedState=e},useState:function(e){e=Hs(e);var n=e.queue,i=Uu.bind(null,Ke,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Ls,useDeferredValue:function(e,n){var i=$n();return Ps(i,e,n)},useTransition:function(){var e=Hs(!1);return e=ku.bind(null,Ke,e.queue,!0,!1),$n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var a=Ke,l=$n();if(mt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=n(),Gt===null)throw Error(c(349));(ut&127)!==0||ou(a,n,i)}l.memoizedState=i;var o={value:i,getSnapshot:n};return l.queue=o,Su(su.bind(null,a,o,e),[e]),a.flags|=2048,Al(9,{destroy:void 0},ru.bind(null,a,o,i,n),null),i},useId:function(){var e=$n(),n=Gt.identifierPrefix;if(mt){var i=Vi,a=Fi;i=(a&~(1<<32-Te(a)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Zo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=af++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_s,useFormState:yu,useActionState:yu,useOptimistic:function(e){var n=$n();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=qs.bind(null,Ke,!0,i),i.dispatch=n,[e,n]},useMemoCache:Es,useCacheRefresh:function(){return $n().memoizedState=cf.bind(null,Ke)},useEffectEvent:function(e){var n=$n(),i={impl:e};return n.memoizedState=i,function(){if((At&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},Gs={readContext:Ln,use:$o,useCallback:zu,useContext:Ln,useEffect:Os,useImperativeHandle:Tu,useInsertionEffect:Cu,useLayoutEffect:Au,useMemo:Bu,useReducer:er,useRef:ju,useState:function(){return er(ia)},useDebugValue:Ls,useDeferredValue:function(e,n){var i=hn();return Ru(i,Lt.memoizedState,e,n)},useTransition:function(){var e=er(ia)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:ao(e),n]},useSyncExternalStore:lu,useId:Mu,useHostTransitionStatus:_s,useFormState:xu,useActionState:xu,useOptimistic:function(e,n){var i=hn();return uu(i,Lt,e,n)},useMemoCache:Es,useCacheRefresh:Hu};Gs.useEffectEvent=wu;var Iu={readContext:Ln,use:$o,useCallback:zu,useContext:Ln,useEffect:Os,useImperativeHandle:Tu,useInsertionEffect:Cu,useLayoutEffect:Au,useMemo:Bu,useReducer:Ms,useRef:ju,useState:function(){return Ms(ia)},useDebugValue:Ls,useDeferredValue:function(e,n){var i=hn();return Lt===null?Ps(i,e,n):Ru(i,Lt.memoizedState,e,n)},useTransition:function(){var e=Ms(ia)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:ao(e),n]},useSyncExternalStore:lu,useId:Mu,useHostTransitionStatus:_s,useFormState:vu,useActionState:vu,useOptimistic:function(e,n){var i=hn();return Lt!==null?uu(i,Lt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Es,useCacheRefresh:Hu};Iu.useEffectEvent=wu;function Ws(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:U({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ys={enqueueSetState:function(e,n,i){e=e._reactInternals;var a=vi(),l=wa(a);l.payload=n,i!=null&&(l.callback=i),n=Ca(e,l,a),n!==null&&(si(n,e,a),eo(n,e,a))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=vi(),l=wa(a);l.tag=1,l.payload=n,i!=null&&(l.callback=i),n=Ca(e,l,a),n!==null&&(si(n,e,a),eo(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=vi(),a=wa(i);a.tag=2,n!=null&&(a.callback=n),n=Ca(e,a,i),n!==null&&(si(n,e,i),eo(n,e,i))}};function _u(e,n,i,a,l,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,d):n.prototype&&n.prototype.isPureReactComponent?!Fl(i,a)||!Fl(l,o):!0}function qu(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Ys.enqueueReplaceState(n,n.state,null)}function tl(e,n){var i=n;if("ref"in n){i={};for(var a in n)a!=="ref"&&(i[a]=n[a])}if(e=e.defaultProps){i===n&&(i=U({},i));for(var l in e)i[l]===void 0&&(i[l]=e[l])}return i}function Gu(e){Ho(e)}function Wu(e){console.error(e)}function Yu(e){Ho(e)}function ar(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function Fu(e,n,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Fs(e,n,i){return i=wa(i),i.tag=3,i.payload={element:null},i.callback=function(){ar(e,n)},i}function Vu(e){return e=wa(e),e.tag=3,e}function Qu(e,n,i,a){var l=i.type.getDerivedStateFromError;if(typeof l=="function"){var o=a.value;e.payload=function(){return l(o)},e.callback=function(){Fu(n,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Fu(n,i,a),typeof l!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var p=a.stack;this.componentDidCatch(a.value,{componentStack:p!==null?p:""})})}function pf(e,n,i,a,l){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=i.alternate,n!==null&&yl(n,i,l,!0),i=gi.current,i!==null){switch(i.tag){case 31:case 13:return zi===null?gr():i.alternate===null&&cn===0&&(cn=3),i.flags&=-257,i.flags|=65536,i.lanes=l,a===Yo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([a]):n.add(a),yd(e,a,l)),!1;case 22:return i.flags|=65536,a===Yo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([a]):i.add(a)),yd(e,a,l)),!1}throw Error(c(435,i.tag))}return yd(e,a,l),gr(),!1}if(mt)return n=gi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=l,a!==us&&(e=Error(c(422),{cause:a}),Xl(Ci(e,i)))):(a!==us&&(n=Error(c(423),{cause:a}),Xl(Ci(n,i))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Ci(a,i),l=Fs(e.stateNode,a,l),Ss(e,l),cn!==4&&(cn=2)),!1;var o=Error(c(520),{cause:a});if(o=Ci(o,i),fo===null?fo=[o]:fo.push(o),cn!==4&&(cn=2),n===null)return!0;a=Ci(a,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=l&-l,i.lanes|=e,e=Fs(i.stateNode,a,e),Ss(i,e),!1;case 1:if(n=i.type,o=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ra===null||!Ra.has(o))))return i.flags|=65536,l&=-l,i.lanes|=l,l=Vu(l),Qu(l,e,i,a),Ss(i,l),!1}i=i.return}while(i!==null);return!1}var Vs=Error(c(461)),Sn=!1;function Pn(e,n,i,a){n.child=e===null?Jc(n,null,i,a):$a(n,e.child,i,a)}function Xu(e,n,i,a,l){i=i.render;var o=n.ref;if("ref"in a){var d={};for(var p in a)p!=="ref"&&(d[p]=a[p])}else d=a;return Xa(n),a=zs(e,n,i,d,o,l),p=Bs(),e!==null&&!Sn?(Rs(e,n,l),aa(e,n,l)):(mt&&p&&ds(n),n.flags|=1,Pn(e,n,a,l),n.child)}function Ku(e,n,i,a,l){if(e===null){var o=i.type;return typeof o=="function"&&!os(o)&&o.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=o,Zu(e,n,o,a,l)):(e=Po(i.type,null,a,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(o=e.child,!td(e,l)){var d=o.memoizedProps;if(i=i.compare,i=i!==null?i:Fl,i(d,a)&&e.ref===n.ref)return aa(e,n,l)}return n.flags|=1,e=Ji(o,a),e.ref=n.ref,e.return=n,n.child=e}function Zu(e,n,i,a,l){if(e!==null){var o=e.memoizedProps;if(Fl(o,a)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=a=o,td(e,l))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,aa(e,n,l)}return Qs(e,n,i,a,l)}function Ju(e,n,i,a){var l=a.children,o=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(o=o!==null?o.baseLanes|i:i,e!==null){for(a=n.child=e.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~o}else a=0,n.child=null;return $u(e,n,o,i,a)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Go(n,o!==null?o.cachePool:null),o!==null?tu(n,o):Cs(),nu(n);else return a=n.lanes=536870912,$u(e,n,o!==null?o.baseLanes|i:i,i,a)}else o!==null?(Go(n,o.cachePool),tu(n,o),Da(),n.memoizedState=null):(e!==null&&Go(n,null),Cs(),Da());return Pn(e,n,l,i),n.child}function ro(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $u(e,n,i,a,l){var o=xs();return o=o===null?null:{parent:vn._currentValue,pool:o},n.memoizedState={baseLanes:i,cachePool:o},e!==null&&Go(n,null),Cs(),nu(n),e!==null&&yl(e,n,a,!0),n.childLanes=l,null}function lr(e,n){return n=rr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ep(e,n,i){return $a(n,e.child,null,i),e=lr(n,n.pendingProps),e.flags|=2,yi(n),n.memoizedState=null,e}function mf(e,n,i){var a=n.pendingProps,l=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(mt){if(a.mode==="hidden")return e=lr(n,a),n.lanes=536870912,ro(null,e);if(Ds(n),(e=$t)?(e=pm(e,Ti),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xa!==null?{id:Fi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},i=Oc(e),i.return=n,n.child=i,On=n,$t=null)):e=null,e===null)throw va(n);return n.lanes=536870912,null}return lr(n,a)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(Ds(n),l)if(n.flags&256)n.flags&=-257,n=ep(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(c(558));else if(Sn||yl(e,n,i,!1),l=(i&e.childLanes)!==0,Sn||l){if(a=Gt,a!==null&&(d=q(a,i),d!==0&&d!==o.retryLane))throw o.retryLane=d,Ya(e,d),si(a,e,d),Vs;gr(),n=ep(e,n,i)}else e=o.treeContext,$t=Bi(d.nextSibling),On=n,mt=!0,ba=null,Ti=!1,e!==null&&Ic(n,e),n=lr(n,a),n.flags|=4096;return n}return e=Ji(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function or(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Qs(e,n,i,a,l){return Xa(n),i=zs(e,n,i,a,void 0,l),a=Bs(),e!==null&&!Sn?(Rs(e,n,l),aa(e,n,l)):(mt&&a&&ds(n),n.flags|=1,Pn(e,n,i,l),n.child)}function tp(e,n,i,a,l,o){return Xa(n),n.updateQueue=null,i=au(n,a,i,l),iu(e),a=Bs(),e!==null&&!Sn?(Rs(e,n,o),aa(e,n,o)):(mt&&a&&ds(n),n.flags|=1,Pn(e,n,i,o),n.child)}function np(e,n,i,a,l){if(Xa(n),n.stateNode===null){var o=ml,d=i.contextType;typeof d=="object"&&d!==null&&(o=Ln(d)),o=new i(a,o),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ys,n.stateNode=o,o._reactInternals=n,o=n.stateNode,o.props=a,o.state=n.memoizedState,o.refs={},vs(n),d=i.contextType,o.context=typeof d=="object"&&d!==null?Ln(d):ml,o.state=n.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Ws(n,i,d,a),o.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&Ys.enqueueReplaceState(o,o.state,null),no(n,a,o,l),to(),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){o=n.stateNode;var p=n.memoizedProps,S=tl(i,p);o.props=S;var H=o.context,V=i.contextType;d=ml,typeof V=="object"&&V!==null&&(d=Ln(V));var te=i.getDerivedStateFromProps;V=typeof te=="function"||typeof o.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,V||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p||H!==d)&&qu(n,o,a,d),Sa=!1;var L=n.memoizedState;o.state=L,no(n,a,o,l),to(),H=n.memoizedState,p||L!==H||Sa?(typeof te=="function"&&(Ws(n,i,te,a),H=n.memoizedState),(S=Sa||_u(n,i,S,a,L,H,d))?(V||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(n.flags|=4194308)):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=H),o.props=a,o.state=H,o.context=d,a=S):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{o=n.stateNode,js(e,n),d=n.memoizedProps,V=tl(i,d),o.props=V,te=n.pendingProps,L=o.context,H=i.contextType,S=ml,typeof H=="object"&&H!==null&&(S=Ln(H)),p=i.getDerivedStateFromProps,(H=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==te||L!==S)&&qu(n,o,a,S),Sa=!1,L=n.memoizedState,o.state=L,no(n,a,o,l),to();var _=n.memoizedState;d!==te||L!==_||Sa||e!==null&&e.dependencies!==null&&_o(e.dependencies)?(typeof p=="function"&&(Ws(n,i,p,a),_=n.memoizedState),(V=Sa||_u(n,i,V,a,L,_,S)||e!==null&&e.dependencies!==null&&_o(e.dependencies))?(H||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,_,S),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,_,S)),typeof o.componentDidUpdate=="function"&&(n.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=_),o.props=a,o.state=_,o.context=S,a=V):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),a=!1)}return o=a,or(e,n),a=(n.flags&128)!==0,o||a?(o=n.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:o.render(),n.flags|=1,e!==null&&a?(n.child=$a(n,e.child,null,l),n.child=$a(n,null,i,l)):Pn(e,n,i,l),n.memoizedState=o.state,e=n.child):e=aa(e,n,l),e}function ip(e,n,i,a){return Va(),n.flags|=256,Pn(e,n,i,a),n.child}var Xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ks(e){return{baseLanes:e,cachePool:Fc()}}function Zs(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=bi),e}function ap(e,n,i){var a=n.pendingProps,l=!1,o=(n.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(mn.current&2)!==0),d&&(l=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(mt){if(l?Aa(n):Da(),(e=$t)?(e=pm(e,Ti),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xa!==null?{id:Fi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},i=Oc(e),i.return=n,n.child=i,On=n,$t=null)):e=null,e===null)throw va(n);return Nd(e)?n.lanes=32:n.lanes=536870912,null}var p=a.children;return a=a.fallback,l?(Da(),l=n.mode,p=rr({mode:"hidden",children:p},l),a=Fa(a,l,i,null),p.return=n,a.return=n,p.sibling=a,n.child=p,a=n.child,a.memoizedState=Ks(i),a.childLanes=Zs(e,d,i),n.memoizedState=Xs,ro(null,a)):(Aa(n),Js(n,p))}var S=e.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(o)n.flags&256?(Aa(n),n.flags&=-257,n=$s(e,n,i)):n.memoizedState!==null?(Da(),n.child=e.child,n.flags|=128,n=null):(Da(),p=a.fallback,l=n.mode,a=rr({mode:"visible",children:a.children},l),p=Fa(p,l,i,null),p.flags|=2,a.return=n,p.return=n,a.sibling=p,n.child=a,$a(n,e.child,null,i),a=n.child,a.memoizedState=Ks(i),a.childLanes=Zs(e,d,i),n.memoizedState=Xs,n=ro(null,a));else if(Aa(n),Nd(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var H=d.dgst;d=H,a=Error(c(419)),a.stack="",a.digest=d,Xl({value:a,source:null,stack:null}),n=$s(e,n,i)}else if(Sn||yl(e,n,i,!1),d=(i&e.childLanes)!==0,Sn||d){if(d=Gt,d!==null&&(a=q(d,i),a!==0&&a!==S.retryLane))throw S.retryLane=a,Ya(e,a),si(d,e,a),Vs;Ed(p)||gr(),n=$s(e,n,i)}else Ed(p)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,$t=Bi(p.nextSibling),On=n,mt=!0,ba=null,Ti=!1,e!==null&&Ic(n,e),n=Js(n,a.children),n.flags|=4096);return n}return l?(Da(),p=a.fallback,l=n.mode,S=e.child,H=S.sibling,a=Ji(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,H!==null?p=Ji(H,p):(p=Fa(p,l,i,null),p.flags|=2),p.return=n,a.return=n,a.sibling=p,n.child=a,ro(null,a),a=n.child,p=e.child.memoizedState,p===null?p=Ks(i):(l=p.cachePool,l!==null?(S=vn._currentValue,l=l.parent!==S?{parent:S,pool:S}:l):l=Fc(),p={baseLanes:p.baseLanes|i,cachePool:l}),a.memoizedState=p,a.childLanes=Zs(e,d,i),n.memoizedState=Xs,ro(e.child,a)):(Aa(n),i=e.child,e=i.sibling,i=Ji(i,{mode:"visible",children:a.children}),i.return=n,i.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=i,n.memoizedState=null,i)}function Js(e,n){return n=rr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rr(e,n){return e=fi(22,e,null,n),e.lanes=0,e}function $s(e,n,i){return $a(n,e.child,null,i),e=Js(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lp(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),hs(e.return,n,i)}function ed(e,n,i,a,l,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:l,treeForkCount:o}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=l,d.treeForkCount=o)}function op(e,n,i){var a=n.pendingProps,l=a.revealOrder,o=a.tail;a=a.children;var d=mn.current,p=(d&2)!==0;if(p?(d=d&1|2,n.flags|=128):d&=1,be(mn,d),Pn(e,n,a,i),a=mt?Ql:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lp(e,i,n);else if(e.tag===19)lp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(i=n.child,l=null;i!==null;)e=i.alternate,e!==null&&Xo(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),ed(n,!1,l,i,o,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&Xo(e)===null){n.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}ed(n,!0,i,null,o,a);break;case"together":ed(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function aa(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Ba|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(yl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(c(153));if(n.child!==null){for(e=n.child,i=Ji(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Ji(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_o(e)))}function hf(e,n,i){switch(n.tag){case 3:Cn(n,n.stateNode.containerInfo),ja(n,vn,e.memoizedState.cache),Va();break;case 27:case 5:an(n);break;case 4:Cn(n,n.stateNode.containerInfo);break;case 10:ja(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ds(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Aa(n),n.flags|=128,null):(i&n.child.childLanes)!==0?ap(e,n,i):(Aa(n),e=aa(e,n,i),e!==null?e.sibling:null);Aa(n);break;case 19:var l=(e.flags&128)!==0;if(a=(i&n.childLanes)!==0,a||(yl(e,n,i,!1),a=(i&n.childLanes)!==0),l){if(a)return op(e,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),be(mn,mn.current),a)break;return null;case 22:return n.lanes=0,Ju(e,n,i,n.pendingProps);case 24:ja(n,vn,e.memoizedState.cache)}return aa(e,n,i)}function rp(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!td(e,i)&&(n.flags&128)===0)return Sn=!1,hf(e,n,i);Sn=(e.flags&131072)!==0}else Sn=!1,mt&&(n.flags&1048576)!==0&&Pc(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Za(n.elementType),n.type=e,typeof e=="function")os(e)?(a=tl(e,a),n.tag=1,n=np(null,n,e,a,i)):(n.tag=0,n=Qs(null,n,e,a,i));else{if(e!=null){var l=e.$$typeof;if(l===oe){n.tag=11,n=Xu(null,n,e,a,i);break e}else if(l===ht){n.tag=14,n=Ku(null,n,e,a,i);break e}}throw n=wt(e)||e,Error(c(306,n,""))}}return n;case 0:return Qs(e,n,n.type,n.pendingProps,i);case 1:return a=n.type,l=tl(a,n.pendingProps),np(e,n,a,l,i);case 3:e:{if(Cn(n,n.stateNode.containerInfo),e===null)throw Error(c(387));a=n.pendingProps;var o=n.memoizedState;l=o.element,js(e,n),no(n,a,null,i);var d=n.memoizedState;if(a=d.cache,ja(n,vn,a),a!==o.cache&&fs(n,[vn],i,!0),to(),a=d.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){n=ip(e,n,a,i);break e}else if(a!==l){l=Ci(Error(c(424)),n),Xl(l),n=ip(e,n,a,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Bi(e.firstChild),On=n,mt=!0,ba=null,Ti=!0,i=Jc(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Va(),a===l){n=aa(e,n,i);break e}Pn(e,n,a,i)}n=n.child}return n;case 26:return or(e,n),e===null?(i=xm(n.type,null,n.pendingProps,null))?n.memoizedState=i:mt||(i=n.type,e=n.pendingProps,a=wr(kt.current).createElement(i),a[Ne]=n,a[Kt]=e,In(a,i,e),on(a),n.stateNode=a):n.memoizedState=xm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return an(n),e===null&&mt&&(a=n.stateNode=fm(n.type,n.pendingProps,kt.current),On=n,Ti=!0,l=$t,Ma(n.type)?(Md=l,$t=Bi(a.firstChild)):$t=l),Pn(e,n,n.pendingProps.children,i),or(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&mt&&((l=a=$t)&&(a=Wf(a,n.type,n.pendingProps,Ti),a!==null?(n.stateNode=a,On=n,$t=Bi(a.firstChild),Ti=!1,l=!0):l=!1),l||va(n)),an(n),l=n.type,o=n.pendingProps,d=e!==null?e.memoizedProps:null,a=o.children,Bd(l,o)?a=null:d!==null&&Bd(l,d)&&(n.flags|=32),n.memoizedState!==null&&(l=zs(e,n,lf,null,null,i),wo._currentValue=l),or(e,n),Pn(e,n,a,i),n.child;case 6:return e===null&&mt&&((e=i=$t)&&(i=Yf(i,n.pendingProps,Ti),i!==null?(n.stateNode=i,On=n,$t=null,e=!0):e=!1),e||va(n)),null;case 13:return ap(e,n,i);case 4:return Cn(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=$a(n,null,a,i):Pn(e,n,a,i),n.child;case 11:return Xu(e,n,n.type,n.pendingProps,i);case 7:return Pn(e,n,n.pendingProps,i),n.child;case 8:return Pn(e,n,n.pendingProps.children,i),n.child;case 12:return Pn(e,n,n.pendingProps.children,i),n.child;case 10:return a=n.pendingProps,ja(n,n.type,a.value),Pn(e,n,a.children,i),n.child;case 9:return l=n.type._context,a=n.pendingProps.children,Xa(n),l=Ln(l),a=a(l),n.flags|=1,Pn(e,n,a,i),n.child;case 14:return Ku(e,n,n.type,n.pendingProps,i);case 15:return Zu(e,n,n.type,n.pendingProps,i);case 19:return op(e,n,i);case 31:return mf(e,n,i);case 22:return Ju(e,n,i,n.pendingProps);case 24:return Xa(n),a=Ln(vn),e===null?(l=xs(),l===null&&(l=Gt,o=gs(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=i),l=o),n.memoizedState={parent:a,cache:l},vs(n),ja(n,vn,l)):((e.lanes&i)!==0&&(js(e,n),no(n,null,null,i),to()),l=e.memoizedState,o=n.memoizedState,l.parent!==a?(l={parent:a,cache:a},n.memoizedState=l,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=l),ja(n,vn,a)):(a=o.cache,ja(n,vn,a),a!==l.cache&&fs(n,[vn],i,!0))),Pn(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}function la(e){e.flags|=4}function nd(e,n,i,a,l){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Mp())e.flags|=8192;else throw Ja=Yo,bs}else e.flags&=-16777217}function sp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wm(n))if(Mp())e.flags|=8192;else throw Ja=Yo,bs}function sr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?gt():536870912,e.lanes|=n,Bl|=n)}function so(e,n){if(!mt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function en(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function ff(e,n,i){var a=n.pendingProps;switch(cs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(n),null;case 1:return en(n),null;case 3:return i=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ta(vn),Dt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(gl(n)?la(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ps())),en(n),null;case 26:var l=n.type,o=n.memoizedState;return e===null?(la(n),o!==null?(en(n),sp(n,o)):(en(n),nd(n,l,null,a,i))):o?o!==e.memoizedState?(la(n),en(n),sp(n,o)):(en(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&la(n),en(n),nd(n,l,e,a,i)),null;case 27:if(Nt(n),i=kt.current,l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&la(n);else{if(!a){if(n.stateNode===null)throw Error(c(166));return en(n),null}e=Ze.current,gl(n)?_c(n):(e=fm(l,a,i),n.stateNode=e,la(n))}return en(n),null;case 5:if(Nt(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&la(n);else{if(!a){if(n.stateNode===null)throw Error(c(166));return en(n),null}if(o=Ze.current,gl(n))_c(n);else{var d=wr(kt.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?o.multiple=!0:a.size&&(o.size=a.size);break;default:o=typeof a.is=="string"?d.createElement(l,{is:a.is}):d.createElement(l)}}o[Ne]=n,o[Kt]=a;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=o;e:switch(In(o,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&la(n)}}return en(n),nd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&la(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(c(166));if(e=kt.current,gl(n)){if(e=n.stateNode,i=n.memoizedProps,a=null,l=On,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||am(e.nodeValue,i)),e||va(n,!0)}else e=wr(e).createTextNode(a),e[Ne]=n,n.stateNode=e}return en(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(a=gl(n),i!==null){if(e===null){if(!a)throw Error(c(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Ne]=n}else Va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;en(n),e=!1}else i=ps(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(yi(n),n):(yi(n),null);if((n.flags&128)!==0)throw Error(c(558))}return en(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=gl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(c(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(c(317));l[Ne]=n}else Va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;en(n),l=!1}else l=ps(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return n.flags&256?(yi(n),n):(yi(n),null)}return yi(n),(n.flags&128)!==0?(n.lanes=i,n):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=n.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==l&&(a.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),sr(n,n.updateQueue),en(n),null);case 4:return Dt(),e===null&&Cd(n.stateNode.containerInfo),en(n),null;case 10:return ta(n.type),en(n),null;case 19:if(We(mn),a=n.memoizedState,a===null)return en(n),null;if(l=(n.flags&128)!==0,o=a.rendering,o===null)if(l)so(a,!1);else{if(cn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(o=Xo(e),o!==null){for(n.flags|=128,so(a,!1),e=o.updateQueue,n.updateQueue=e,sr(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Uc(i,e),i=i.sibling;return be(mn,mn.current&1|2),mt&&$i(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&Mt()>mr&&(n.flags|=128,l=!0,so(a,!1),n.lanes=4194304)}else{if(!l)if(e=Xo(o),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,sr(n,e),so(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!mt)return en(n),null}else 2*Mt()-a.renderingStartTime>mr&&i!==536870912&&(n.flags|=128,l=!0,so(a,!1),n.lanes=4194304);a.isBackwards?(o.sibling=n.child,n.child=o):(e=a.last,e!==null?e.sibling=o:n.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mt(),e.sibling=null,i=mn.current,be(mn,l?i&1|2:i&1),mt&&$i(n,a.treeForkCount),e):(en(n),null);case 22:case 23:return yi(n),As(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(i&536870912)!==0&&(n.flags&128)===0&&(en(n),n.subtreeFlags&6&&(n.flags|=8192)):en(n),i=n.updateQueue,i!==null&&sr(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048),e!==null&&We(Ka),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ta(vn),en(n),null;case 25:return null;case 30:return null}throw Error(c(156,n.tag))}function gf(e,n){switch(cs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ta(vn),Dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Nt(n),null;case 31:if(n.memoizedState!==null){if(yi(n),n.alternate===null)throw Error(c(340));Va()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(c(340));Va()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(mn),null;case 4:return Dt(),null;case 10:return ta(n.type),null;case 22:case 23:return yi(n),As(),e!==null&&We(Ka),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ta(vn),null;case 25:return null;default:return null}}function dp(e,n){switch(cs(n),n.tag){case 3:ta(vn),Dt();break;case 26:case 27:case 5:Nt(n);break;case 4:Dt();break;case 31:n.memoizedState!==null&&yi(n);break;case 13:yi(n);break;case 19:We(mn);break;case 10:ta(n.type);break;case 22:case 23:yi(n),As(),e!==null&&We(Ka);break;case 24:ta(vn)}}function co(e,n){try{var i=n.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var l=a.next;i=l;do{if((i.tag&e)===e){a=void 0;var o=i.create,d=i.inst;a=o(),d.destroy=a}i=i.next}while(i!==l)}}catch(p){Bt(n,n.return,p)}}function Ta(e,n,i){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){var d=a.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,l=n;var S=i,H=p;try{H()}catch(V){Bt(l,S,V)}}}a=a.next}while(a!==o)}}catch(V){Bt(n,n.return,V)}}function cp(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{eu(n,i)}catch(a){Bt(e,e.return,a)}}}function up(e,n,i){i.props=tl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Bt(e,n,a)}}function uo(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(l){Bt(e,n,l)}}function Qi(e,n){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(l){Bt(e,n,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(l){Bt(e,n,l)}else i.current=null}function pp(e){var n=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(l){Bt(e,e.return,l)}}function id(e,n,i){try{var a=e.stateNode;Lf(a,e.type,i,n),a[Kt]=n}catch(l){Bt(e,e.return,l)}}function mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ma(e.type)||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Hn));else if(a!==4&&(a===27&&Ma(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(ld(e,n,i),e=e.sibling;e!==null;)ld(e,n,i),e=e.sibling}function dr(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(a===27&&Ma(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(dr(e,n,i),e=e.sibling;e!==null;)dr(e,n,i),e=e.sibling}function hp(e){var n=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,l=n.attributes;l.length;)n.removeAttributeNode(l[0]);In(n,a,i),n[Ne]=e,n[Kt]=i}catch(o){Bt(e,e.return,o)}}var oa=!1,wn=!1,od=!1,fp=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function yf(e,n){if(e=e.containerInfo,Td=Rr,e=Tc(e),$r(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var l=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{i.nodeType,o.nodeType}catch{i=null;break e}var d=0,p=-1,S=-1,H=0,V=0,te=e,L=null;t:for(;;){for(var _;te!==i||l!==0&&te.nodeType!==3||(p=d+l),te!==o||a!==0&&te.nodeType!==3||(S=d+a),te.nodeType===3&&(d+=te.nodeValue.length),(_=te.firstChild)!==null;)L=te,te=_;for(;;){if(te===e)break t;if(L===i&&++H===l&&(p=d),L===o&&++V===a&&(S=d),(_=te.nextSibling)!==null)break;te=L,L=te.parentNode}te=_}i=p===-1||S===-1?null:{start:p,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(zd={focusedElem:e,selectionRange:i},Rr=!1,Nn=n;Nn!==null;)if(n=Nn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Nn=e;else for(;Nn!==null;){switch(n=Nn,o=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)l=e[i],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,i=n,l=o.memoizedProps,o=o.memoizedState,a=i.stateNode;try{var Ce=tl(i.type,l);e=a.getSnapshotBeforeUpdate(Ce,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(Oe){Bt(i,i.return,Oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)kd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=n.sibling,e!==null){e.return=n.return,Nn=e;break}Nn=n.return}}function gp(e,n,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:sa(e,i),a&4&&co(5,i);break;case 1:if(sa(e,i),a&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(d){Bt(i,i.return,d)}else{var l=tl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Bt(i,i.return,d)}}a&64&&cp(i),a&512&&uo(i,i.return);break;case 3:if(sa(e,i),a&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{eu(e,n)}catch(d){Bt(i,i.return,d)}}break;case 27:n===null&&a&4&&hp(i);case 26:case 5:sa(e,i),n===null&&a&4&&pp(i),a&512&&uo(i,i.return);break;case 12:sa(e,i);break;case 31:sa(e,i),a&4&&bp(e,i);break;case 13:sa(e,i),a&4&&vp(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Df.bind(null,i),Ff(e,i))));break;case 22:if(a=i.memoizedState!==null||oa,!a){n=n!==null&&n.memoizedState!==null||wn,l=oa;var o=wn;oa=a,(wn=n)&&!o?da(e,i,(i.subtreeFlags&8772)!==0):sa(e,i),oa=l,wn=o}break;case 30:break;default:sa(e,i)}}function yp(e){var n=e.alternate;n!==null&&(e.alternate=null,yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ei(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tn=null,ai=!1;function ra(e,n,i){for(i=i.child;i!==null;)xp(e,n,i),i=i.sibling}function xp(e,n,i){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ve,i)}catch{}switch(i.tag){case 26:wn||Qi(i,n),ra(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:wn||Qi(i,n);var a=tn,l=ai;Ma(i.type)&&(tn=i.stateNode,ai=!1),ra(e,n,i),vo(i.stateNode),tn=a,ai=l;break;case 5:wn||Qi(i,n);case 6:if(a=tn,l=ai,tn=null,ra(e,n,i),tn=a,ai=l,tn!==null)if(ai)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(i.stateNode)}catch(o){Bt(i,n,o)}else try{tn.removeChild(i.stateNode)}catch(o){Bt(i,n,o)}break;case 18:tn!==null&&(ai?(e=tn,cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ol(e)):cm(tn,i.stateNode));break;case 4:a=tn,l=ai,tn=i.stateNode.containerInfo,ai=!0,ra(e,n,i),tn=a,ai=l;break;case 0:case 11:case 14:case 15:Ta(2,i,n),wn||Ta(4,i,n),ra(e,n,i);break;case 1:wn||(Qi(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"&&up(i,n,a)),ra(e,n,i);break;case 21:ra(e,n,i);break;case 22:wn=(a=wn)||i.memoizedState!==null,ra(e,n,i),wn=a;break;default:ra(e,n,i)}}function bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ol(e)}catch(i){Bt(n,n.return,i)}}}function vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ol(e)}catch(i){Bt(n,n.return,i)}}function xf(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fp),n;default:throw Error(c(435,e.tag))}}function cr(e,n){var i=xf(e);n.forEach(function(a){if(!i.has(a)){i.add(a);var l=Tf.bind(null,e,a);a.then(l,l)}})}function li(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var l=i[a],o=e,d=n,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Ma(p.type)){tn=p.stateNode,ai=!1;break e}break;case 5:tn=p.stateNode,ai=!1;break e;case 3:case 4:tn=p.stateNode.containerInfo,ai=!0;break e}p=p.return}if(tn===null)throw Error(c(160));xp(o,d,l),tn=null,ai=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jp(n,e),n=n.sibling}var Li=null;function jp(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:li(n,e),oi(e),a&4&&(Ta(3,e,e.return),co(3,e),Ta(5,e,e.return));break;case 1:li(n,e),oi(e),a&512&&(wn||i===null||Qi(i,i.return)),a&64&&oa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var l=Li;if(li(n,e),oi(e),a&512&&(wn||i===null||Qi(i,i.return)),a&4){var o=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Kn]||o[Ne]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(a),l.head.insertBefore(o,l.querySelector("head > title"))),In(o,a,i),o[Ne]=e,on(o),a=o;break e;case"link":var d=jm("link","href",l).get(a+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(o=d[p],o.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&o.getAttribute("rel")===(i.rel==null?null:i.rel)&&o.getAttribute("title")===(i.title==null?null:i.title)&&o.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}o=l.createElement(a),In(o,a,i),l.head.appendChild(o);break;case"meta":if(d=jm("meta","content",l).get(a+(i.content||""))){for(p=0;p<d.length;p++)if(o=d[p],o.getAttribute("content")===(i.content==null?null:""+i.content)&&o.getAttribute("name")===(i.name==null?null:i.name)&&o.getAttribute("property")===(i.property==null?null:i.property)&&o.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&o.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}o=l.createElement(a),In(o,a,i),l.head.appendChild(o);break;default:throw Error(c(468,a))}o[Ne]=e,on(o),a=o}e.stateNode=a}else Sm(l,e.type,e.stateNode);else e.stateNode=vm(l,a,e.memoizedProps);else o!==a?(o===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):o.count--,a===null?Sm(l,e.type,e.stateNode):vm(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&id(e,e.memoizedProps,i.memoizedProps)}break;case 27:li(n,e),oi(e),a&512&&(wn||i===null||Qi(i,i.return)),i!==null&&a&4&&id(e,e.memoizedProps,i.memoizedProps);break;case 5:if(li(n,e),oi(e),a&512&&(wn||i===null||Qi(i,i.return)),e.flags&32){l=e.stateNode;try{ot(l,"")}catch(Ce){Bt(e,e.return,Ce)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,id(e,l,i!==null?i.memoizedProps:l)),a&1024&&(od=!0);break;case 6:if(li(n,e),oi(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(Ce){Bt(e,e.return,Ce)}}break;case 3:if(Dr=null,l=Li,Li=Cr(n.containerInfo),li(n,e),Li=l,oi(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(Ce){Bt(e,e.return,Ce)}od&&(od=!1,Sp(e));break;case 4:a=Li,Li=Cr(e.stateNode.containerInfo),li(n,e),oi(e),Li=a;break;case 12:li(n,e),oi(e);break;case 31:li(n,e),oi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,cr(e,a)));break;case 13:li(n,e),oi(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(pr=Mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,cr(e,a)));break;case 22:l=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,H=oa,V=wn;if(oa=H||l,wn=V||S,li(n,e),wn=V,oa=H,oi(e),a&8192)e:for(n=e.stateNode,n._visibility=l?n._visibility&-2:n._visibility|1,l&&(i===null||S||oa||wn||nl(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){S=i=n;try{if(o=S.stateNode,l)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=S.stateNode;var te=S.memoizedProps.style,L=te!=null&&te.hasOwnProperty("display")?te.display:null;p.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Ce){Bt(S,S.return,Ce)}}}else if(n.tag===6){if(i===null){S=n;try{S.stateNode.nodeValue=l?"":S.memoizedProps}catch(Ce){Bt(S,S.return,Ce)}}}else if(n.tag===18){if(i===null){S=n;try{var _=S.stateNode;l?um(_,!0):um(S.stateNode,!1)}catch(Ce){Bt(S,S.return,Ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,cr(e,i))));break;case 19:li(n,e),oi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,cr(e,a)));break;case 30:break;case 21:break;default:li(n,e),oi(e)}}function oi(e){var n=e.flags;if(n&2){try{for(var i,a=e.return;a!==null;){if(mp(a)){i=a;break}a=a.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var l=i.stateNode,o=ad(e);dr(e,o,l);break;case 5:var d=i.stateNode;i.flags&32&&(ot(d,""),i.flags&=-33);var p=ad(e);dr(e,p,d);break;case 3:case 4:var S=i.stateNode.containerInfo,H=ad(e);ld(e,H,S);break;default:throw Error(c(161))}}catch(V){Bt(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gp(e,n.alternate,n),n=n.sibling}function nl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ta(4,n,n.return),nl(n);break;case 1:Qi(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&up(n,n.return,i),nl(n);break;case 27:vo(n.stateNode);case 26:case 5:Qi(n,n.return),nl(n);break;case 22:n.memoizedState===null&&nl(n);break;case 30:nl(n);break;default:nl(n)}e=e.sibling}}function da(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,l=e,o=n,d=o.flags;switch(o.tag){case 0:case 11:case 15:da(l,o,i),co(4,o);break;case 1:if(da(l,o,i),a=o,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(H){Bt(a,a.return,H)}if(a=o,l=a.updateQueue,l!==null){var p=a.stateNode;try{var S=l.shared.hiddenCallbacks;if(S!==null)for(l.shared.hiddenCallbacks=null,l=0;l<S.length;l++)$c(S[l],p)}catch(H){Bt(a,a.return,H)}}i&&d&64&&cp(o),uo(o,o.return);break;case 27:hp(o);case 26:case 5:da(l,o,i),i&&a===null&&d&4&&pp(o),uo(o,o.return);break;case 12:da(l,o,i);break;case 31:da(l,o,i),i&&d&4&&bp(l,o);break;case 13:da(l,o,i),i&&d&4&&vp(l,o);break;case 22:o.memoizedState===null&&da(l,o,i),uo(o,o.return);break;case 30:break;default:da(l,o,i)}n=n.sibling}}function rd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Kl(i))}function sd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Kl(e))}function Pi(e,n,i,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wp(e,n,i,a),n=n.sibling}function wp(e,n,i,a){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Pi(e,n,i,a),l&2048&&co(9,n);break;case 1:Pi(e,n,i,a);break;case 3:Pi(e,n,i,a),l&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Kl(e)));break;case 12:if(l&2048){Pi(e,n,i,a),e=n.stateNode;try{var o=n.memoizedProps,d=o.id,p=o.onPostCommit;typeof p=="function"&&p(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Bt(n,n.return,S)}}else Pi(e,n,i,a);break;case 31:Pi(e,n,i,a);break;case 13:Pi(e,n,i,a);break;case 23:break;case 22:o=n.stateNode,d=n.alternate,n.memoizedState!==null?o._visibility&2?Pi(e,n,i,a):po(e,n):o._visibility&2?Pi(e,n,i,a):(o._visibility|=2,Dl(e,n,i,a,(n.subtreeFlags&10256)!==0||!1)),l&2048&&rd(d,n);break;case 24:Pi(e,n,i,a),l&2048&&sd(n.alternate,n);break;default:Pi(e,n,i,a)}}function Dl(e,n,i,a,l){for(l=l&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var o=e,d=n,p=i,S=a,H=d.flags;switch(d.tag){case 0:case 11:case 15:Dl(o,d,p,S,l),co(8,d);break;case 23:break;case 22:var V=d.stateNode;d.memoizedState!==null?V._visibility&2?Dl(o,d,p,S,l):po(o,d):(V._visibility|=2,Dl(o,d,p,S,l)),l&&H&2048&&rd(d.alternate,d);break;case 24:Dl(o,d,p,S,l),l&&H&2048&&sd(d.alternate,d);break;default:Dl(o,d,p,S,l)}n=n.sibling}}function po(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,a=n,l=a.flags;switch(a.tag){case 22:po(i,a),l&2048&&rd(a.alternate,a);break;case 24:po(i,a),l&2048&&sd(a.alternate,a);break;default:po(i,a)}n=n.sibling}}var mo=8192;function Tl(e,n,i){if(e.subtreeFlags&mo)for(e=e.child;e!==null;)Cp(e,n,i),e=e.sibling}function Cp(e,n,i){switch(e.tag){case 26:Tl(e,n,i),e.flags&mo&&e.memoizedState!==null&&ag(i,Li,e.memoizedState,e.memoizedProps);break;case 5:Tl(e,n,i);break;case 3:case 4:var a=Li;Li=Cr(e.stateNode.containerInfo),Tl(e,n,i),Li=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=mo,mo=16777216,Tl(e,n,i),mo=a):Tl(e,n,i));break;default:Tl(e,n,i)}}function Ap(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ho(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];Nn=a,Tp(a,e)}Ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dp(e),e=e.sibling}function Dp(e){switch(e.tag){case 0:case 11:case 15:ho(e),e.flags&2048&&Ta(9,e,e.return);break;case 3:ho(e);break;case 12:ho(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ur(e)):ho(e);break;default:ho(e)}}function ur(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];Nn=a,Tp(a,e)}Ap(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ta(8,n,n.return),ur(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ur(n));break;default:ur(n)}e=e.sibling}}function Tp(e,n){for(;Nn!==null;){var i=Nn;switch(i.tag){case 0:case 11:case 15:Ta(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Kl(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Nn=a;else e:for(i=e;Nn!==null;){a=Nn;var l=a.sibling,o=a.return;if(yp(a),a===i){Nn=null;break e}if(l!==null){l.return=o,Nn=l;break e}Nn=o}}}var bf={getCacheForType:function(e){var n=Ln(vn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Ln(vn).controller.signal}},vf=typeof WeakMap=="function"?WeakMap:Map,At=0,Gt=null,st=null,ut=0,zt=0,xi=null,za=!1,zl=!1,dd=!1,ca=0,cn=0,Ba=0,il=0,cd=0,bi=0,Bl=0,fo=null,ri=null,ud=!1,pr=0,zp=0,mr=1/0,hr=null,Ra=null,Tn=0,ka=null,Rl=null,ua=0,pd=0,md=null,Bp=null,go=0,hd=null;function vi(){return(At&2)!==0&&ut!==0?ut&-ut:W.T!==null?vd():ke()}function Rp(){if(bi===0)if((ut&536870912)===0||mt){var e=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),bi=e}else bi=536870912;return e=gi.current,e!==null&&(e.flags|=32),bi}function si(e,n,i){(e===Gt&&(zt===2||zt===9)||e.cancelPendingCommit!==null)&&(kl(e,0),Ea(e,ut,bi,!1)),Ut(e,i),((At&2)===0||e!==Gt)&&(e===Gt&&((At&2)===0&&(il|=i),cn===4&&Ea(e,ut,bi,!1)),Xi(e))}function kp(e,n,i){if((At&6)!==0)throw Error(c(327));var a=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Ve(e,n),l=a?wf(e,n):gd(e,n,!0),o=a;do{if(l===0){zl&&!a&&Ea(e,n,0,!1);break}else{if(i=e.current.alternate,o&&!jf(i)){l=gd(e,n,!1),o=!1;continue}if(l===2){if(o=n,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var p=e;l=fo;var S=p.current.memoizedState.isDehydrated;if(S&&(kl(p,d).flags|=256),d=gd(p,d,!1),d!==2){if(dd&&!S){p.errorRecoveryDisabledLanes|=o,il|=o,l=4;break e}o=ri,ri=l,o!==null&&(ri===null?ri=o:ri.push.apply(ri,o))}l=d}if(o=!1,l!==2)continue}}if(l===1){kl(e,0),Ea(e,n,0,!0);break}e:{switch(a=e,o=l,o){case 0:case 1:throw Error(c(345));case 4:if((n&4194048)!==n)break;case 6:Ea(a,n,bi,!za);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(c(329))}if((n&62914560)===n&&(l=pr+300-Mt(),10<l)){if(Ea(a,n,bi,!za),Bn(a,0,!0)!==0)break e;ua=n,a.timeoutHandle=sm(Ep.bind(null,a,i,ri,hr,ud,n,bi,il,Bl,za,o,"Throttled",-0,0),l);break e}Ep(a,i,ri,hr,ud,n,bi,il,Bl,za,o,null,-0,0)}}break}while(!0);Xi(e)}function Ep(e,n,i,a,l,o,d,p,S,H,V,te,L,_){if(e.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Cp(n,o,te);var Ce=(o&62914560)===o?pr-Mt():(o&4194048)===o?zp-Mt():0;if(Ce=lg(te,Ce),Ce!==null){ua=o,e.cancelPendingCommit=Ce(Ip.bind(null,e,n,o,i,a,l,d,p,S,V,te,null,L,_)),Ea(e,o,d,!H);return}}Ip(e,n,o,i,a,l,d,p,S)}function jf(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var l=i[a],o=l.getSnapshot;l=l.value;try{if(!hi(o(),l))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(e,n,i,a){n&=~cd,n&=~il,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var l=n;0<l;){var o=31-Te(l),d=1<<o;a[o]=-1,l&=~d}i!==0&&D(e,i,n)}function fr(){return(At&6)===0?(yo(0),!1):!0}function fd(){if(st!==null){if(zt===0)var e=st.return;else e=st,ea=Qa=null,ks(e),jl=null,Jl=0,e=st;for(;e!==null;)dp(e.alternate,e),e=e.return;st=null}}function kl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,_f(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ua=0,fd(),Gt=e,st=i=Ji(e.current,null),ut=n,zt=0,xi=null,za=!1,zl=Ve(e,n),dd=!1,Bl=bi=cd=il=Ba=cn=0,ri=fo=null,ud=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var l=31-Te(a),o=1<<l;n|=e[l],a&=~o}return ca=n,Uo(),i}function Np(e,n){Ke=null,W.H=oo,n===vl||n===Wo?(n=Xc(),zt=3):n===bs?(n=Xc(),zt=4):zt=n===Vs?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xi=n,st===null&&(cn=1,ar(e,Ci(n,e.current)))}function Mp(){var e=gi.current;return e===null?!0:(ut&4194048)===ut?zi===null:(ut&62914560)===ut||(ut&536870912)!==0?e===zi:!1}function Hp(){var e=W.H;return W.H=oo,e===null?oo:e}function Up(){var e=W.A;return W.A=bf,e}function gr(){cn=4,za||(ut&4194048)!==ut&&gi.current!==null||(zl=!0),(Ba&134217727)===0&&(il&134217727)===0||Gt===null||Ea(Gt,ut,bi,!1)}function gd(e,n,i){var a=At;At|=2;var l=Hp(),o=Up();(Gt!==e||ut!==n)&&(hr=null,kl(e,n)),n=!1;var d=cn;e:do try{if(zt!==0&&st!==null){var p=st,S=xi;switch(zt){case 8:fd(),d=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(n=!0);var H=zt;if(zt=0,xi=null,El(e,p,S,H),i&&zl){d=0;break e}break;default:H=zt,zt=0,xi=null,El(e,p,S,H)}}Sf(),d=cn;break}catch(V){Np(e,V)}while(!0);return n&&e.shellSuspendCounter++,ea=Qa=null,At=a,W.H=l,W.A=o,st===null&&(Gt=null,ut=0,Uo()),d}function Sf(){for(;st!==null;)Op(st)}function wf(e,n){var i=At;At|=2;var a=Hp(),l=Up();Gt!==e||ut!==n?(hr=null,mr=Mt()+500,kl(e,n)):zl=Ve(e,n);e:do try{if(zt!==0&&st!==null){n=st;var o=xi;t:switch(zt){case 1:zt=0,xi=null,El(e,n,o,1);break;case 2:case 9:if(Vc(o)){zt=0,xi=null,Lp(n);break}n=function(){zt!==2&&zt!==9||Gt!==e||(zt=7),Xi(e)},o.then(n,n);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Vc(o)?(zt=0,xi=null,Lp(n)):(zt=0,xi=null,El(e,n,o,7));break;case 5:var d=null;switch(st.tag){case 26:d=st.memoizedState;case 5:case 27:var p=st;if(d?wm(d):p.stateNode.complete){zt=0,xi=null;var S=p.sibling;if(S!==null)st=S;else{var H=p.return;H!==null?(st=H,yr(H)):st=null}break t}}zt=0,xi=null,El(e,n,o,5);break;case 6:zt=0,xi=null,El(e,n,o,6);break;case 8:fd(),cn=6;break e;default:throw Error(c(462))}}Cf();break}catch(V){Np(e,V)}while(!0);return ea=Qa=null,W.H=a,W.A=l,At=i,st!==null?0:(Gt=null,ut=0,Uo(),cn)}function Cf(){for(;st!==null&&!yn();)Op(st)}function Op(e){var n=rp(e.alternate,e,ca);e.memoizedProps=e.pendingProps,n===null?yr(e):st=n}function Lp(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=tp(i,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=tp(i,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:ks(n);default:dp(i,n),n=st=Uc(n,ca),n=rp(i,n,ca)}e.memoizedProps=e.pendingProps,n===null?yr(e):st=n}function El(e,n,i,a){ea=Qa=null,ks(n),jl=null,Jl=0;var l=n.return;try{if(pf(e,l,n,i,ut)){cn=1,ar(e,Ci(i,e.current)),st=null;return}}catch(o){if(l!==null)throw st=l,o;cn=1,ar(e,Ci(i,e.current)),st=null;return}n.flags&32768?(mt||a===1?e=!0:zl||(ut&536870912)!==0?e=!1:(za=e=!0,(a===2||a===9||a===3||a===6)&&(a=gi.current,a!==null&&a.tag===13&&(a.flags|=16384))),Pp(n,e)):yr(n)}function yr(e){var n=e;do{if((n.flags&32768)!==0){Pp(n,za);return}e=n.return;var i=ff(n.alternate,n,ca);if(i!==null){st=i;return}if(n=n.sibling,n!==null){st=n;return}st=n=e}while(n!==null);cn===0&&(cn=5)}function Pp(e,n){do{var i=gf(e.alternate,e);if(i!==null){i.flags&=32767,st=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){st=e;return}st=e=i}while(e!==null);cn=6,st=null}function Ip(e,n,i,a,l,o,d,p,S){e.cancelPendingCommit=null;do xr();while(Tn!==0);if((At&6)!==0)throw Error(c(327));if(n!==null){if(n===e.current)throw Error(c(177));if(o=n.lanes|n.childLanes,o|=as,Xe(e,i,o,d,p,S),e===Gt&&(st=Gt=null,ut=0),Rl=n,ka=e,ua=i,pd=o,md=l,Bp=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zf(Qn,function(){return Yp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=W.T,W.T=null,l=ce.p,ce.p=2,d=At,At|=4;try{yf(e,n,i)}finally{At=d,ce.p=l,W.T=a}}Tn=1,_p(),qp(),Gp()}}function _p(){if(Tn===1){Tn=0;var e=ka,n=Rl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=W.T,W.T=null;var a=ce.p;ce.p=2;var l=At;At|=4;try{jp(n,e);var o=zd,d=Tc(e.containerInfo),p=o.focusedElem,S=o.selectionRange;if(d!==p&&p&&p.ownerDocument&&Dc(p.ownerDocument.documentElement,p)){if(S!==null&&$r(p)){var H=S.start,V=S.end;if(V===void 0&&(V=H),"selectionStart"in p)p.selectionStart=H,p.selectionEnd=Math.min(V,p.value.length);else{var te=p.ownerDocument||document,L=te&&te.defaultView||window;if(L.getSelection){var _=L.getSelection(),Ce=p.textContent.length,Oe=Math.min(S.start,Ce),It=S.end===void 0?Oe:Math.min(S.end,Ce);!_.extend&&Oe>It&&(d=It,It=Oe,Oe=d);var R=Ac(p,Oe),z=Ac(p,It);if(R&&z&&(_.rangeCount!==1||_.anchorNode!==R.node||_.anchorOffset!==R.offset||_.focusNode!==z.node||_.focusOffset!==z.offset)){var M=te.createRange();M.setStart(R.node,R.offset),_.removeAllRanges(),Oe>It?(_.addRange(M),_.extend(z.node,z.offset)):(M.setEnd(z.node,z.offset),_.addRange(M))}}}}for(te=[],_=p;_=_.parentNode;)_.nodeType===1&&te.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<te.length;p++){var Z=te[p];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Rr=!!Td,zd=Td=null}finally{At=l,ce.p=a,W.T=i}}e.current=n,Tn=2}}function qp(){if(Tn===2){Tn=0;var e=ka,n=Rl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=W.T,W.T=null;var a=ce.p;ce.p=2;var l=At;At|=4;try{gp(e,n.alternate,n)}finally{At=l,ce.p=a,W.T=i}}Tn=3}}function Gp(){if(Tn===4||Tn===3){Tn=0,ki();var e=ka,n=Rl,i=ua,a=Bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Tn=5:(Tn=0,Rl=ka=null,Wp(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ra=null),Re(i),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ve,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=W.T,l=ce.p,ce.p=2,W.T=null;try{for(var o=e.onRecoverableError,d=0;d<a.length;d++){var p=a[d];o(p.value,{componentStack:p.stack})}}finally{W.T=n,ce.p=l}}(ua&3)!==0&&xr(),Xi(e),l=e.pendingLanes,(i&261930)!==0&&(l&42)!==0?e===hd?go++:(go=0,hd=e):go=0,yo(0)}}function Wp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Kl(n)))}function xr(){return _p(),qp(),Gp(),Yp()}function Yp(){if(Tn!==5)return!1;var e=ka,n=pd;pd=0;var i=Re(ua),a=W.T,l=ce.p;try{ce.p=32>i?32:i,W.T=null,i=md,md=null;var o=ka,d=ua;if(Tn=0,Rl=ka=null,ua=0,(At&6)!==0)throw Error(c(331));var p=At;if(At|=4,Dp(o.current),wp(o,o.current,d,i),At=p,yo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ve,o)}catch{}return!0}finally{ce.p=l,W.T=a,Wp(e,n)}}function Fp(e,n,i){n=Ci(i,n),n=Fs(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(Ut(e,2),Xi(e))}function Bt(e,n,i){if(e.tag===3)Fp(e,e,i);else for(;n!==null;){if(n.tag===3){Fp(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ra===null||!Ra.has(a))){e=Ci(i,e),i=Vu(2),a=Ca(n,i,2),a!==null&&(Qu(i,a,n,e),Ut(a,2),Xi(a));break}}n=n.return}}function yd(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new vf;var l=new Set;a.set(n,l)}else l=a.get(n),l===void 0&&(l=new Set,a.set(n,l));l.has(i)||(dd=!0,l.add(i),e=Af.bind(null,e,n,i),n.then(e,e))}function Af(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Gt===e&&(ut&i)===i&&(cn===4||cn===3&&(ut&62914560)===ut&&300>Mt()-pr?(At&2)===0&&kl(e,0):cd|=i,Bl===ut&&(Bl=0)),Xi(e)}function Vp(e,n){n===0&&(n=gt()),e=Ya(e,n),e!==null&&(Ut(e,n),Xi(e))}function Df(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Vp(e,i)}function Tf(e,n){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(n),Vp(e,i)}function zf(e,n){return qn(e,n)}var br=null,Nl=null,xd=!1,vr=!1,bd=!1,Na=0;function Xi(e){e!==Nl&&e.next===null&&(Nl===null?br=Nl=e:Nl=Nl.next=e),vr=!0,xd||(xd=!0,Rf())}function yo(e,n){if(!bd&&vr){bd=!0;do for(var i=!1,a=br;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var o=0;else{var d=a.suspendedLanes,p=a.pingedLanes;o=(1<<31-Te(42|e)+1)-1,o&=l&~(d&~p),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(i=!0,Zp(a,o))}else o=ut,o=Bn(a,a===Gt?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||Ve(a,o)||(i=!0,Zp(a,o));a=a.next}while(i);bd=!1}}function Bf(){Qp()}function Qp(){vr=xd=!1;var e=0;Na!==0&&If()&&(e=Na);for(var n=Mt(),i=null,a=br;a!==null;){var l=a.next,o=Xp(a,n);o===0?(a.next=null,i===null?br=l:i.next=l,l===null&&(Nl=i)):(i=a,(e!==0||(o&3)!==0)&&(vr=!0)),a=l}Tn!==0&&Tn!==5||yo(e),Na!==0&&(Na=0)}function Xp(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-Te(o),p=1<<d,S=l[d];S===-1?((p&i)===0||(p&a)!==0)&&(l[d]=ni(p,n)):S<=n&&(e.expiredLanes|=p),o&=~p}if(n=Gt,i=ut,i=Bn(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===n&&(zt===2||zt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&me(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ve(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(a!==null&&me(a),Re(i)){case 2:case 8:i=ft;break;case 32:i=Qn;break;case 268435456:i=rn;break;default:i=Qn}return a=Kp.bind(null,e),i=qn(i,a),e.callbackPriority=n,e.callbackNode=i,n}return a!==null&&a!==null&&me(a),e.callbackPriority=2,e.callbackNode=null,2}function Kp(e,n){if(Tn!==0&&Tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(xr()&&e.callbackNode!==i)return null;var a=ut;return a=Bn(e,e===Gt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(kp(e,a,n),Xp(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?Kp.bind(null,e):null)}function Zp(e,n){if(xr())return null;kp(e,n,!0)}function Rf(){qf(function(){(At&6)!==0?qn(Vn,Bf):Qp()})}function vd(){if(Na===0){var e=xl;e===0&&(e=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),Na=e}return Na}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fn(""+e)}function $p(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function kf(e,n,i,a,l){if(n==="submit"&&i&&i.stateNode===l){var o=Jp((l[Kt]||null).action),d=a.submitter;d&&(n=(n=d[Kt]||null)?Jp(n.formAction):d.getAttribute("formAction"),n!==null&&(o=n,d=null));var p=new Ye("action","action",null,a,l);e.push({event:p,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Na!==0){var S=d?$p(l,d):new FormData(l);Is(i,{pending:!0,data:S,method:l.method,action:o},null,S)}}else typeof o=="function"&&(p.preventDefault(),S=d?$p(l,d):new FormData(l),Is(i,{pending:!0,data:S,method:l.method,action:o},o,S))},currentTarget:l}]})}}for(var jd=0;jd<is.length;jd++){var Sd=is[jd],Ef=Sd.toLowerCase(),Nf=Sd[0].toUpperCase()+Sd.slice(1);Oi(Ef,"on"+Nf)}Oi(Rc,"onAnimationEnd"),Oi(kc,"onAnimationIteration"),Oi(Ec,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Qh,"onTransitionRun"),Oi(Xh,"onTransitionStart"),Oi(Kh,"onTransitionCancel"),Oi(Nc,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function em(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],l=a.event;a=a.listeners;e:{var o=void 0;if(n)for(var d=a.length-1;0<=d;d--){var p=a[d],S=p.instance,H=p.currentTarget;if(p=p.listener,S!==o&&l.isPropagationStopped())break e;o=p,l.currentTarget=H;try{o(l)}catch(V){Ho(V)}l.currentTarget=null,o=S}else for(d=0;d<a.length;d++){if(p=a[d],S=p.instance,H=p.currentTarget,p=p.listener,S!==o&&l.isPropagationStopped())break e;o=p,l.currentTarget=H;try{o(l)}catch(V){Ho(V)}l.currentTarget=null,o=S}}}}function dt(e,n){var i=n[Qe];i===void 0&&(i=n[Qe]=new Set);var a=e+"__bubble";i.has(a)||(tm(n,e,2,!1),i.add(a))}function wd(e,n,i){var a=0;n&&(a|=4),tm(i,e,a,n)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[jr]){e[jr]=!0,_a.forEach(function(i){i!=="selectionchange"&&(Mf.has(i)||wd(i,!1,e),wd(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jr]||(n[jr]=!0,wd("selectionchange",!1,n))}}function tm(e,n,i,a){switch(Rm(n)){case 2:var l=sg;break;case 8:l=dg;break;default:l=Pd}i=l.bind(null,n,i,e),l=void 0,!Zi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(n,i,{capture:!0,passive:l}):e.addEventListener(n,i,!0):l!==void 0?e.addEventListener(n,i,{passive:l}):e.addEventListener(n,i,!1)}function Ad(e,n,i,a,l){var o=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var p=a.stateNode.containerInfo;if(p===l)break;if(d===4)for(d=a.return;d!==null;){var S=d.tag;if((S===3||S===4)&&d.stateNode.containerInfo===l)return;d=d.return}for(;p!==null;){if(d=_i(p),d===null)return;if(S=d.tag,S===5||S===6||S===26||S===27){a=o=d;continue e}p=p.parentNode}}a=a.return}ll(function(){var H=o,V=ii(i),te=[];e:{var L=Mc.get(e);if(L!==void 0){var _=Ye,Ce=e;switch(e){case"keypress":if(ya(i)===0)break e;case"keydown":case"keyup":_=Dh;break;case"focusin":Ce="focus",_=Qr;break;case"focusout":Ce="blur",_=Qr;break;case"beforeblur":case"afterblur":_=Qr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Bh;break;case Rc:case kc:case Ec:_=yh;break;case Nc:_=kh;break;case"scroll":case"scrollend":_=Eo;break;case"wheel":_=Nh;break;case"copy":case"cut":case"paste":_=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=uc;break;case"toggle":case"beforetoggle":_=Hh}var Oe=(n&4)!==0,It=!Oe&&(e==="scroll"||e==="scrollend"),R=Oe?L!==null?L+"Capture":null:L;Oe=[];for(var z=H,M;z!==null;){var Z=z;if(M=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||M===null||R===null||(Z=Hi(z,R),Z!=null&&Oe.push(bo(z,Z,M))),It)break;z=z.return}0<Oe.length&&(L=new _(L,Ce,null,i,V),te.push({event:L,listeners:Oe}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",L&&i!==En&&(Ce=i.relatedTarget||i.fromElement)&&(_i(Ce)||Ce[Si]))break e;if((_||L)&&(L=V.window===V?V:(L=V.ownerDocument)?L.defaultView||L.parentWindow:window,_?(Ce=i.relatedTarget||i.toElement,_=H,Ce=Ce?_i(Ce):null,Ce!==null&&(It=g(Ce),Oe=Ce.tag,Ce!==It||Oe!==5&&Oe!==27&&Oe!==6)&&(Ce=null)):(_=null,Ce=H),_!==Ce)){if(Oe=dc,Z="onMouseLeave",R="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Oe=uc,Z="onPointerLeave",R="onPointerEnter",z="pointer"),It=_==null?L:Ki(_),M=Ce==null?L:Ki(Ce),L=new Oe(Z,z+"leave",_,i,V),L.target=It,L.relatedTarget=M,Z=null,_i(V)===H&&(Oe=new Oe(R,z+"enter",Ce,i,V),Oe.target=M,Oe.relatedTarget=It,Z=Oe),It=Z,_&&Ce)t:{for(Oe=Hf,R=_,z=Ce,M=0,Z=R;Z;Z=Oe(Z))M++;Z=0;for(var Ee=z;Ee;Ee=Oe(Ee))Z++;for(;0<M-Z;)R=Oe(R),M--;for(;0<Z-M;)z=Oe(z),Z--;for(;M--;){if(R===z||z!==null&&R===z.alternate){Oe=R;break t}R=Oe(R),z=Oe(z)}Oe=null}else Oe=null;_!==null&&nm(te,L,_,Oe,!1),Ce!==null&&It!==null&&nm(te,It,Ce,Oe,!0)}}e:{if(L=H?Ki(H):window,_=L.nodeName&&L.nodeName.toLowerCase(),_==="select"||_==="input"&&L.type==="file")var jt=bc;else if(yc(L))if(vc)jt=Yh;else{jt=Gh;var ze=qh}else _=L.nodeName,!_||_.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?H&&Rn(H.elementType)&&(jt=bc):jt=Wh;if(jt&&(jt=jt(e,H))){xc(te,jt,i,V);break e}ze&&ze(e,L,H),e==="focusout"&&H&&L.type==="number"&&H.memoizedProps.value!=null&&rt(L,"number",L.value)}switch(ze=H?Ki(H):window,e){case"focusin":(yc(ze)||ze.contentEditable==="true")&&(cl=ze,es=H,Vl=null);break;case"focusout":Vl=es=cl=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,zc(te,i,V);break;case"selectionchange":if(Vh)break;case"keydown":case"keyup":zc(te,i,V)}var Je;if(Kr)e:{switch(e){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else dl?fc(e,i)&&(pt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pt="onCompositionStart");pt&&(pc&&i.locale!=="ko"&&(dl||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&dl&&(Je=ko()):(Ui=V,ol="value"in Ui?Ui.value:Ui.textContent,dl=!0)),ze=Sr(H,pt),0<ze.length&&(pt=new cc(pt,e,null,i,V),te.push({event:pt,listeners:ze}),Je?pt.data=Je:(Je=gc(i),Je!==null&&(pt.data=Je)))),(Je=Oh?Lh(e,i):Ph(e,i))&&(pt=Sr(H,"onBeforeInput"),0<pt.length&&(ze=new cc("onBeforeInput","beforeinput",null,i,V),te.push({event:ze,listeners:pt}),ze.data=Je)),kf(te,e,H,i,V)}em(te,n)})}function bo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Sr(e,n){for(var i=n+"Capture",a=[];e!==null;){var l=e,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=Hi(e,i),l!=null&&a.unshift(bo(e,l,o)),l=Hi(e,n),l!=null&&a.push(bo(e,l,o))),e.tag===3)return a;e=e.return}return[]}function Hf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nm(e,n,i,a,l){for(var o=n._reactName,d=[];i!==null&&i!==a;){var p=i,S=p.alternate,H=p.stateNode;if(p=p.tag,S!==null&&S===a)break;p!==5&&p!==26&&p!==27||H===null||(S=H,l?(H=Hi(i,o),H!=null&&d.unshift(bo(i,H,S))):l||(H=Hi(i,o),H!=null&&d.push(bo(i,H,S)))),i=i.return}d.length!==0&&e.push({event:n,listeners:d})}var Uf=/\r\n?/g,Of=/\u0000|\uFFFD/g;function im(e){return(typeof e=="string"?e:""+e).replace(Uf,`
`).replace(Of,"")}function am(e,n){return n=im(n),im(e)===n}function Pt(e,n,i,a,l,o){switch(i){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||ot(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&ot(e,""+a);break;case"className":Zt(e,"class",a);break;case"tabIndex":Zt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Zt(e,i,a);break;case"style":Dn(e,a,o);break;case"data":if(n!=="object"){Zt(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Fn(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(i==="formAction"?(n!=="input"&&Pt(e,n,"name",l.name,l,null),Pt(e,n,"formEncType",l.formEncType,l,null),Pt(e,n,"formMethod",l.formMethod,l,null),Pt(e,n,"formTarget",l.formTarget,l,null)):(Pt(e,n,"encType",l.encType,l,null),Pt(e,n,"method",l.method,l,null),Pt(e,n,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Fn(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Hn);break;case"onScroll":a!=null&&dt("scroll",e);break;case"onScrollEnd":a!=null&&dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(i=a.__html,i!=null){if(l.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Fn(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":dt("beforetoggle",e),dt("toggle",e),Ot(e,"popover",a);break;case"xlinkActuate":qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":qt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":qt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":qt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":qt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ot(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=kn.get(i)||i,Ot(e,i,a))}}function Dd(e,n,i,a,l,o){switch(i){case"style":Dn(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(i=a.__html,i!=null){if(l.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof a=="string"?ot(e,a):(typeof a=="number"||typeof a=="bigint")&&ot(e,""+a);break;case"onScroll":a!=null&&dt("scroll",e);break;case"onScrollEnd":a!=null&&dt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(l=i.endsWith("Capture"),n=i.slice(2,l?i.length-7:void 0),o=e[Kt]||null,o=o!=null?o[i]:null,typeof o=="function"&&e.removeEventListener(n,o,l),typeof a=="function")){typeof o!="function"&&o!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,a,l);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):Ot(e,i,a)}}}function In(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",e),dt("load",e);var a=!1,l=!1,o;for(o in i)if(i.hasOwnProperty(o)){var d=i[o];if(d!=null)switch(o){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:Pt(e,n,o,d,i,null)}}l&&Pt(e,n,"srcSet",i.srcSet,i,null),a&&Pt(e,n,"src",i.src,i,null);return;case"input":dt("invalid",e);var p=o=d=l=null,S=null,H=null;for(a in i)if(i.hasOwnProperty(a)){var V=i[a];if(V!=null)switch(a){case"name":l=V;break;case"type":d=V;break;case"checked":S=V;break;case"defaultChecked":H=V;break;case"value":o=V;break;case"defaultValue":p=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(c(137,n));break;default:Pt(e,n,a,V,i,null)}}qe(e,o,p,S,H,d,l,!1);return;case"select":dt("invalid",e),a=d=o=null;for(l in i)if(i.hasOwnProperty(l)&&(p=i[l],p!=null))switch(l){case"value":o=p;break;case"defaultValue":d=p;break;case"multiple":a=p;default:Pt(e,n,l,p,i,null)}n=o,i=d,e.multiple=!!a,n!=null?et(e,!!a,n,!1):i!=null&&et(e,!!a,i,!0);return;case"textarea":dt("invalid",e),o=l=a=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":a=p;break;case"defaultValue":l=p;break;case"children":o=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:Pt(e,n,d,p,i,null)}tt(e,a,l,o);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(a=i[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pt(e,n,S,a,i,null)}return;case"dialog":dt("beforetoggle",e),dt("toggle",e),dt("cancel",e),dt("close",e);break;case"iframe":case"object":dt("load",e);break;case"video":case"audio":for(a=0;a<xo.length;a++)dt(xo[a],e);break;case"image":dt("error",e),dt("load",e);break;case"details":dt("toggle",e);break;case"embed":case"source":case"link":dt("error",e),dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in i)if(i.hasOwnProperty(H)&&(a=i[H],a!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:Pt(e,n,H,a,i,null)}return;default:if(Rn(n)){for(V in i)i.hasOwnProperty(V)&&(a=i[V],a!==void 0&&Dd(e,n,V,a,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(a=i[p],a!=null&&Pt(e,n,p,a,i,null))}function Lf(e,n,i,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,d=null,p=null,S=null,H=null,V=null;for(_ in i){var te=i[_];if(i.hasOwnProperty(_)&&te!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":S=te;default:a.hasOwnProperty(_)||Pt(e,n,_,null,a,te)}}for(var L in a){var _=a[L];if(te=i[L],a.hasOwnProperty(L)&&(_!=null||te!=null))switch(L){case"type":o=_;break;case"name":l=_;break;case"checked":H=_;break;case"defaultChecked":V=_;break;case"value":d=_;break;case"defaultValue":p=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(137,n));break;default:_!==te&&Pt(e,n,L,_,a,te)}}Ue(e,d,p,S,H,V,o,l);return;case"select":_=d=p=L=null;for(o in i)if(S=i[o],i.hasOwnProperty(o)&&S!=null)switch(o){case"value":break;case"multiple":_=S;default:a.hasOwnProperty(o)||Pt(e,n,o,null,a,S)}for(l in a)if(o=a[l],S=i[l],a.hasOwnProperty(l)&&(o!=null||S!=null))switch(l){case"value":L=o;break;case"defaultValue":p=o;break;case"multiple":d=o;default:o!==S&&Pt(e,n,l,o,a,S)}n=p,i=d,a=_,L!=null?et(e,!!i,L,!1):!!a!=!!i&&(n!=null?et(e,!!i,n,!0):et(e,!!i,i?[]:"",!1));return;case"textarea":_=L=null;for(p in i)if(l=i[p],i.hasOwnProperty(p)&&l!=null&&!a.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Pt(e,n,p,null,a,l)}for(d in a)if(l=a[d],o=i[d],a.hasOwnProperty(d)&&(l!=null||o!=null))switch(d){case"value":L=l;break;case"defaultValue":_=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(c(91));break;default:l!==o&&Pt(e,n,d,l,a,o)}Me(e,L,_);return;case"option":for(var Ce in i)if(L=i[Ce],i.hasOwnProperty(Ce)&&L!=null&&!a.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Pt(e,n,Ce,null,a,L)}for(S in a)if(L=a[S],_=i[S],a.hasOwnProperty(S)&&L!==_&&(L!=null||_!=null))switch(S){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Pt(e,n,S,L,a,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in i)L=i[Oe],i.hasOwnProperty(Oe)&&L!=null&&!a.hasOwnProperty(Oe)&&Pt(e,n,Oe,null,a,L);for(H in a)if(L=a[H],_=i[H],a.hasOwnProperty(H)&&L!==_&&(L!=null||_!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(c(137,n));break;default:Pt(e,n,H,L,a,_)}return;default:if(Rn(n)){for(var It in i)L=i[It],i.hasOwnProperty(It)&&L!==void 0&&!a.hasOwnProperty(It)&&Dd(e,n,It,void 0,a,L);for(V in a)L=a[V],_=i[V],!a.hasOwnProperty(V)||L===_||L===void 0&&_===void 0||Dd(e,n,V,L,a,_);return}}for(var R in i)L=i[R],i.hasOwnProperty(R)&&L!=null&&!a.hasOwnProperty(R)&&Pt(e,n,R,null,a,L);for(te in a)L=a[te],_=i[te],!a.hasOwnProperty(te)||L===_||L==null&&_==null||Pt(e,n,te,L,a,_)}function lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pf(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var l=i[a],o=l.transferSize,d=l.initiatorType,p=l.duration;if(o&&p&&lm(d)){for(d=0,p=l.responseEnd,a+=1;a<i.length;a++){var S=i[a],H=S.startTime;if(H>p)break;var V=S.transferSize,te=S.initiatorType;V&&lm(te)&&(S=S.responseEnd,d+=V*(S<p?1:(p-H)/(S-H)))}if(--a,n+=8*(o+d)/(l.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,zd=null;function wr(e){return e.nodeType===9?e:e.ownerDocument}function om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Bd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function If(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var sm=typeof setTimeout=="function"?setTimeout:void 0,_f=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,qf=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(e){return dm.resolve(null).then(e).catch(Gf)}:sm;function Gf(e){setTimeout(function(){throw e})}function Ma(e){return e==="head"}function cm(e,n){var i=n,a=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(l),Ol(n);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")vo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,vo(i);for(var o=i.firstChild;o;){var d=o.nextSibling,p=o.nodeName;o[Kn]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||i.removeChild(o),o=d}}else i==="body"&&vo(e.ownerDocument.body);i=l}while(i);Ol(n)}function um(e,n){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function kd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":kd(i),Ei(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Wf(e,n,i,a){for(;e.nodeType===1;){var l=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Kn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Bi(e.nextSibling),e===null)break}return null}function Yf(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bi(e.nextSibling),e===null))return null;return e}function pm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bi(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ff(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var a=function(){n(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Bi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Md=null;function mm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Bi(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function hm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function fm(e,n,i){switch(n=wr(i),e){case"html":if(e=n.documentElement,!e)throw Error(c(452));return e;case"head":if(e=n.head,!e)throw Error(c(453));return e;case"body":if(e=n.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function vo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ei(e)}var Ri=new Map,gm=new Set;function Cr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=ce.d;ce.d={f:Vf,r:Qf,D:Xf,C:Kf,L:Zf,m:Jf,X:eg,S:$f,M:tg};function Vf(){var e=pa.f(),n=fr();return e||n}function Qf(e){var n=qi(e);n!==null&&n.tag===5&&n.type==="form"?Nu(n):pa.r(e)}var Ml=typeof document>"u"?null:document;function ym(e,n,i){var a=Ml;if(a&&typeof n=="string"&&n){var l=ye(n);l='link[rel="'+e+'"][href="'+l+'"]',typeof i=="string"&&(l+='[crossorigin="'+i+'"]'),gm.has(l)||(gm.add(l),e={rel:e,crossOrigin:i,href:n},a.querySelector(l)===null&&(n=a.createElement("link"),In(n,"link",e),on(n),a.head.appendChild(n)))}}function Xf(e){pa.D(e),ym("dns-prefetch",e,null)}function Kf(e,n){pa.C(e,n),ym("preconnect",e,n)}function Zf(e,n,i){pa.L(e,n,i);var a=Ml;if(a&&e&&n){var l='link[rel="preload"][as="'+ye(n)+'"]';n==="image"&&i&&i.imageSrcSet?(l+='[imagesrcset="'+ye(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(l+='[imagesizes="'+ye(i.imageSizes)+'"]')):l+='[href="'+ye(e)+'"]';var o=l;switch(n){case"style":o=Hl(e);break;case"script":o=Ul(e)}Ri.has(o)||(e=U({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Ri.set(o,e),a.querySelector(l)!==null||n==="style"&&a.querySelector(jo(o))||n==="script"&&a.querySelector(So(o))||(n=a.createElement("link"),In(n,"link",e),on(n),a.head.appendChild(n)))}}function Jf(e,n){pa.m(e,n);var i=Ml;if(i&&e){var a=n&&typeof n.as=="string"?n.as:"script",l='link[rel="modulepreload"][as="'+ye(a)+'"][href="'+ye(e)+'"]',o=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ul(e)}if(!Ri.has(o)&&(e=U({rel:"modulepreload",href:e},n),Ri.set(o,e),i.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(So(o)))return}a=i.createElement("link"),In(a,"link",e),on(a),i.head.appendChild(a)}}}function $f(e,n,i){pa.S(e,n,i);var a=Ml;if(a&&e){var l=Ni(a).hoistableStyles,o=Hl(e);n=n||"default";var d=l.get(o);if(!d){var p={loading:0,preload:null};if(d=a.querySelector(jo(o)))p.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Ri.get(o))&&Hd(e,i);var S=d=a.createElement("link");on(S),In(S,"link",e),S._p=new Promise(function(H,V){S.onload=H,S.onerror=V}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ar(d,n,a)}d={type:"stylesheet",instance:d,count:1,state:p},l.set(o,d)}}}function eg(e,n){pa.X(e,n);var i=Ml;if(i&&e){var a=Ni(i).hoistableScripts,l=Ul(e),o=a.get(l);o||(o=i.querySelector(So(l)),o||(e=U({src:e,async:!0},n),(n=Ri.get(l))&&Ud(e,n),o=i.createElement("script"),on(o),In(o,"link",e),i.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(l,o))}}function tg(e,n){pa.M(e,n);var i=Ml;if(i&&e){var a=Ni(i).hoistableScripts,l=Ul(e),o=a.get(l);o||(o=i.querySelector(So(l)),o||(e=U({src:e,async:!0,type:"module"},n),(n=Ri.get(l))&&Ud(e,n),o=i.createElement("script"),on(o),In(o,"link",e),i.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(l,o))}}function xm(e,n,i,a){var l=(l=kt.current)?Cr(l):null;if(!l)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Hl(i.href),i=Ni(l).hoistableStyles,a=i.get(n),a||(a={type:"style",instance:null,count:0,state:null},i.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Hl(i.href);var o=Ni(l).hoistableStyles,d=o.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=l.querySelector(jo(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Ri.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ri.set(e,i),o||ng(l,e,i,d.state))),n&&a===null)throw Error(c(528,""));return d}if(n&&a!==null)throw Error(c(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ul(i),i=Ni(l).hoistableScripts,a=i.get(n),a||(a={type:"script",instance:null,count:0,state:null},i.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Hl(e){return'href="'+ye(e)+'"'}function jo(e){return'link[rel="stylesheet"]['+e+"]"}function bm(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function ng(e,n,i,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),In(n,"link",i),on(n),e.head.appendChild(n))}function Ul(e){return'[src="'+ye(e)+'"]'}function So(e){return"script[async]"+e}function vm(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+ye(i.href)+'"]');if(a)return n.instance=a,on(a),a;var l=U({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),on(a),In(a,"style",l),Ar(a,i.precedence,e),n.instance=a;case"stylesheet":l=Hl(i.href);var o=e.querySelector(jo(l));if(o)return n.state.loading|=4,n.instance=o,on(o),o;a=bm(i),(l=Ri.get(l))&&Hd(a,l),o=(e.ownerDocument||e).createElement("link"),on(o);var d=o;return d._p=new Promise(function(p,S){d.onload=p,d.onerror=S}),In(o,"link",a),n.state.loading|=4,Ar(o,i.precedence,e),n.instance=o;case"script":return o=Ul(i.src),(l=e.querySelector(So(o)))?(n.instance=l,on(l),l):(a=i,(l=Ri.get(o))&&(a=U({},i),Ud(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),on(l),In(l,"link",a),e.head.appendChild(l),n.instance=l);case"void":return null;default:throw Error(c(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Ar(a,i.precedence,e));return n.instance}function Ar(e,n,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,o=l,d=0;d<a.length;d++){var p=a[d];if(p.dataset.precedence===n)o=p;else if(o!==l)break}o?o.parentNode.insertBefore(e,o.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Dr=null;function jm(e,n,i){if(Dr===null){var a=new Map,l=Dr=new Map;l.set(i,a)}else l=Dr,a=l.get(i),a||(a=new Map,l.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),l=0;l<i.length;l++){var o=i[l];if(!(o[Kn]||o[Ne]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(n)||"";d=e+d;var p=a.get(d);p?p.push(o):a.set(d,[o])}}return a}function Sm(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function ig(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ag(e,n,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var l=Hl(a.href),o=n.querySelector(jo(l));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Tr.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=o,on(o);return}o=n.ownerDocument||n,a=bm(a),(l=Ri.get(l))&&Hd(a,l),o=o.createElement("link"),on(o);var d=o;d._p=new Promise(function(p,S){d.onload=p,d.onerror=S}),In(o,"link",a),i.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Tr.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Od=0;function lg(e,n){return e.stylesheets&&e.count===0&&Br(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Br(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*Pf());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Br(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function Tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Br(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zr=null;function Br(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zr=new Map,n.forEach(og,e),zr=null,Tr.call(e))}function og(e,n){if(!(n.state.loading&4)){var i=zr.get(e);if(i)var a=i.get(null);else{i=new Map,zr.set(e,i);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var d=l[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}l=n.instance,d=l.getAttribute("data-precedence"),o=i.get(d)||a,o===a&&i.set(null,l),i.set(d,l),this.count++,a=Tr.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),o?o.parentNode.insertBefore(l,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),n.state.loading|=4}}var wo={$$typeof:le,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function rg(e,n,i,a,l,o,d,p,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Cm(e,n,i,a,l,o,d,p,S,H,V,te){return e=new rg(e,n,i,d,S,H,V,te,p),n=1,o===!0&&(n|=24),o=fi(3,null,null,n),e.current=o,o.stateNode=e,n=gs(),n.refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:a,isDehydrated:i,cache:n},vs(o),e}function Am(e){return e?(e=ml,e):ml}function Dm(e,n,i,a,l,o){l=Am(l),a.context===null?a.context=l:a.pendingContext=l,a=wa(n),a.payload={element:i},o=o===void 0?null:o,o!==null&&(a.callback=o),i=Ca(e,a,n),i!==null&&(si(i,e,n),eo(i,e,n))}function Tm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Ld(e,n){Tm(e,n),(e=e.alternate)&&Tm(e,n)}function zm(e){if(e.tag===13||e.tag===31){var n=Ya(e,67108864);n!==null&&si(n,e,67108864),Ld(e,67108864)}}function Bm(e){if(e.tag===13||e.tag===31){var n=vi();n=ne(n);var i=Ya(e,n);i!==null&&si(i,e,n),Ld(e,n)}}var Rr=!0;function sg(e,n,i,a){var l=W.T;W.T=null;var o=ce.p;try{ce.p=2,Pd(e,n,i,a)}finally{ce.p=o,W.T=l}}function dg(e,n,i,a){var l=W.T;W.T=null;var o=ce.p;try{ce.p=8,Pd(e,n,i,a)}finally{ce.p=o,W.T=l}}function Pd(e,n,i,a){if(Rr){var l=Id(a);if(l===null)Ad(e,n,a,kr,i),km(e,a);else if(ug(l,e,n,i,a))a.stopPropagation();else if(km(e,a),n&4&&-1<cg.indexOf(e)){for(;l!==null;){var o=qi(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=xn(o.pendingLanes);if(d!==0){var p=o;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var S=1<<31-Te(d);p.entanglements[1]|=S,d&=~S}Xi(o),(At&6)===0&&(mr=Mt()+500,yo(0))}}break;case 31:case 13:p=Ya(o,2),p!==null&&si(p,o,2),fr(),Ld(o,2)}if(o=Id(a),o===null&&Ad(e,n,a,kr,i),o===l)break;l=o}l!==null&&a.stopPropagation()}else Ad(e,n,a,null,i)}}function Id(e){return e=ii(e),_d(e)}var kr=null;function _d(e){if(kr=null,e=_i(e),e!==null){var n=g(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=x(n),e!==null)return e;e=null}else if(i===31){if(e=y(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return kr=e,null}function Rm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Vn:return 2;case ft:return 8;case Qn:case Ht:return 32;case rn:return 268435456;default:return 32}default:return 32}}var qd=!1,Ha=null,Ua=null,Oa=null,Co=new Map,Ao=new Map,La=[],cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(e,n){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function Do(e,n,i,a,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:o,targetContainers:[l]},n!==null&&(n=qi(n),n!==null&&zm(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function ug(e,n,i,a,l){switch(n){case"focusin":return Ha=Do(Ha,e,n,i,a,l),!0;case"dragenter":return Ua=Do(Ua,e,n,i,a,l),!0;case"mouseover":return Oa=Do(Oa,e,n,i,a,l),!0;case"pointerover":var o=l.pointerId;return Co.set(o,Do(Co.get(o)||null,e,n,i,a,l)),!0;case"gotpointercapture":return o=l.pointerId,Ao.set(o,Do(Ao.get(o)||null,e,n,i,a,l)),!0}return!1}function Em(e){var n=_i(e.target);if(n!==null){var i=g(n);if(i!==null){if(n=i.tag,n===13){if(n=x(i),n!==null){e.blockedOn=n,vt(e.priority,function(){Bm(i)});return}}else if(n===31){if(n=y(i),n!==null){e.blockedOn=n,vt(e.priority,function(){Bm(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Er(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Id(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);En=a,i.target.dispatchEvent(a),En=null}else return n=qi(i),n!==null&&zm(n),e.blockedOn=i,!1;n.shift()}return!0}function Nm(e,n,i){Er(e)&&i.delete(n)}function pg(){qd=!1,Ha!==null&&Er(Ha)&&(Ha=null),Ua!==null&&Er(Ua)&&(Ua=null),Oa!==null&&Er(Oa)&&(Oa=null),Co.forEach(Nm),Ao.forEach(Nm)}function Nr(e,n){e.blockedOn===n&&(e.blockedOn=null,qd||(qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pg)))}var Mr=null;function Mm(e){Mr!==e&&(Mr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var n=0;n<e.length;n+=3){var i=e[n],a=e[n+1],l=e[n+2];if(typeof a!="function"){if(_d(a||i)===null)continue;break}var o=qi(i);o!==null&&(e.splice(n,3),n-=3,Is(o,{pending:!0,data:l,method:i.method,action:a},a,l))}}))}function Ol(e){function n(S){return Nr(S,e)}Ha!==null&&Nr(Ha,e),Ua!==null&&Nr(Ua,e),Oa!==null&&Nr(Oa,e),Co.forEach(n),Ao.forEach(n);for(var i=0;i<La.length;i++){var a=La[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<La.length&&(i=La[0],i.blockedOn===null);)Em(i),i.blockedOn===null&&La.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var l=i[a],o=i[a+1],d=l[Kt]||null;if(typeof o=="function")d||Mm(i);else if(d){var p=null;if(o&&o.hasAttribute("formAction")){if(l=o,d=o[Kt]||null)p=d.formAction;else if(_d(l)!==null)continue}else p=d.action;typeof p=="function"?i[a+1]=p:(i.splice(a,3),a-=3),Mm(i)}}}function Hm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return l=d})},focusReset:"manual",scroll:"manual"})}function n(){l!==null&&(l(),l=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),l!==null&&(l(),l=null)}}}function Gd(e){this._internalRoot=e}Hr.prototype.render=Gd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(c(409));var i=n.current,a=vi();Dm(i,a,e,n,null,null)},Hr.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dm(e.current,2,null,e,null,null),fr(),n[Si]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var n=ke();e={blockedOn:null,target:e,priority:n};for(var i=0;i<La.length&&n!==0&&n<La[i].priority;i++);La.splice(i,0,e),i===0&&Em(e)}};var Um=s.version;if(Um!=="19.2.1")throw Error(c(527,Um,"19.2.1"));ce.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=j(n),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var mg={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{ve=Ur.inject(mg),je=Ur}catch{}}return zo.createRoot=function(e,n){if(!f(e))throw Error(c(299));var i=!1,a="",l=Gu,o=Wu,d=Yu;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Cm(e,1,!1,null,null,i,a,null,l,o,d,Hm),e[Si]=n.current,Cd(e),new Gd(n)},zo.hydrateRoot=function(e,n,i){if(!f(e))throw Error(c(299));var a=!1,l="",o=Gu,d=Wu,p=Yu,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(o=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),n=Cm(e,1,!0,n,i??null,a,l,S,o,d,p,Hm),n.context=Am(null),i=n.current,a=vi(),a=ne(a),l=wa(a),l.callback=null,Ca(i,l,a),i=a,n.current.lanes=i,Ut(n,i),Xi(n),e[Si]=n.current,Cd(e),new Hr(n)},zo.version="19.2.1",zo}var Ym;function Wg(){if(Ym)return Yd.exports;Ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Yd.exports=Gg(),Yd.exports}var Yg=Wg();const Fg=()=>t.jsxs("div",{style:De.container,children:[t.jsx("div",{style:De.hero,children:t.jsxs("div",{style:De.heroContent,children:[t.jsxs("h1",{style:De.heroTitle,children:[t.jsx("span",{style:De.gradientText,children:"Healthcare"})," at Your Fingertips"]}),t.jsx("p",{style:De.heroSubtitle,children:"Book appointments with top doctors and hospitals instantly. No registration required!"}),t.jsxs("div",{style:De.ctaButtons,children:[t.jsxs(ji,{to:"/book",style:De.primaryCta,children:[t.jsx("span",{style:{display:"inline-flex",marginRight:"10px",lineHeight:0},"aria-hidden":"true",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[t.jsx("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.jsx("path",{d:"M16 3v4M8 3v4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 11h10M7 15h10",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Book Appointment Now"]}),t.jsx("a",{href:"#features",style:De.secondaryCta,children:"Learn More "})]}),t.jsxs("div",{style:De.statsBar,children:[t.jsxs("div",{style:De.statItem,children:[t.jsx("div",{style:De.statNumber,children:"1000+"}),t.jsx("div",{style:De.statLabel,children:"Doctors"})]}),t.jsx("div",{style:De.statDivider}),t.jsxs("div",{style:De.statItem,children:[t.jsx("div",{style:De.statNumber,children:"50+"}),t.jsx("div",{style:De.statLabel,children:"Hospitals"})]}),t.jsx("div",{style:De.statDivider}),t.jsxs("div",{style:De.statItem,children:[t.jsx("div",{style:De.statNumber,children:"10k+"}),t.jsx("div",{style:De.statLabel,children:"Happy Patients"})]})]})]})}),t.jsxs("div",{id:"features",style:De.featuresSection,children:[t.jsx("h2",{style:De.sectionTitle,children:"Why Choose Us?"}),t.jsxs("div",{style:De.featuresGrid,children:[t.jsxs("div",{style:De.featureCard,children:[t.jsx("div",{style:{...De.iconCircle,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:""}),t.jsx("h3",{style:De.featureTitle,children:"Wide Network"}),t.jsx("p",{style:De.featureText,children:"Access to 1000+ verified doctors and 50+ hospitals across multiple cities"})]}),t.jsxs("div",{style:De.featureCard,children:[t.jsx("div",{style:{...De.iconCircle,background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:""}),t.jsx("h3",{style:De.featureTitle,children:"Instant Booking"}),t.jsx("p",{style:De.featureText,children:"Book appointments in seconds without any registration hassle"})]}),t.jsxs("div",{style:De.featureCard,children:[t.jsx("div",{style:{...De.iconCircle,background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:""}),t.jsx("h3",{style:De.featureTitle,children:"Secure Payments"}),t.jsx("p",{style:De.featureText,children:"Safe and secure online payment with multiple payment options"})]}),t.jsxs("div",{style:De.featureCard,children:[t.jsx("div",{style:{...De.iconCircle,background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},children:""}),t.jsx("h3",{style:De.featureTitle,children:"Easy Rescheduling"}),t.jsx("p",{style:De.featureText,children:"Reschedule or cancel appointments easily with just a few clicks"})]})]})]}),t.jsxs("div",{style:De.providerSection,children:[t.jsxs("div",{style:De.providerCard,children:[t.jsx("div",{style:De.providerIcon,children:""}),t.jsx("h3",{style:De.providerTitle,children:"Are you a Doctor?"}),t.jsx("p",{style:De.providerText,children:"Join our platform and manage your appointments efficiently"}),t.jsxs("div",{style:De.providerButtons,children:[t.jsx(ji,{to:"/login",style:De.loginButton,children:"Login"}),t.jsx(ji,{to:"/register",style:De.registerButton,children:"Register"})]})]}),t.jsxs("div",{style:De.providerCard,children:[t.jsx("div",{style:De.providerIcon,children:""}),t.jsx("h3",{style:De.providerTitle,children:"Hospital?"}),t.jsx("p",{style:De.providerText,children:"Digitize your hospital operations and reach more patients"}),t.jsxs("div",{style:De.providerButtons,children:[t.jsx(ji,{to:"/login",style:De.loginButton,children:"Login"}),t.jsx(ji,{to:"/register",style:De.registerButton,children:"Register"})]})]})]}),!1,t.jsxs("div",{style:De.footer,children:[t.jsx("p",{style:De.footerText,children:" 2025 Souldoc. All rights reserved."}),t.jsxs("div",{style:De.footerLinks,children:[t.jsx("a",{href:"/privacy",style:De.footerLink,children:"Privacy Policy"}),t.jsx("span",{style:De.footerDivider,children:""}),t.jsx("a",{href:"/terms",style:De.footerLink,children:"Terms of Service"}),t.jsx("span",{style:De.footerDivider,children:""}),t.jsx("a",{href:"mailto:pauljos@gmail.com",style:De.footerLink,children:"Contact Us"})]})]}),t.jsx("style",{children:`
                @keyframes fadeInUp {
                    from {
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                @keyframes float {
                    0%, 100% {
                        transform: translateY(0px);
                    }
                    50% {
                        transform: translateY(-20px);
                    }
                }
                
                @keyframes pulse {
                    0%, 100% {
                        transform: scale(1);
                    }
                    50% {
                        transform: scale(1.05);
                    }
                }
            `})]}),De={container:{minHeight:"100vh",background:"linear-gradient(to bottom, #f8f9fa, #ffffff)"},hero:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"80px 20px",textAlign:"center",position:"relative",overflow:"hidden"},heroContent:{maxWidth:"1200px",margin:"0 auto",position:"relative",zIndex:1,animation:"fadeInUp 0.8s ease-out"},heroTitle:{fontSize:"clamp(2rem, 5vw, 3.5rem)",fontWeight:"800",color:"white",marginBottom:"20px",lineHeight:"1.2"},gradientText:{background:"linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},heroSubtitle:{fontSize:"clamp(1rem, 2vw, 1.3rem)",color:"rgba(255, 255, 255, 0.9)",marginBottom:"40px",maxWidth:"700px",margin:"0 auto 40px",lineHeight:"1.6"},ctaButtons:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap",marginBottom:"60px"},primaryCta:{padding:"18px 40px",background:"white",color:"#667eea",borderRadius:"50px",textDecoration:"none",fontSize:"1.1rem",fontWeight:"600",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center"},secondaryCta:{padding:"18px 40px",background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid white",borderRadius:"50px",textDecoration:"none",fontSize:"1.1rem",fontWeight:"600",backdropFilter:"blur(10px)",transition:"all 0.3s ease"},statsBar:{display:"flex",justifyContent:"center",alignItems:"center",gap:"40px",flexWrap:"wrap",padding:"30px",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",backdropFilter:"blur(10px)",maxWidth:"800px",margin:"0 auto"},statItem:{textAlign:"center"},statNumber:{fontSize:"2.5rem",fontWeight:"800",color:"white",marginBottom:"5px"},statLabel:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},statDivider:{width:"2px",height:"60px",background:"rgba(255, 255, 255, 0.3)"},featuresSection:{padding:"80px 20px",maxWidth:"1200px",margin:"0 auto"},sectionTitle:{fontSize:"clamp(2rem, 4vw, 2.5rem)",fontWeight:"700",textAlign:"center",marginBottom:"60px",color:"#333"},featuresGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"30px"},featureCard:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 5px 20px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease",cursor:"pointer",minWidth:"0"},iconCircle:{width:"80px",height:"80px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 20px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)"},featureTitle:{fontSize:"1.3rem",fontWeight:"600",marginBottom:"15px",color:"#333"},featureText:{color:"#666",lineHeight:"1.6",fontSize:"0.95rem"},providerSection:{padding:"80px 20px",maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"40px"},providerCard:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"50px 40px",borderRadius:"25px",textAlign:"center",color:"white",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},providerIcon:{fontSize:"4rem",marginBottom:"20px",animation:"float 3s ease-in-out infinite"},providerTitle:{fontSize:"1.8rem",fontWeight:"700",marginBottom:"15px"},providerText:{fontSize:"1rem",opacity:.9,marginBottom:"30px",lineHeight:"1.6"},providerButtons:{display:"flex",gap:"15px",justifyContent:"center"},loginButton:{padding:"12px 30px",background:"white",color:"#667eea",borderRadius:"50px",textDecoration:"none",fontWeight:"600",transition:"all 0.3s ease"},registerButton:{padding:"12px 30px",background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid white",borderRadius:"50px",textDecoration:"none",fontWeight:"600",backdropFilter:"blur(10px)",transition:"all 0.3s ease"},footer:{background:"#2d3436",color:"white",padding:"40px 20px",textAlign:"center"},footerText:{margin:"0 0 15px 0",opacity:.8},footerLinks:{display:"flex",justifyContent:"center",gap:"15px",flexWrap:"wrap",alignItems:"center"},footerLink:{color:"white",textDecoration:"none",opacity:.8,transition:"opacity 0.3s"},footerDivider:{opacity:.5}};const Vg="type.googleapis.com/google.protobuf.Int64Value",Qg="type.googleapis.com/google.protobuf.UInt64Value";function eh(r,s){const u={};for(const c in r)r.hasOwnProperty(c)&&(u[c]=s(r[c]));return u}function _r(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(s=>_r(s));if(typeof r=="function"||typeof r=="object")return eh(r,s=>_r(s));throw new Error("Data cannot be encoded in JSON: "+r)}function Ll(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case Vg:case Qg:{const s=Number(r.value);if(isNaN(s))throw new Error("Data cannot be decoded from JSON: "+r);return s}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(s=>Ll(s)):typeof r=="function"||typeof r=="object"?eh(r,s=>Ll(s)):r}const nc="functions";const Fm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ui extends Bg{constructor(s,u,c){super(`${nc}/${s}`,u||""),this.details=c,Object.setPrototypeOf(this,ui.prototype)}}function Xg(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qr(r,s){let u=Xg(r),c=u,f;try{const g=s&&s.error;if(g){const x=g.status;if(typeof x=="string"){if(!Fm[x])return new ui("internal","internal");u=Fm[x],c=x}const y=g.message;typeof y=="string"&&(c=y),f=g.details,f!==void 0&&(f=Ll(f))}}catch{}return u==="ok"?null:new ui(u,c,f)}class Kg{constructor(s,u,c,f){this.app=s,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,wg(s)&&s.settings.appCheckToken&&(this.serverAppAppCheckToken=s.settings.appCheckToken),this.auth=u.getImmediate({optional:!0}),this.messaging=c.getImmediate({optional:!0}),this.auth||u.get().then(g=>this.auth=g,()=>{}),this.messaging||c.get().then(g=>this.messaging=g,()=>{}),this.appCheck||f?.get().then(g=>this.appCheck=g,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(s){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const u=s?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return u.error?null:u.token}return null}async getContext(s){const u=await this.getAuthToken(),c=await this.getMessagingToken(),f=await this.getAppCheckToken(s);return{authToken:u,messagingToken:c,appCheckToken:f}}}const Jd="us-central1",Zg=/^data: (.*?)(?:\n|$)/;function Jg(r){let s=null;return{promise:new Promise((u,c)=>{s=setTimeout(()=>{c(new ui("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{s&&clearTimeout(s)}}}class $g{constructor(s,u,c,f,g=Jd,x=(...y)=>fetch(...y)){this.app=s,this.fetchImpl=x,this.emulatorOrigin=null,this.contextProvider=new Kg(s,u,c,f),this.cancelAllRequests=new Promise(y=>{this.deleteService=()=>Promise.resolve(y())});try{const y=new URL(g);this.customDomain=y.origin+(y.pathname==="/"?"":y.pathname),this.region=Jd}catch{this.customDomain=null,this.region=g}}_delete(){return this.deleteService()}_url(s){const u=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${u}/${this.region}/${s}`:this.customDomain!==null?`${this.customDomain}/${s}`:`https://${this.region}-${u}.cloudfunctions.net/${s}`}}function ey(r,s,u){const c=$m(s);r.emulatorOrigin=`http${c?"s":""}://${s}:${u}`,c&&(Tg(r.emulatorOrigin+"/backends"),zg("Functions",!0))}function ty(r,s,u){const c=f=>iy(r,s,f,{});return c.stream=(f,g)=>ly(r,s,f,g),c}function th(r){return r.emulatorOrigin&&$m(r.emulatorOrigin)?"include":void 0}async function ny(r,s,u,c,f){u["Content-Type"]="application/json";let g;try{g=await c(r,{method:"POST",body:JSON.stringify(s),headers:u,credentials:th(f)})}catch{return{status:0,json:null}}let x=null;try{x=await g.json()}catch{}return{status:g.status,json:x}}async function nh(r,s){const u={},c=await r.contextProvider.getContext(s.limitedUseAppCheckTokens);return c.authToken&&(u.Authorization="Bearer "+c.authToken),c.messagingToken&&(u["Firebase-Instance-ID-Token"]=c.messagingToken),c.appCheckToken!==null&&(u["X-Firebase-AppCheck"]=c.appCheckToken),u}function iy(r,s,u,c){const f=r._url(s);return ay(r,f,u,c)}async function ay(r,s,u,c){u=_r(u);const f={data:u},g=await nh(r,c),x=c.timeout||7e4,y=Jg(x),w=await Promise.race([ny(s,f,g,r.fetchImpl,r),y.promise,r.cancelAllRequests]);if(y.cancel(),!w)throw new ui("cancelled","Firebase Functions instance was deleted.");const j=qr(w.status,w.json);if(j)throw j;if(!w.json)throw new ui("internal","Response is not valid JSON object.");let C=w.json.data;if(typeof C>"u"&&(C=w.json.result),typeof C>"u")throw new ui("internal","Response is missing data field.");return{data:Ll(C)}}function ly(r,s,u,c){const f=r._url(s);return oy(r,f,u,c||{})}async function oy(r,s,u,c){u=_r(u);const f={data:u},g=await nh(r,c);g["Content-Type"]="application/json",g.Accept="text/event-stream";let x;try{x=await r.fetchImpl(s,{method:"POST",body:JSON.stringify(f),headers:g,signal:c?.signal,credentials:th(r)})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const P=new ui("cancelled","Request was cancelled.");return{data:Promise.reject(P),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(P)}}}}}}const re=qr(0,null);return{data:Promise.reject(re),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(re)}}}}}}let y,w;const j=new Promise((A,re)=>{y=A,w=re});c?.signal?.addEventListener("abort",()=>{const A=new ui("cancelled","Request was cancelled.");w(A)});const C=x.body.getReader(),U=ry(C,y,w,c?.signal);return{stream:{[Symbol.asyncIterator](){const A=U.getReader();return{async next(){const{value:re,done:P}=await A.read();return{value:re,done:P}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:j}}function ry(r,s,u,c){const f=(x,y)=>{const w=x.match(Zg);if(!w)return;const j=w[1];try{const C=JSON.parse(j);if("result"in C){s(Ll(C.result));return}if("message"in C){y.enqueue(Ll(C.message));return}if("error"in C){const U=qr(0,C);y.error(U),u(U);return}}catch(C){if(C instanceof ui){y.error(C),u(C);return}}},g=new TextDecoder;return new ReadableStream({start(x){let y="";return w();async function w(){if(c?.aborted){const j=new ui("cancelled","Request was cancelled");return x.error(j),u(j),Promise.resolve()}try{const{value:j,done:C}=await r.read();if(C){y.trim()&&f(y.trim(),x),x.close();return}if(c?.aborted){const A=new ui("cancelled","Request was cancelled");x.error(A),u(A),await r.cancel();return}y+=g.decode(j,{stream:!0});const U=y.split(`
`);y=U.pop()||"";for(const A of U)A.trim()&&f(A.trim(),x);return w()}catch(j){const C=j instanceof ui?j:qr(0,null);x.error(C),u(C)}}},cancel(){return r.cancel()}})}const Vm="@firebase/functions",Qm="0.13.1";const sy="auth-internal",dy="app-check-internal",cy="messaging-internal";function uy(r){const s=(u,{instanceIdentifier:c})=>{const f=u.getProvider("app").getImmediate(),g=u.getProvider(sy),x=u.getProvider(cy),y=u.getProvider(dy);return new $g(f,g,x,y,c)};jg(new Sg(nc,s,"PUBLIC").setMultipleInstances(!0)),Om(Vm,Qm,r),Om(Vm,Qm,"esm2020")}function ih(r=Cg(),s=Jd){const c=Ag(tc(r),nc).getImmediate({identifier:s}),f=Dg("functions");return f&&py(c,...f),c}function py(r,s,u){ey(tc(r),s,u)}function ic(r,s,u){return ty(tc(r),s)}uy();const my={apiKey:"AIzaSyD8M529DHrG1QBN9UKYexF0trTHrIzo5oM",authDomain:"docsapp-b7430.firebaseapp.com",projectId:"docsapp-b7430",storageBucket:"docsapp-b7430.firebasestorage.app",messagingSenderId:"1011149482238",appId:"1:1011149482238:web:89189afe319f87a6b6ddaf",measurementId:"G-CN15LYGF6F"},ac=Rg(my),Ii=kg(ac),Y=Eg(ac),lc=ih(ac),hy=Object.freeze(Object.defineProperty({__proto__:null,auth:Ii,db:Y,functions:lc},Symbol.toStringTag,{value:"Module"})),fy=async(r,s)=>{const u=Be(Y,"invitations",r),c=await Vt(u);if(!c.exists())throw new Error("Invalid invitation code");const f=c.data();if(f.used)throw new Error("Invitation code already used");if(new Date(f.expiresAt)<new Date)throw new Error("Invitation code expired");await Ft(u,{used:!0,usedBy:s,usedAt:new Date().toISOString()});const g=Be(Y,"users",s);await Ft(g,{hospitalId:f.hospitalId,hospitalName:f.hospitalName});const y=(await Vt(g)).data(),w=Be(Y,"doctors",s);return await ti(w,{userId:s,hospitalId:f.hospitalId,name:y.displayName,email:y.email,specialization:y.specialization||"",createdAt:new Date().toISOString()}),f.hospitalId},gy=async r=>{console.log("getHospitalDoctors called with hospitalId:",r);try{const s=Se(Y,"users"),u=Ae(s,de("hospitalId","==",r)),f=(await He(u)).docs.map(g=>({uid:g.id,id:g.id,...g.data()})).filter(g=>g.role==="doctor");return console.log("Found doctors:",f.length),f}catch(s){return console.error("Error fetching hospital doctors:",s),[]}},yy=async r=>{const s=Se(Y,"appointments"),u=Ae(s,de("hospitalId","==",r));return(await He(u)).docs.map(f=>({id:f.id,...f.data()}))},xy=async r=>{const s=Se(Y,"appointments"),u=Ae(s,de("doctorId","==",r));return(await He(u)).docs.map(f=>({id:f.id,...f.data()}))},by=async(r,s)=>{const u=Be(Y,"users",r);await Ft(u,{isActive:s,updatedAt:new Date().toISOString()})},ah=async(r,s)=>{const u=Be(Y,"users",r);await Ft(u,{...s,updatedAt:new Date().toISOString()})},vy=async(r,s)=>{const u=Be(Y,"users",r);await Ft(u,{hospitalId:null,isActive:!1,updatedAt:new Date().toISOString()})},Qd=async(r,s)=>{const u=Be(Y,"doctorAvailability",r);await ti(u,{doctorId:r,...s,updatedAt:new Date().toISOString()},{merge:!0})},oc=async r=>{const s=Be(Y,"doctorAvailability",r),u=await Vt(s);return u.exists()?u.data():{workingHours:{start:"09:00",end:"17:00"},slotDuration:30,workingDays:[1,2,3,4,5],unavailableDates:[],blockedTimeSlots:[]}},jy=async(r,s)=>{const u=Be(Y,"doctorAvailability",r),c=await Vt(u);let f=[];c.exists()&&(f=c.data().blockedTimeSlots||[]),f.push({...s,id:`block_${Date.now()}`,createdAt:new Date().toISOString()}),await ti(u,{doctorId:r,blockedTimeSlots:f,updatedAt:new Date().toISOString()},{merge:!0})},Sy=async(r,s)=>{const u=Be(Y,"doctorAvailability",r),c=await Vt(u);if(c.exists()){const g=(c.data().blockedTimeSlots||[]).filter(x=>x.id!==s);await Ft(u,{blockedTimeSlots:g,updatedAt:new Date().toISOString()})}},Xm=async r=>{const s=Ae(Se(Y,"users"),de("hospitalId","==",r),de("role","==","doctor"));Ae(Se(Y,"users"),de("hospitalId","==",r),de("role","==","doctor"));const u=Se(Y,"appointments"),c=Ae(u,de("hospitalId","==",r)),f=Ae(u,de("hospitalId","==",r),de("status","==","completed")),g=new Date().toISOString().split("T")[0],x=Ae(u,de("hospitalId","==",r),de("date","==",g));let y=0;try{y=(await Lr(f,{totalRevenue:Pr("fee")})).data().totalRevenue||0}catch(re){console.warn("Revenue aggregation failed (likely missing index):",re)}let w=0,j=0;try{w=(await ci(s)).data().count,j=(await ci(activeDoctorsQuery)).data().count}catch(re){console.warn("Doctor stats counting failed (likely missing index or collection mismatch):",re)}const[C,U,A]=await Promise.all([ci(c),ci(f),ci(x)]);return{totalDoctors:w,activeDoctors:j,totalAppointments:C.data().count,todayAppointments:A.data().count,completedAppointments:U.data().count,totalRevenue:y}},wy=async r=>{const s=Se(Y,"appointments"),u=Ae(s,de("doctorId","==",r)),c=Ae(s,de("doctorId","==",r),de("status","==","completed")),f=new Date().toISOString().split("T")[0],g=Ae(s,de("doctorId","==",r),de("date","==",f)),[x,y,w]=await Promise.all([ci(u),ci(c),ci(g)]);return{totalAppointments:x.data().count,todayAppointments:w.data().count,completedAppointments:y.data().count}},Cy=async(r,s,u)=>{try{console.log("addNewDoctorToHospital called with:",{hospitalId:r,hospitalName:s,doctorData:u});const c=`doctor_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f=Be(Y,"users",c),g={uid:c,displayName:u.displayName,email:u.email,phone:u.phone,specialization:u.specialization,consultationFee:u.consultationFee,role:"doctor",hospitalId:r,hospitalName:s,isActive:!0,createdAt:new Date().toISOString(),country:u.country||"",state:u.state||"",city:u.city||""};console.log("Creating doctor document with data:",g),await ti(f,g),console.log("Doctor document created successfully with ID:",c);const x=Be(Y,"doctorAvailability",c);return await ti(x,{doctorId:c,workingHours:{start:"09:00",end:"17:00"},slotDuration:30,workingDays:[1,2,3,4,5],unavailableDates:[],blockedTimeSlots:[],updatedAt:new Date().toISOString()}),console.log("Doctor availability created successfully"),c}catch(c){throw console.error("Error in addNewDoctorToHospital:",c),c}},Ay=async(r,s,u)=>{const c=`VISIT_${Date.now()}`,f=Be(Y,"users",r,"visits",c);return await ti(f,{...u,doctorId:s,date:new Date().toISOString(),createdAt:new Date().toISOString()}),c},Dy=async(r,s,u)=>{const c=`RX_${Date.now()}`,f=Be(Y,"users",r,"prescriptions",c);return await ti(f,{...u,doctorId:s,patientId:r,date:new Date().toISOString(),createdAt:new Date().toISOString()}),c},lh=async(r,s,u,c=null,f={})=>{if(console.log("=== registerUser CALLED ==="),console.log("Email:",r,"Role:",c,"Name:",u),!s||!u)throw new Error("Name and password are required");if(c==="patient"){const x=f.phone;if(!x)throw new Error("Phone number is required for patient registration");const y=`patient_${x.replace(/\D/g,"")}@docsapp.local`;console.log("Patient registration with phone:",x),console.log("Generated email for Firebase:",y);try{const j=(await Lm(Ii,y,s)).user;await Pm(j,{displayName:u});const C=Be(Y,"users",j.uid),U={uid:j.uid,phone:x,displayName:u,role:"patient",createdAt:new Date().toISOString(),...f};return await ti(C,U),U}catch(w){throw console.error("Patient Registration Error:",w),w}}if(!r)throw new Error("Email is required for doctor/hospital registration");const g=String(r).trim().toLowerCase();if(console.log("Original email:",r),console.log("Cleaned email:",g),console.log("Email length:",g.length),!g.includes("@")||g.length<3)throw new Error("Please enter a valid email address");try{console.log("auth.js: Creating user with email and password...");const y=(await Lm(Ii,g,s)).user;console.log("auth.js: User created, UID:",y.uid),console.log("auth.js: Updating user profile..."),await Pm(y,{displayName:u}),console.log("auth.js: Profile updated");let w=null;if(c==="hospital"){console.log("auth.js: Creating hospital document..."),w=`hospital_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;const A=Be(Y,"hospitals",w),re={id:w,name:u,email:g,ownerId:y.uid,enabled:!0,createdAt:new Date().toISOString(),...f};console.log("auth.js: Hospital data to save:",re);try{await ti(A,re),console.log(" auth.js: Hospital document created successfully with ID:",w)}catch(P){throw console.error(" auth.js: FAILED to create hospital document:",P),console.error("Error code:",P.code),console.error("Error message:",P.message),new Error(`Failed to create hospital: ${P.message}`)}}console.log("auth.js: Creating user document in Firestore...");const j=Be(Y,"users",y.uid),C={uid:y.uid,email:g,displayName:u,createdAt:new Date().toISOString(),...w&&{hospitalId:w},...c&&{role:c},...f};console.log("auth.js: User data to save:",C);try{await ti(j,C),console.log(" auth.js: User document created successfully")}catch(A){throw console.error(" auth.js: FAILED to create user document:",A),console.error("Error code:",A.code),console.error("Error message:",A.message),new Error(`Failed to create user profile: ${A.message}`)}await new Promise(A=>setTimeout(A,500));const U=await Vt(j);if(U.exists()?console.log("auth.js: Verified user document exists:",U.data()):console.error("auth.js: WARNING - User document not found after creation!"),c==="doctor"&&f.invitationCode){console.log("auth.js: Processing invitation code...");try{await fy(f.invitationCode,y.uid),console.log("auth.js: Doctor linked to hospital via invitation code")}catch(A){console.error("auth.js: Error using invitation code:",A)}}return console.log("auth.js: Registration complete, returning userData"),C}catch(x){throw console.error("Registration Error:",x),x}},Ty=async(r,s)=>{if(!r||!s)throw new Error("Email/Phone and password are required");const u=String(r).trim().toLowerCase(),c=/^[\d\s\-\+\(\)]+$/.test(u.replace(/\s/g,""));let f=u;if(c)f=`patient_${u.replace(/\D/g,"")}@docsapp.local`,console.log("Phone login detected, using email:",f);else if(!u.includes("@")||u.length<3)throw new Error("Please enter a valid email address or phone number");try{return(await Ng(Ii,f,s)).user}catch(g){throw console.error("Login Error:",g),g}},zy=async()=>Hg(Ii),By=async r=>{try{const s={url:window.location.origin+"/login",handleCodeInApp:!1};return console.log("========================================"),console.log("PASSWORD RESET DIAGNOSTIC INFO:"),console.log("Email to reset:",r),console.log("Firebase Auth Domain:",Ii.config.authDomain),console.log("Firebase Project ID:",Ii.config.apiKey.includes("mock")?"MOCK PROJECT":"Real Project"),console.log("Redirect URL:",s.url),console.log("Current User:",Ii.currentUser?.email||"Not logged in"),console.log("========================================"),console.log("Attempting to send password reset email to:",r),await Mg(Ii,r,s),console.log("========================================"),console.log(" SUCCESS: Password reset email sent"),console.log("From: noreply@"+Ii.config.authDomain),console.log("To:",r),console.log("Action: Check spam folder and wait 2-5 minutes"),console.log("========================================"),{success:!0,message:"Password reset email sent successfully"}}catch(s){console.error("========================================"),console.error(" ERROR: Password reset failed"),console.error("Error code:",s.code),console.error("Error message:",s.message),console.error("Full error:",s),console.error("========================================");let u="Failed to send password reset email.";throw s.code==="auth/user-not-found"?u="No account found with this email address.":s.code==="auth/invalid-email"?u="Invalid email address format.":s.code==="auth/too-many-requests"?u="Too many attempts. Please try again later.":(s.code==="auth/missing-android-pkg-name"||s.code==="auth/missing-continue-uri"||s.code==="auth/missing-ios-bundle-id"||s.code==="auth/invalid-continue-uri"||s.code==="auth/unauthorized-continue-uri")&&(u="Configuration error. Please contact support."),new Error(u)}},Ry=()=>{const[r,s]=b.useState(""),[u,c]=b.useState(""),[f,g]=b.useState(""),[x,y]=b.useState(""),[w,j]=b.useState(!1),[C,U]=b.useState(""),[A,re]=b.useState(!1),[P,K]=b.useState(""),[G,se]=b.useState(!1),[E,le]=b.useState(!1),oe=al(),B=yg();b.useEffect(()=>{B.state?.message&&(y(B.state.message),window.history.replaceState({},document.title))},[B]);const $e=async ue=>{ue.preventDefault(),le(!0),g("");try{await Ty(r.trim(),u),oe("/dashboard")}catch{g("Failed to login. Please check your credentials.")}finally{le(!1)}},ht=async ue=>{ue.preventDefault(),re(!0),K(""),g("");try{console.log("Requesting password reset for:",C.trim()),await By(C.trim()),K("Password reset email sent! Check your inbox and spam folder."),U(""),setTimeout(()=>{j(!1),K("")},5e3)}catch(I){console.error("Password reset error:",I),g(I.message||"Failed to send reset email.")}finally{re(!1)}},$={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"clamp(0.75rem, 3vw, 2rem)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},card:{background:"white",borderRadius:"clamp(15px, 3vw, 20px)",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxWidth:"440px",width:"100%",overflow:"hidden",animation:"slideUp 0.5s ease-out"},header:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"clamp(1.5rem, 4vw, 2.5rem) clamp(1.25rem, 4vw, 2rem)",textAlign:"center",color:"white"},title:{margin:0,fontSize:"clamp(1.5rem, 5vw, 2rem)",fontWeight:"700",marginBottom:"0.5rem",letterSpacing:"-0.5px"},subtitle:{margin:0,fontSize:"clamp(0.85rem, 2.5vw, 0.95rem)",opacity:.95,fontWeight:"400"},body:{padding:"clamp(1.25rem, 4vw, 2rem)"},alert:{padding:"clamp(0.75rem, 2vw, 1rem)",borderRadius:"12px",marginBottom:"clamp(1rem, 3vw, 1.5rem)",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.5rem",animation:"fadeIn 0.3s ease-out",fontSize:"clamp(0.85rem, 2.5vw, 0.95rem)"},successAlert:{background:"#d1f4e0",color:"#0d6832",border:"1px solid #a7e9c3"},errorAlert:{background:"#fee",color:"#c81e1e",border:"1px solid #fcc"},infoBox:{background:"#f0f4ff",padding:"clamp(0.75rem, 2vw, 1rem)",borderRadius:"12px",marginBottom:"clamp(1rem, 3vw, 1.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.9rem)",color:"#4a5568",textAlign:"center",border:"1px solid #d6e0ff",lineHeight:"1.5"},form:{display:"flex",flexDirection:"column",gap:"clamp(1rem, 3vw, 1.25rem)"},inputGroup:{position:"relative"},label:{display:"block",marginBottom:"0.5rem",fontSize:"clamp(0.85rem, 2.5vw, 0.9rem)",fontWeight:"600",color:"#374151"},input:{width:"100%",padding:"clamp(0.7rem, 2vw, 0.875rem) clamp(0.85rem, 2.5vw, 1rem)",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},passwordWrapper:{position:"relative"},eyeButton:{position:"absolute",right:"clamp(0.75rem, 2vw, 1rem)",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"clamp(1.1rem, 3vw, 1.25rem)",color:"#6b7280",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center"},forgotLink:{textAlign:"right",marginTop:"-0.5rem"},linkButton:{background:"none",border:"none",color:"#667eea",cursor:"pointer",fontSize:"clamp(0.8rem, 2.5vw, 0.9rem)",fontWeight:"600",textDecoration:"none",padding:0},submitButton:{width:"100%",padding:"clamp(0.85rem, 2.5vw, 1rem)",fontSize:"clamp(0.95rem, 3vw, 1rem)",fontWeight:"600",color:"white",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",marginTop:"0.5rem"},submitButtonDisabled:{opacity:.6,cursor:"not-allowed",transform:"none"},divider:{display:"flex",alignItems:"center",textAlign:"center",margin:"clamp(1rem, 3vw, 1.5rem) 0",color:"#9ca3af",fontSize:"clamp(0.8rem, 2.5vw, 0.9rem)"},dividerLine:{flex:1,height:"1px",background:"#e5e7eb"},dividerText:{padding:"0 clamp(0.75rem, 2vw, 1rem)"},registerLink:{textAlign:"center",color:"#6b7280",fontSize:"clamp(0.85rem, 2.5vw, 0.95rem)"},link:{color:"#667eea",fontWeight:"600",textDecoration:"none"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out",backdropFilter:"blur(4px)"},modal:{background:"white",padding:"2rem",borderRadius:"20px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.4)",maxWidth:"440px",width:"90%",animation:"slideUp 0.3s ease-out"},modalTitle:{marginTop:0,fontSize:"1.75rem",fontWeight:"700",color:"#1f2937",marginBottom:"0.5rem"},modalText:{color:"#6b7280",fontSize:"0.95rem",marginBottom:"1.5rem",lineHeight:"1.6"},buttonGroup:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},primaryButton:{flex:1,padding:"0.875rem",fontSize:"1rem",fontWeight:"600",color:"white",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease"},secondaryButton:{flex:1,padding:"0.875rem",fontSize:"1rem",fontWeight:"600",color:"#4b5563",background:"#f3f4f6",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease"}};return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:`
                    @keyframes slideUp {
                        from {
                            opacity: 0;
                            transform: translateY(30px);
                        }
                        to {
                            opacity: 1;
                            transform: translateY(0);
                        }
                    }
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    input:focus {
                        border-color: #667eea !important;
                        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
                    }
                    button:hover:not(:disabled) {
                        transform: translateY(-2px);
                    }
                    button:active:not(:disabled) {
                        transform: translateY(0);
                    }
                    a:hover {
                        text-decoration: underline;
                    }
                `}),t.jsxs("div",{style:$.container,children:[t.jsxs("div",{style:$.card,children:[t.jsxs("div",{style:$.header,children:[t.jsx("h1",{style:$.title,children:"Welcome Back"}),t.jsx("p",{style:$.subtitle,children:"Sign in to your account"})]}),t.jsxs("div",{style:$.body,children:[x&&t.jsxs("div",{style:{...$.alert,...$.successAlert},children:[t.jsx("span",{style:{fontSize:"1.25rem"},children:""}),t.jsx("span",{children:x})]}),f&&t.jsxs("div",{style:{...$.alert,...$.errorAlert},children:[t.jsx("span",{style:{fontSize:"1.25rem"},children:""}),t.jsx("span",{children:f})]}),t.jsxs("div",{style:$.infoBox,children:[t.jsx("strong",{children:"For Doctors & Hospitals"}),t.jsxs("div",{style:{marginTop:"0.5rem"},children:["Patients don't need to login. ",t.jsx(ji,{to:"/book",style:$.link,children:"Book appointment "})]})]}),t.jsxs("form",{onSubmit:$e,style:$.form,children:[t.jsxs("div",{style:$.inputGroup,children:[t.jsx("label",{style:$.label,children:"Email Address"}),t.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:ue=>s(ue.target.value),required:!0,style:$.input})]}),t.jsxs("div",{style:$.inputGroup,children:[t.jsx("label",{style:$.label,children:"Password"}),t.jsxs("div",{style:$.passwordWrapper,children:[t.jsx("input",{type:G?"text":"password",placeholder:"Enter your password",value:u,onChange:ue=>c(ue.target.value),required:!0,style:$.input}),t.jsx("button",{type:"button",onClick:()=>se(!G),style:$.eyeButton,"aria-label":G?"Hide password":"Show password",children:G?"":""})]})]}),t.jsx("div",{style:$.forgotLink,children:t.jsx("button",{type:"button",onClick:()=>j(!0),style:$.linkButton,children:"Forgot Password?"})}),t.jsx("button",{type:"submit",style:{...$.submitButton,...E?$.submitButtonDisabled:{}},disabled:E,children:E?" Signing in...":"Sign In"})]}),t.jsxs("div",{style:$.divider,children:[t.jsx("div",{style:$.dividerLine}),t.jsx("span",{style:$.dividerText,children:"or"}),t.jsx("div",{style:$.dividerLine})]}),t.jsxs("div",{style:$.registerLink,children:["Don't have an account? ",t.jsx(ji,{to:"/register",style:$.link,children:"Create Account"})]})]})]}),w&&t.jsx("div",{style:$.modalOverlay,onClick:()=>j(!1),children:t.jsxs("div",{style:$.modal,onClick:ue=>ue.stopPropagation(),children:[t.jsx("h3",{style:$.modalTitle,children:"Reset Password"}),t.jsx("p",{style:$.modalText,children:"Enter your email address and we'll send you a link to reset your password."}),P&&t.jsxs("div",{style:{...$.alert,...$.successAlert},children:[t.jsx("span",{style:{fontSize:"1.25rem"},children:""}),t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"0.5rem",fontWeight:"600"},children:"Email sent successfully!"}),t.jsx("small",{style:{display:"block",fontSize:"0.85rem",opacity:.9},children:" Check your spam folder if you don't see it within a few minutes"})]})]}),t.jsxs("form",{onSubmit:ht,style:$.form,children:[t.jsxs("div",{style:$.inputGroup,children:[t.jsx("label",{style:$.label,children:"Email Address"}),t.jsx("input",{type:"email",placeholder:"Enter your email",value:C,onChange:ue=>U(ue.target.value),required:!0,style:$.input})]}),t.jsxs("div",{style:$.buttonGroup,children:[t.jsx("button",{type:"submit",disabled:A,style:{...$.primaryButton,...A?$.submitButtonDisabled:{}},children:A?" Sending...":"Send Reset Link"}),t.jsx("button",{type:"button",onClick:()=>{j(!1),U(""),K(""),g("")},style:$.secondaryButton,children:"Cancel"})]})]})]})})]})]})},oh=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Costa Rica","Croatia","Cuba","Cyprus","Czechia (Czech Republic)","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini (fmr. 'Swaziland')","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (formerly Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],ky={India:["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Puducherry","Jammu and Kashmir","Ladakh"],"United States of America":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],"United Kingdom":["England","Scotland","Wales","Northern Ireland"]},rh={India:{Maharashtra:["Mumbai","Pune","Nagpur","Nashik","Thane"],Karnataka:["Bengaluru","Mysore","Mangalore","Hubli"],Delhi:["New Delhi","Central Delhi","South Delhi","North Delhi"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli"]},"United States of America":{California:["Los Angeles","San Francisco","San Diego","Sacramento"],Texas:["Houston","Dallas","Austin","San Antonio"],"New York":["New York City","Buffalo","Rochester","Albany"]},"United Kingdom":{England:["London","Manchester","Birmingham","Leeds"],Scotland:["Edinburgh","Glasgow","Aberdeen"],Wales:["Cardiff","Swansea","Newport"],"Northern Ireland":["Belfast","Londonderry","Lisburn"]}};rh["United Arab Emirates"]={Dubai:["Dubai","Jumeirah","Deira","Al Quoz"],"Abu Dhabi":["Abu Dhabi","Al Ain","Mussafah"],Sharjah:["Sharjah","Khor Fakkan","Al Dhaid"],RasAlKhaimah:["Ras Al Khaimah","Digdaga"],Ajman:["Ajman"],Fujairah:["Fujairah"]};const Ey=(r,s)=>{if(!r||!s)return null;const u=_l[r.trim()]||r.trim(),c=rh[u];return c&&(c[s]||c[s.trim()])||null},Ny={India:{Maharashtra:{Mumbai:["Mumbai City","Mumbai Suburban","Bandra","Andheri"],Pune:["Pune City","Pune Rural","Haveli","Shivajinagar"]},Karnataka:{Bengaluru:["Bengaluru Urban","Bengaluru Rural"]},Delhi:{"New Delhi":["Central Delhi","South Delhi","North Delhi"]}},"United States of America":{California:{"Los Angeles":["Los Angeles County"],"San Francisco":["San Francisco County"]},Texas:{Houston:["Harris County"],Dallas:["Dallas County"]}},"United Kingdom":{England:{London:["Greater London"],Manchester:["Greater Manchester"],Birmingham:["West Midlands"]}},"United Arab Emirates":{Dubai:{Dubai:["Deira","Bur Dubai","Jumeirah","Al Rigga"]},"Abu Dhabi":{"Abu Dhabi":["Al Zahiya","Mussafah","Khalifa City"]}}},My=r=>{if(!r)return"District / County";switch(_l[r.trim()]||r.trim()){case"India":return"District";case"United States of America":return"County";case"United Kingdom":return"County";case"United Arab Emirates":return"Area";default:return"District / County"}},_l={USA:"United States of America",US:"United States of America","United States":"United States of America","United Kingdom":"United Kingdom",UK:"United Kingdom","Great Britain":"United Kingdom",Britain:"United Kingdom",India:"India",IN:"India"};_l.UAE="United Arab Emirates";_l["United Arab Emirates"]="United Arab Emirates";const Hy=r=>{if(!r)return null;const u=_l[r.trim()]||r.trim();return ky[u]||null},Uy=(r,s,u)=>{if(!r||!s||!u)return null;const c=_l[r.trim()]||r.trim(),f=Ny[c];if(!f)return null;const g=f[s]||f[s.trim()];return g&&(g[u]||g[u.trim()])||null},sh=b.createContext(),Ia=()=>b.useContext(sh),Oy=({children:r})=>{const[s,u]=b.useState(null),[c,f]=b.useState(null),[g,x]=b.useState(!0);b.useEffect(()=>{let C=null;const U=Ug(Ii,A=>{if(console.log("AuthContext: onAuthStateChanged fired, user:",A?.uid),u(A),C&&(C(),C=null),A){console.log("AuthContext: Setting up profile listener for:",A.uid);const re=Ae(Se(Y,"users"),de("uid","==",A.uid));C=Og(re,P=>{if(P.empty)console.log("AuthContext: No profile document found yet (might be creating...)"),f(null);else{const K=P.docs[0].data();console.log("AuthContext: Profile updated via snapshot:",K),f(K)}x(!1)},P=>{console.error("AuthContext: Profile snapshot error:",P),x(!1)})}else f(null),x(!1)});return()=>{U(),C&&C()}},[]);const j={...{currentUser:s,userProfile:c,isAuthenticated:!!s,loading:g},refresh:async()=>{if(s)try{const C=Ae(Se(Y,"users"),de("uid","==",s.uid)),U=await He(C);U.empty||f(U.docs[0].data())}catch(C){console.error("AuthContext.refresh error:",C)}}};return t.jsx(sh.Provider,{value:j,children:g?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.5rem",background:"var(--bg-main, #f8fafc)",color:"var(--text-secondary, #64748b)"},children:"Loading..."}):r})},fn={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"clamp(0.75rem, 3vw, 2rem) clamp(0.5rem, 2vw, 1rem)",display:"flex",alignItems:"center",justifyContent:"center"},card:{maxWidth:"500px",width:"100%",background:"white",borderRadius:"clamp(15px, 3vw, 20px)",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",overflow:"hidden"},header:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"clamp(1.5rem, 4vw, 2rem)",color:"white",textAlign:"center"},content:{padding:"clamp(1.25rem, 4vw, 2rem)"},input:{width:"100%",padding:"clamp(0.6rem, 2vw, 0.75rem)",border:"2px solid #e0e0e0",borderRadius:"10px",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",transition:"all 0.3s ease",boxSizing:"border-box"},select:{width:"100%",padding:"clamp(0.6rem, 2vw, 0.75rem)",border:"2px solid #e0e0e0",borderRadius:"10px",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",transition:"all 0.3s ease",boxSizing:"border-box",backgroundColor:"white"},button:{width:"100%",padding:"clamp(0.85rem, 2.5vw, 1rem)",border:"none",borderRadius:"10px",fontSize:"clamp(0.95rem, 3vw, 1.1rem)",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},infoBox:{padding:"clamp(0.75rem, 2.5vw, 1rem)",borderRadius:"12px",marginBottom:"clamp(1rem, 3vw, 1.5rem)",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.5rem",fontSize:"clamp(0.8rem, 2.5vw, 0.95rem)",lineHeight:"1.5"},roleCard:{padding:"clamp(0.85rem, 2.5vw, 1rem)",border:"2px solid #e0e0e0",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"clamp(0.75rem, 2vw, 1rem)",marginBottom:"0.75rem"}},Ly=()=>{const[r,s]=b.useState({email:"",password:"",confirmPassword:"",name:"",role:"doctor"}),[u,c]=b.useState(""),[f,g]=b.useState(!1),[x,y]=b.useState(!1),w=al(),{isAuthenticated:j}=Ia();b.useEffect(()=>{j&&w("/dashboard",{replace:!0})},[j,w]);const C=A=>{s({...r,[A.target.name]:A.target.value})},U=async A=>{A.preventDefault(),g(!0),c("");const{email:re,password:P,confirmPassword:K,name:G,role:se}=r;if(!re||!P||!K||!G||!se){c("All fields are required"),g(!1);return}if(P!==K){c("Passwords do not match"),g(!1);return}try{console.log("Register.jsx: Starting registration...");const E={};(se==="doctor"||se==="hospital")&&(E.country=r.country||"",E.state=r.state||"",E.city=r.city||"",E.district=r.district||"",E.address=r.address||"");const le=await lh(re.trim(),P,G,se,E);console.log("Register.jsx: Registration completed successfully!",le),console.log("Register.jsx: Navigating to dashboard...");try{w("/dashboard",{replace:!0})}catch(oe){console.warn("Register.jsx: navigate failed, falling back to hard redirect.",oe),window.location.replace("/dashboard")}y(!0)}catch(E){console.error("Register.jsx: Registration error:",E);let le="Failed to register.";E.code==="auth/email-already-in-use"?le="This email is already registered. Please login instead or use a different email.":E.code==="auth/weak-password"?le="Password should be at least 6 characters.":E.code==="auth/invalid-email"?le="Invalid email address format.":E.message&&(le=E.message),c(le)}finally{g(!1)}};return t.jsx("div",{style:fn.container,children:t.jsxs("div",{style:fn.card,children:[t.jsxs("div",{style:fn.header,children:[t.jsx("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"700"},children:" Provider Registration"}),t.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:.9},children:"Join our healthcare network"})]}),t.jsxs("div",{style:fn.content,children:[t.jsxs("div",{style:{...fn.infoBox,background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",color:"#1565c0"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsxs("div",{children:[t.jsx("strong",{children:"For Healthcare Providers Only"}),t.jsx("br",{}),"Patients don't need to register.",t.jsx(ji,{to:"/book",style:{color:"#1565c0",fontWeight:"600",marginLeft:"0.25rem"},children:"Book appointment directly "})]})]}),u&&t.jsxs("div",{style:{...fn.infoBox,background:"linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%)",color:"#721c24",border:"2px solid #f5c6cb"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsxs("div",{children:[u,u.includes("already registered")&&t.jsx("div",{style:{marginTop:"0.5rem"},children:t.jsx(ji,{to:"/login",style:{color:"#721c24",fontWeight:"600",textDecoration:"underline"},children:"Go to Login "})})]})]}),x&&t.jsxs("div",{style:{...fn.infoBox,background:"linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%)",color:"#155724"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsxs("div",{children:["Registration successful! Redirecting...",t.jsx(ji,{to:"/dashboard",style:{color:"#155724",fontWeight:"600",marginLeft:"0.5rem"},children:"Go to Dashboard "})]})]}),t.jsxs("form",{onSubmit:U,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"Full Name *"}),t.jsx("input",{name:"name",type:"text",placeholder:"Enter your full name",required:!0,value:r.name,onChange:C,style:fn.input,onFocus:A=>A.target.style.borderColor="#667eea",onBlur:A=>A.target.style.borderColor="#e0e0e0"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"I am registering as: *"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsxs("div",{style:{...fn.roleCard,borderColor:r.role==="doctor"?"#667eea":"#e0e0e0",background:r.role==="doctor"?"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)":"white",boxShadow:r.role==="doctor"?"0 4px 15px rgba(102, 126, 234, 0.2)":"none"},onClick:()=>s({...r,role:"doctor"}),onMouseEnter:A=>{r.role!=="doctor"&&(A.currentTarget.style.borderColor="#667eea",A.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:A=>{r.role!=="doctor"&&(A.currentTarget.style.borderColor="#e0e0e0",A.currentTarget.style.transform="translateY(0)")},children:[t.jsx("input",{type:"radio",name:"role",value:"doctor",checked:r.role==="doctor",onChange:C,style:{width:"20px",height:"20px",cursor:"pointer"}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:""}),t.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:"Doctor"})]})]}),t.jsxs("div",{style:{...fn.roleCard,borderColor:r.role==="hospital"?"#667eea":"#e0e0e0",background:r.role==="hospital"?"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)":"white",boxShadow:r.role==="hospital"?"0 4px 15px rgba(102, 126, 234, 0.2)":"none"},onClick:()=>s({...r,role:"hospital"}),onMouseEnter:A=>{r.role!=="hospital"&&(A.currentTarget.style.borderColor="#667eea",A.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:A=>{r.role!=="hospital"&&(A.currentTarget.style.borderColor="#e0e0e0",A.currentTarget.style.transform="translateY(0)")},children:[t.jsx("input",{type:"radio",name:"role",value:"hospital",checked:r.role==="hospital",onChange:C,style:{width:"20px",height:"20px",cursor:"pointer"}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:""}),t.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:"Hospital"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"Email Address *"}),t.jsx("input",{name:"email",type:"email",placeholder:"your.email@example.com",required:!0,value:r.email,onChange:C,style:fn.input,onFocus:A=>A.target.style.borderColor="#667eea",onBlur:A=>A.target.style.borderColor="#e0e0e0"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"Password *"}),t.jsx("input",{name:"password",type:"password",placeholder:"At least 6 characters",required:!0,value:r.password,onChange:C,style:fn.input,onFocus:A=>A.target.style.borderColor="#667eea",onBlur:A=>A.target.style.borderColor="#e0e0e0"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"Confirm Password *"}),t.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Re-enter your password",required:!0,value:r.confirmPassword,onChange:C,style:fn.input,onFocus:A=>A.target.style.borderColor="#667eea",onBlur:A=>A.target.style.borderColor="#e0e0e0"})]}),(r.role==="doctor"||r.role==="hospital")&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"Country"}),t.jsxs("select",{name:"country",value:r.country||"",onChange:C,required:r.role==="doctor"||r.role==="hospital",style:fn.select,children:[t.jsx("option",{value:"",children:"Select Country"}),oh.map(A=>t.jsx("option",{value:A,children:A},A))]}),(()=>{const A=Hy(r.country);return A&&A.length?t.jsxs(t.Fragment,{children:[t.jsx("label",{style:{display:"block",marginTop:"0.75rem",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"State / Province"}),t.jsxs("select",{name:"state",value:r.state||"",onChange:C,required:!0,style:fn.select,children:[t.jsx("option",{value:"",children:"Select State / Province"}),A.map(re=>t.jsx("option",{value:re,children:re},re))]})]}):t.jsxs(t.Fragment,{children:[t.jsx("label",{style:{display:"block",marginTop:"0.75rem",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"State / Province"}),t.jsx("input",{name:"state",type:"text",placeholder:"State / Province",value:r.state||"",onChange:C,style:fn.input})]})})(),(()=>{const A=Ey(r.country,r.state);return A&&A.length?t.jsxs(t.Fragment,{children:[t.jsx("label",{style:{display:"block",marginTop:"0.75rem",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"City / District"}),t.jsxs("select",{name:"city",value:r.city||"",onChange:C,required:!0,style:fn.select,children:[t.jsx("option",{value:"",children:"Select City / District"}),A.map(re=>t.jsx("option",{value:re,children:re},re))]})]}):t.jsxs(t.Fragment,{children:[t.jsx("label",{style:{display:"block",marginTop:"0.75rem",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"City"}),t.jsx("input",{name:"city",type:"text",placeholder:"City",value:r.city||"",onChange:C,style:fn.input})]})})(),(()=>{const A=Uy(r.country,r.state,r.city);if(A&&A.length){const re=My(r.country);return t.jsxs(t.Fragment,{children:[t.jsx("label",{style:{display:"block",marginTop:"0.75rem",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:re}),t.jsxs("select",{name:"district",value:r.district||"",onChange:C,required:!0,style:fn.select,children:[t.jsxs("option",{value:"",children:["Select ",re]}),A.map(P=>t.jsx("option",{value:P,children:P},P))]})]})}return null})(),t.jsx("label",{style:{display:"block",marginTop:"0.75rem",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:"Address (optional)"}),t.jsx("input",{name:"address",type:"text",placeholder:"Clinic / Hospital Address",value:r.address||"",onChange:C,style:fn.input})]}),t.jsx("button",{type:"submit",disabled:f,style:{...fn.button,opacity:f?.7:1,cursor:f?"not-allowed":"pointer"},onMouseEnter:A=>{f||(A.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)"},children:f?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""})," Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""})," Create Account"]})})]}),t.jsxs("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"2px solid #f0f0f0",textAlign:"center"},children:[t.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"#666",fontSize:"0.95rem"},children:"Already have an account?"}),t.jsx(ji,{to:"/login",style:{color:"#667eea",fontWeight:"600",fontSize:"1rem",textDecoration:"none"},children:"Login here "})]})]})]})})},Py="modulepreload",Iy=function(r){return"/"+r},Km={},Gr=function(s,u,c){let f=Promise.resolve();if(u&&u.length>0){let w=function(j){return Promise.all(j.map(C=>Promise.resolve(C).then(U=>({status:"fulfilled",value:U}),U=>({status:"rejected",reason:U}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),y=x?.nonce||x?.getAttribute("nonce");f=w(u.map(j=>{if(j=Iy(j),j in Km)return;Km[j]=!0;const C=j.endsWith(".css"),U=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${U}`))return;const A=document.createElement("link");if(A.rel=C?"stylesheet":Py,C||(A.as="script"),A.crossOrigin="",A.href=j,y&&A.setAttribute("nonce",y),document.head.appendChild(A),C)return new Promise((re,P)=>{A.addEventListener("load",re),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${j}`)))})}))}function g(x){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=x,window.dispatchEvent(y),!y.defaultPrevented)throw x}return f.then(x=>{for(const y of x||[])y.status==="rejected"&&g(y.reason);return s().catch(g)})},nn=({size:r=20,style:s={},className:u="",ariaHidden:c=!0,...f})=>t.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":c?"true":void 0,focusable:"false",className:u,style:{display:"block",verticalAlign:"middle",...s},...f,children:[t.jsx("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.jsx("path",{d:"M16 3v4M8 3v4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 11h10M7 15h10",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ro=(r,s)=>{if(!s||!s.rates)return{currency:"GBP",symbol:"",appointmentCost:5,prescriptionCost:2};const c=r&&(r.toLowerCase()==="india"||r.toLowerCase()==="in")?"INR":"GBP",f=s.rates[c];return f||{currency:"GBP",symbol:"",appointmentCost:5,prescriptionCost:2}},_y=r=>({INR:"",GBP:"",USD:"$",EUR:""})[r]||r,Pl=(r,s)=>{if(r.customRates&&r.customRates.appointmentCost)return{...r.customRates,currency:r.customRates.currency||r.currency||"USD",symbol:_y(r.customRates.currency||r.currency||"USD")};const u=r.country||"default";return Ro(u,s)},qy=async(r,s)=>{try{const u=Se(Y,"healthRecords"),c=Ae(u,de("patientId","==",r),de("doctorId","==",s),ha("createdAt","desc"));return(await He(c)).docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate?.()||new Date}))}catch(u){throw console.error("Error fetching health records:",u),u}},Gy=async(r,s)=>{try{const u=Se(Y,"prescriptions"),c=Ae(u,de("patientId","==",r),de("doctorId","==",s),ha("createdAt","desc"));return(await He(c)).docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate?.()||new Date}))}catch(u){throw console.error("Error fetching prescriptions:",u),u}},Wy=async(r,s)=>{try{const u=Se(Y,"appointments"),c=Ae(u,de("patientId","==",r),de("doctorId","==",s),ha("date","desc"));return(await He(c)).docs.map(g=>({id:g.id,...g.data()}))}catch(u){throw console.error("Error fetching patient appointments:",u),u}},Yy=async(r,s,u,c=null)=>{try{const f=Se(Y,"healthRecords"),g={patientId:r,doctorId:s,...u,createdAt:Ir.now(),updatedAt:Ir.now()};return c&&(g.hospitalId=c),(await fa(f,g)).id}catch(f){throw console.error("Error adding health record:",f),f}},Fy=async(r,s)=>{try{return(await ic(lc,"generateHealthSummary")({patientId:r,doctorId:s})).data}catch(u){throw console.error("Error generating health summary:",u),u}},Vy=async(r,s)=>{try{const u=Se(Y,"healthSummaries"),c=Ae(u,de("patientId","==",r),de("doctorId","==",s),ha("generatedAt","desc")),f=await He(c);if(!f.empty){const g=f.docs[0],x=g.data(),y=x.generatedAt?.toDate?.()||new Date,w=new Date(Date.now()-3600*1e3);if(y>w)return{id:g.id,...x,generatedAt:y}}return null}catch(u){return console.error("Error fetching cached summary:",u),null}},Qy=async(r,s)=>{try{const[u,c,f]=await Promise.all([qy(r,s),Gy(r,s),Wy(r,s)]);return{healthRecords:u,prescriptions:c,appointments:f}}catch(u){throw console.error("Error fetching comprehensive patient data:",u),u}},Xy=async(r,s)=>{try{console.log(" Searching hospital patients:",{searchTerm:r,hospitalId:s});const u=r.toLowerCase().trim(),c=Se(Y,"appointments"),f=Ae(c,de("hospitalId","==",s)),g=await He(f);console.log(` Found ${g.size} appointments for hospital`);const x=new Map;g.forEach(w=>{const j=w.data(),C=(j.patientName||j.name||"").toLowerCase(),U=j.patientPhone||j.userPhone||j.phone||"",A=j.patientEmail||j.email||"",re=(j.id||w.id).toLowerCase(),P=j.patientId||j.userId||j.patientUid||j.patient_id||j.user_id||U||j.patientEmail||re,K=C.includes(u)||U.includes(u)||re.includes(u);if(console.log("Checking appointment:",{patientName:C,patientPhone:U,patientId:P,matchesSearch:K,bookingNumber:re}),K)if(!x.has(P))x.set(P,{id:P,name:j.patientName||j.name||"Unknown",phone:U,email:A,lastAppointment:j.date,bookingNumber:w.id,totalAppointments:1,lastDoctorId:j.doctorId,lastDoctorName:j.doctorName||"Unknown"});else{const G=x.get(P);G.totalAppointments+=1,j.date>G.lastAppointment&&(G.lastAppointment=j.date,G.bookingNumber=w.id,G.lastDoctorId=j.doctorId,G.lastDoctorName=j.doctorName||"Unknown")}});const y=Array.from(x.values());return console.log(` Found ${y.length} unique patients matching search`),y}catch(u){throw console.error(" Error searching hospital patients:",u),u}},Ky=async(r,s)=>{try{const u=Se(Y,"healthRecords"),c=Ae(u,de("patientId","==",r),de("hospitalId","==",s),ha("createdAt","desc"));return(await He(c)).docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate?.()||new Date}))}catch(u){throw console.error("Error fetching hospital patient health records:",u),u}},Zy=async(r,s)=>{try{const u=Se(Y,"prescriptions"),c=Ae(u,de("patientId","==",r),de("hospitalId","==",s),ha("createdAt","desc"));return(await He(c)).docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate?.()||new Date}))}catch(u){throw console.error("Error fetching hospital patient prescriptions:",u),u}},Jy=async(r,s)=>{try{const u=Se(Y,"appointments"),c=Ae(u,de("patientId","==",r),de("hospitalId","==",s),ha("date","desc"));return(await He(c)).docs.map(g=>({id:g.id,...g.data()}))}catch(u){throw console.error("Error fetching hospital patient appointments:",u),u}},$y=async(r,s)=>{try{const[u,c,f]=await Promise.all([Ky(r,s),Zy(r,s),Jy(r,s)]);return{healthRecords:u,prescriptions:c,appointments:f}}catch(u){throw console.error("Error fetching comprehensive hospital patient data:",u),u}},ex=async(r,s,u,c)=>{try{const f=[],g=Se(Y,"healthRecords"),x=Ae(g,de("patientId","==",r),de("doctorId","==",s),de("hospitalId","==",c)),y=await He(x),w=Se(Y,"prescriptions"),j=Ae(w,de("patientId","==",r),de("doctorId","==",s),de("hospitalId","==",c)),C=await He(j),U=y.docs.map(async re=>{const P=Be(Y,"healthRecords",re.id);await Ft(P,{doctorId:u,transferredFrom:s,transferredAt:Ir.now()})}),A=C.docs.map(async re=>{const P=Be(Y,"prescriptions",re.id);await Ft(P,{doctorId:u,transferredFrom:s,transferredAt:Ir.now()})});return await Promise.all([...U,...A]),{success:!0,recordsTransferred:y.size,prescriptionsTransferred:C.size}}catch(f){throw console.error("Error transferring patient records:",f),f}},tx=async r=>{const s=Be(Y,"patients",r),u=await Vt(s);return u.exists()?{id:u.id,...u.data()}:null},nx=async r=>{r.replace(/[^\d]/g,"");const s=Ae(Se(Y,"patients"),de("phone","==",r)),u=await He(s);if(!u.empty){const c=u.docs[0];return{id:c.id,...c.data()}}return null},ix=async r=>{try{console.log(" Fetching patient details for ID:",r);let s=await tx(r);if(s||(console.log(" Patient not found by ID, trying phone search..."),s=await nx(r)),!s)return console.warn(" Patient not found by ID or phone:",r),{id:r,name:"Unknown Patient",phone:r,appointments:[],prescriptions:[]};console.log(" Patient found:",s);const u=s.phone||r;console.log(" Searching by phone:",u);const c=Ae(Se(Y,"appointments"),de("patientPhone","==",u)),g=(await He(c)).docs.map(j=>({id:j.id,...j.data()})).sort((j,C)=>{const U=j.date?new Date(j.date):new Date(0);return(C.date?new Date(C.date):new Date(0))-U});console.log(` Found ${g.length} appointments`);const x=Ae(Se(Y,"prescriptions"),de("patientPhone","==",u)),w=(await He(x)).docs.map(j=>({id:j.id,...j.data()})).sort((j,C)=>{const U=j.createdAt?new Date(j.createdAt):new Date(0);return(C.createdAt?new Date(C.createdAt):new Date(0))-U});return console.log(` Found ${w.length} prescriptions`),{...s,appointments:g,prescriptions:w}}catch(s){throw console.error(" Error in getPatientDetails:",s),s}},ax=async r=>{const s=Se(Y,"patients"),u=await He(s),c=r.toLowerCase();return u.docs.map(g=>({id:g.id,...g.data()})).filter(g=>g.name?.toLowerCase().includes(c)||g.phone?.includes(r)||g.dob?.includes(r))},lx=({patientId:r,doctorId:s,doctorName:u,appointment:c=null,onClose:f})=>{const[g,x]=b.useState("overview"),[y,w]=b.useState(null),[j,C]=b.useState(!0),[U,A]=b.useState(!1),[re,P]=b.useState(!!c),[K,G]=b.useState(null),[se,E]=b.useState({chiefComplaint:"",diagnosis:"",vitals:{bloodPressure:"",temperature:"",pulse:"",weight:"",height:"",oxygenSaturation:""},notes:"",followUpDate:""}),[le,oe]=b.useState({medicines:[{name:"",dosage:"",frequency:"",duration:"",instructions:""}],diagnosis:"",additionalNotes:"",inputMethod:"type"}),B=b.useRef(null),[$e,ht]=b.useState(!1),[$,ue]=b.useState([]),[I,at]=b.useState("#000000"),[he,ct]=b.useState(2),[wt,Fe]=b.useState(!1),[W,ce]=b.useState(""),fe=b.useRef(null);b.useEffect(()=>{lt(),Ge()},[r]);const lt=async()=>{try{if(C(!0),console.log(" Loading patient data for ID:",r),!r)throw new Error("Patient ID is required");const k=await ix(r);if(console.log(" Patient data loaded:",k),!k)throw new Error("Patient not found");w(k)}catch(k){console.error(" Error loading patient data:",k),We("Error loading patient data: "+k.message,"error"),w({id:r,name:"Unknown Patient",phone:"N/A",appointments:[],prescriptions:[],visits:[]})}finally{C(!1)}},Ge=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const k=window.SpeechRecognition||window.webkitSpeechRecognition;fe.current=new k,fe.current.continuous=!0,fe.current.interimResults=!0,fe.current.lang="en-US",fe.current.onresult=we=>{let xe="";for(let Le=we.resultIndex;Le<we.results.length;Le++){const Ie=we.results[Le][0].transcript;we.results[Le].isFinal&&(xe+=Ie+" ")}ce(Le=>Le+xe)},fe.current.onerror=we=>{console.error("Speech recognition error:",we.error),Fe(!1)}}},Rt=()=>{wt?(fe.current?.stop(),Fe(!1)):(ce(""),fe.current?.start(),Fe(!0))},We=(k,we="success")=>{G({message:k,type:we}),setTimeout(()=>G(null),3e3)},be=k=>{const we=B.current,xe=we.getContext("2d"),Le=we.getBoundingClientRect(),Ie=(k.clientX||k.touches?.[0]?.clientX)-Le.left,An=(k.clientY||k.touches?.[0]?.clientY)-Le.top;xe.beginPath(),xe.moveTo(Ie,An),ht(!0),ue(qn=>[...qn,we.toDataURL()])},Ze=k=>{if(!$e)return;const we=B.current,xe=we.getContext("2d"),Le=we.getBoundingClientRect(),Ie=(k.clientX||k.touches?.[0]?.clientX)-Le.left,An=(k.clientY||k.touches?.[0]?.clientY)-Le.top;xe.lineTo(Ie,An),xe.strokeStyle=I,xe.lineWidth=he,xe.lineCap="round",xe.lineJoin="round",xe.stroke()},_t=()=>{ht(!1)},kt=()=>{const k=B.current;k.getContext("2d").clearRect(0,0,k.width,k.height),ue([])},Et=()=>{if($.length>0){const k=B.current,we=k.getContext("2d"),xe=$[$.length-1],Le=new Image;Le.src=xe,Le.onload=()=>{we.clearRect(0,0,k.width,k.height),we.drawImage(Le,0,0)},ue(Ie=>Ie.slice(0,-1))}},Cn=()=>{oe(k=>({...k,medicines:[...k.medicines,{name:"",dosage:"",frequency:"",duration:"",instructions:""}]}))},Dt=k=>{oe(we=>({...we,medicines:we.medicines.filter((xe,Le)=>Le!==k)}))},an=(k,we,xe)=>{oe(Le=>({...Le,medicines:Le.medicines.map((Ie,An)=>An===k?{...Ie,[we]:xe}:Ie)}))},Nt=async()=>{try{await Ay(r,s,se),We("Visit record saved successfully!"),A(!1),lt(),E({chiefComplaint:"",diagnosis:"",vitals:{bloodPressure:"",temperature:"",pulse:"",weight:"",height:"",oxygenSaturation:""},notes:"",followUpDate:""})}catch(k){We("Error saving visit: "+k.message,"error")}},gn=async()=>{try{let k={...le,doctorName:u,handwrittenImage:le.inputMethod==="draw"?B.current?.toDataURL():null,voiceTranscript:le.inputMethod==="voice"?W:null};await Dy(r,s,k),We("Prescription saved successfully!"),P(!1),lt(),oe({medicines:[{name:"",dosage:"",frequency:"",duration:"",instructions:""}],diagnosis:"",additionalNotes:"",inputMethod:"type"}),ce(""),B.current&&kt()}catch(k){We("Error saving prescription: "+k.message,"error")}},xt=k=>{const we=window.open("","","width=800,height=600"),xe=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Prescription</title>
        <style>
          body { font-family: Arial, sans-serif; padding: 40px; }
          .header { text-align: center; border-bottom: 2px solid #11998e; padding-bottom: 20px; margin-bottom: 20px; }
          .header h1 { color: #11998e; margin: 0; }
          .patient-info, .prescription-info { margin: 20px 0; }
          .label { font-weight: bold; color: #666; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
          th { background-color: #11998e; color: white; }
          .footer { margin-top: 40px; border-top: 1px solid #ddd; padding-top: 20px; }
          .signature { margin-top: 60px; }
          .handwritten-image { max-width: 100%; border: 1px solid #ddd; margin: 20px 0; }
          @media print {
            body { margin: 0; }
            button { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1> Medical Prescription</h1>
          <p><strong>Dr. ${u}</strong></p>
          <p>Date: ${new Date(k.date).toLocaleDateString()}</p>
        </div>
        
        <div class="patient-info">
          <h3>Patient Information</h3>
          <p><span class="label">Name:</span> ${y.name}</p>
          <p><span class="label">Age:</span> ${y.age||"N/A"}</p>
          <p><span class="label">Gender:</span> ${y.gender||"N/A"}</p>
          <p><span class="label">Contact:</span> ${y.phone||y.email}</p>
        </div>
        
        <div class="prescription-info">
          <h3>Diagnosis</h3>
          <p>${k.diagnosis||"N/A"}</p>
        </div>
        
        ${k.handwrittenImage?`
          <div>
            <h3>Handwritten Prescription</h3>
            <img src="${k.handwrittenImage}" class="handwritten-image" alt="Handwritten Prescription" />
          </div>
        `:""}
        
        ${k.medicines&&k.medicines.length>0?`
          <div>
            <h3>Medications</h3>
            <table>
              <thead>
                <tr>
                  <th>Medicine</th>
                  <th>Dosage</th>
                  <th>Frequency</th>
                  <th>Duration</th>
                  <th>Instructions</th>
                </tr>
              </thead>
              <tbody>
                ${k.medicines.map(Le=>`
                  <tr>
                    <td>${Le.name}</td>
                    <td>${Le.dosage}</td>
                    <td>${Le.frequency}</td>
                    <td>${Le.duration}</td>
                    <td>${Le.instructions}</td>
                  </tr>
                `).join("")}
              </tbody>
            </table>
          </div>
        `:""}
        
        ${k.additionalNotes?`
          <div>
            <h3>Additional Notes</h3>
            <p>${k.additionalNotes}</p>
          </div>
        `:""}
        
        ${k.voiceTranscript?`
          <div>
            <h3>Voice Notes</h3>
            <p>${k.voiceTranscript}</p>
          </div>
        `:""}
        
        <div class="footer">
          <div class="signature">
            <p>___________________________</p>
            <p><strong>Dr. ${u}</strong></p>
            <p>Digital Signature</p>
          </div>
        </div>
        
        <button onclick="window.print()" style="background: #11998e; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin-top: 20px;">Print Prescription</button>
      </body>
      </html>
    `;we.document.write(xe),we.document.close()};return j?t.jsx("div",{style:X.modalOverlay,children:t.jsx("div",{style:X.modal,children:t.jsx("div",{style:X.loadingSpinner,children:"Loading patient data..."})})}):y?t.jsx("div",{style:X.modalOverlay,onClick:f,children:t.jsxs("div",{style:X.modal,onClick:k=>k.stopPropagation(),children:[K&&t.jsx("div",{style:{...X.notification,background:K.type==="error"?"#ff4444":"#11998e"},children:K.message}),t.jsxs("div",{style:X.modalHeader,children:[t.jsxs("div",{children:[t.jsxs("h2",{style:X.modalTitle,children:["Patient Record: ",y.name]}),t.jsxs("p",{style:X.modalSubtitle,children:["Age: ",y.age||"N/A"," | Gender: ",y.gender||"N/A"," | Blood Type: ",y.healthRecords?.bloodType||"N/A"]})]}),t.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.jsx("button",{style:X.primaryButton,onClick:()=>A(!0),children:" Add Visit"}),t.jsx("button",{style:X.primaryButton,onClick:()=>P(!0),children:" New Prescription"}),t.jsx("button",{style:X.closeButton,onClick:f,children:""})]})]}),c&&t.jsxs("div",{style:{padding:"1rem 1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"10px",margin:"0 1.5rem 1rem 1.5rem",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.25rem"},children:" Active Consultation"}),t.jsxs("div",{style:{fontSize:"0.95rem",opacity:.9},children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:14})})," ",c.date," |  ",c.timeSlot||c.time]})]}),t.jsx("button",{onClick:()=>P(!0),style:{padding:"0.75rem 1.5rem",background:"white",color:"#667eea",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"1rem",boxShadow:"0 2px 10px rgba(0,0,0,0.2)",transition:"transform 0.2s"},onMouseOver:k=>k.currentTarget.style.transform="scale(1.05)",onMouseOut:k=>k.currentTarget.style.transform="scale(1)",children:" Add Prescription Now"})]}),t.jsx("div",{style:X.tabs,children:["overview","prescriptions","visits","health"].map(k=>t.jsx("button",{style:{...X.tab,...g===k?X.activeTab:{}},onClick:()=>x(k),children:k.charAt(0).toUpperCase()+k.slice(1)},k))}),t.jsxs("div",{style:X.modalBody,children:[g==="overview"&&t.jsxs("div",{children:[t.jsxs("div",{style:X.section,children:[t.jsx("h3",{style:X.sectionTitle,children:" Patient Information"}),t.jsxs("div",{style:X.infoGrid,children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",y.email]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",y.phone||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"})," ",y.address||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Blood Type:"})," ",y.healthRecords?.bloodType||"N/A"]})]})]}),t.jsxs("div",{style:X.section,children:[t.jsx("h3",{style:X.sectionTitle,children:" Recent Vitals"}),y.visits&&y.visits[0]?.vitals?t.jsxs("div",{style:X.vitalsGrid,children:[t.jsxs("div",{style:X.vitalCard,children:[t.jsx("div",{style:X.vitalLabel,children:"Blood Pressure"}),t.jsx("div",{style:X.vitalValue,children:y.visits[0].vitals.bloodPressure})]}),t.jsxs("div",{style:X.vitalCard,children:[t.jsx("div",{style:X.vitalLabel,children:"Temperature"}),t.jsx("div",{style:X.vitalValue,children:y.visits[0].vitals.temperature})]}),t.jsxs("div",{style:X.vitalCard,children:[t.jsx("div",{style:X.vitalLabel,children:"Pulse"}),t.jsx("div",{style:X.vitalValue,children:y.visits[0].vitals.pulse})]}),t.jsxs("div",{style:X.vitalCard,children:[t.jsx("div",{style:X.vitalLabel,children:"Weight"}),t.jsx("div",{style:X.vitalValue,children:y.visits[0].vitals.weight})]})]}):t.jsx("p",{style:X.noData,children:"No vital signs recorded yet"})]}),t.jsxs("div",{style:X.section,children:[t.jsx("h3",{style:X.sectionTitle,children:" Allergies & Conditions"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Allergies:"})," ",y.healthRecords?.allergies?.join(", ")||"None recorded"]}),t.jsxs("div",{style:{marginTop:"10px"},children:[t.jsx("strong",{children:"Chronic Conditions:"})," ",y.healthRecords?.chronicConditions?.join(", ")||"None recorded"]})]})]}),g==="prescriptions"&&t.jsxs("div",{children:[t.jsx("h3",{style:X.sectionTitle,children:" Prescription History"}),y.prescriptions&&y.prescriptions.length>0?y.prescriptions.map((k,we)=>t.jsxs("div",{style:X.prescriptionCard,children:[t.jsxs("div",{style:X.prescriptionHeader,children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Date:"})," ",new Date(k.date).toLocaleDateString(),t.jsx("br",{}),t.jsx("strong",{children:"Doctor:"})," ",k.doctorName||"N/A"]}),t.jsx("button",{style:X.printButton,onClick:()=>xt(k),children:" Print"})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Diagnosis:"})," ",k.diagnosis]}),k.medicines&&k.medicines.length>0&&t.jsxs("div",{style:{marginTop:"10px"},children:[t.jsx("strong",{children:"Medicines:"}),t.jsx("ul",{style:X.medicineList,children:k.medicines.map((xe,Le)=>t.jsxs("li",{children:[xe.name," - ",xe.dosage," (",xe.frequency,") for ",xe.duration,xe.instructions&&` - ${xe.instructions}`]},Le))})]}),k.handwrittenImage&&t.jsxs("div",{style:{marginTop:"10px"},children:[t.jsx("strong",{children:"Handwritten Notes:"}),t.jsx("img",{src:k.handwrittenImage,style:X.handwrittenPreview,alt:"Handwritten"})]}),k.additionalNotes&&t.jsxs("div",{style:{marginTop:"10px"},children:[t.jsx("strong",{children:"Notes:"})," ",k.additionalNotes]})]},we)):t.jsx("p",{style:X.noData,children:"No prescriptions recorded yet"})]}),g==="visits"&&t.jsxs("div",{children:[t.jsx("h3",{style:X.sectionTitle,children:" Visit History"}),y.visits&&y.visits.length>0?y.visits.map((k,we)=>t.jsxs("div",{style:X.visitCard,children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Date:"})," ",new Date(k.date).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Chief Complaint:"})," ",k.chiefComplaint]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Diagnosis:"})," ",k.diagnosis]}),k.vitals&&t.jsxs("div",{style:{marginTop:"10px"},children:[t.jsx("strong",{children:"Vitals:"})," BP: ",k.vitals.bloodPressure,", Temp: ",k.vitals.temperature,", Pulse: ",k.vitals.pulse]}),k.notes&&t.jsxs("div",{style:{marginTop:"10px"},children:[t.jsx("strong",{children:"Notes:"})," ",k.notes]})]},we)):t.jsx("p",{style:X.noData,children:"No visits recorded yet"})]}),g==="health"&&t.jsxs("div",{children:[t.jsx("h3",{style:X.sectionTitle,children:" Health Records"}),t.jsxs("div",{style:X.section,children:[t.jsxs("div",{style:X.infoGrid,children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Blood Type:"})," ",y.healthRecords?.bloodType||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Height:"})," ",y.healthRecords?.height||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Weight:"})," ",y.healthRecords?.weight||"N/A"]})]}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("strong",{children:"Current Medications:"}),t.jsx("p",{children:y.healthRecords?.medications?.join(", ")||"None"})]}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("strong",{children:"Allergies:"}),t.jsx("p",{children:y.healthRecords?.allergies?.join(", ")||"None"})]}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("strong",{children:"Chronic Conditions:"}),t.jsx("p",{children:y.healthRecords?.chronicConditions?.join(", ")||"None"})]})]})]})]}),U&&t.jsx("div",{style:X.subModalOverlay,children:t.jsxs("div",{style:X.subModal,children:[t.jsxs("div",{style:X.modalHeader,children:[t.jsx("h3",{children:"Add Visit Record"}),t.jsx("button",{style:X.closeButton,onClick:()=>A(!1),children:""})]}),t.jsxs("div",{style:X.formBody,children:[t.jsxs("div",{style:X.formGroup,children:[t.jsx("label",{style:X.label,children:"Chief Complaint"}),t.jsx("input",{style:X.input,value:se.chiefComplaint,onChange:k=>E({...se,chiefComplaint:k.target.value}),placeholder:"Patient's main concern"})]}),t.jsxs("div",{style:X.formGroup,children:[t.jsx("label",{style:X.label,children:"Diagnosis"}),t.jsx("input",{style:X.input,value:se.diagnosis,onChange:k=>E({...se,diagnosis:k.target.value}),placeholder:"Medical diagnosis"})]}),t.jsxs("div",{style:X.vitalsSection,children:[t.jsx("h4",{children:"Vital Signs"}),t.jsxs("div",{style:X.vitalsInputGrid,children:[t.jsxs("div",{children:[t.jsx("label",{style:X.label,children:"BP"}),t.jsx("input",{style:X.input,value:se.vitals.bloodPressure,onChange:k=>E({...se,vitals:{...se.vitals,bloodPressure:k.target.value}}),placeholder:"120/80"})]}),t.jsxs("div",{children:[t.jsx("label",{style:X.label,children:"Temp"}),t.jsx("input",{style:X.input,value:se.vitals.temperature,onChange:k=>E({...se,vitals:{...se.vitals,temperature:k.target.value}}),placeholder:"98.6F"})]}),t.jsxs("div",{children:[t.jsx("label",{style:X.label,children:"Pulse"}),t.jsx("input",{style:X.input,value:se.vitals.pulse,onChange:k=>E({...se,vitals:{...se.vitals,pulse:k.target.value}}),placeholder:"72 bpm"})]}),t.jsxs("div",{children:[t.jsx("label",{style:X.label,children:"Weight"}),t.jsx("input",{style:X.input,value:se.vitals.weight,onChange:k=>E({...se,vitals:{...se.vitals,weight:k.target.value}}),placeholder:"70 kg"})]})]})]}),t.jsxs("div",{style:X.formGroup,children:[t.jsx("label",{style:X.label,children:"Notes"}),t.jsx("textarea",{style:{...X.input,minHeight:"100px"},value:se.notes,onChange:k=>E({...se,notes:k.target.value}),placeholder:"Additional observations"})]}),t.jsxs("div",{style:X.formGroup,children:[t.jsx("label",{style:X.label,children:"Follow-up Date"}),t.jsx("input",{type:"date",style:X.input,value:se.followUpDate,onChange:k=>E({...se,followUpDate:k.target.value})})]}),t.jsx("button",{style:X.saveButton,onClick:Nt,children:"Save Visit Record"})]})]})}),re&&t.jsx("div",{style:X.subModalOverlay,children:t.jsxs("div",{style:{...X.subModal,maxWidth:"900px"},children:[t.jsxs("div",{style:X.modalHeader,children:[t.jsx("h3",{children:"New Prescription"}),t.jsx("button",{style:X.closeButton,onClick:()=>P(!1),children:""})]}),t.jsxs("div",{style:X.formBody,children:[t.jsxs("div",{style:X.inputMethodSelector,children:[t.jsx("button",{style:{...X.methodButton,...le.inputMethod==="type"?X.methodButtonActive:{}},onClick:()=>oe({...le,inputMethod:"type"}),children:" Type"}),t.jsx("button",{style:{...X.methodButton,...le.inputMethod==="draw"?X.methodButtonActive:{}},onClick:()=>oe({...le,inputMethod:"draw"}),children:" Draw/Write"}),t.jsx("button",{style:{...X.methodButton,...le.inputMethod==="voice"?X.methodButtonActive:{}},onClick:()=>oe({...le,inputMethod:"voice"}),children:" Voice"})]}),le.inputMethod==="type"&&t.jsxs("div",{children:[t.jsxs("div",{style:X.formGroup,children:[t.jsx("label",{style:X.label,children:"Diagnosis"}),t.jsx("input",{style:X.input,value:le.diagnosis,onChange:k=>oe({...le,diagnosis:k.target.value}),placeholder:"Medical diagnosis"})]}),t.jsxs("div",{style:X.medicinesSection,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h4",{children:"Medicines"}),t.jsx("button",{style:X.addButton,onClick:Cn,children:" Add Medicine"})]}),le.medicines.map((k,we)=>t.jsxs("div",{style:X.medicineRow,children:[t.jsx("input",{style:{...X.input,flex:2},placeholder:"Medicine name",value:k.name,onChange:xe=>an(we,"name",xe.target.value)}),t.jsx("input",{style:{...X.input,flex:1},placeholder:"Dosage",value:k.dosage,onChange:xe=>an(we,"dosage",xe.target.value)}),t.jsx("input",{style:{...X.input,flex:1},placeholder:"Frequency",value:k.frequency,onChange:xe=>an(we,"frequency",xe.target.value)}),t.jsx("input",{style:{...X.input,flex:1},placeholder:"Duration",value:k.duration,onChange:xe=>an(we,"duration",xe.target.value)}),t.jsx("input",{style:{...X.input,flex:2},placeholder:"Instructions",value:k.instructions,onChange:xe=>an(we,"instructions",xe.target.value)}),le.medicines.length>1&&t.jsx("button",{style:X.removeButton,onClick:()=>Dt(we),children:""})]},we))]}),t.jsxs("div",{style:X.formGroup,children:[t.jsx("label",{style:X.label,children:"Additional Notes"}),t.jsx("textarea",{style:{...X.input,minHeight:"80px"},value:le.additionalNotes,onChange:k=>oe({...le,additionalNotes:k.target.value}),placeholder:"Any additional instructions or notes"})]})]}),le.inputMethod==="draw"&&t.jsxs("div",{children:[t.jsxs("div",{style:X.canvasControls,children:[t.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[t.jsx("label",{children:"Pen Color:"}),t.jsx("input",{type:"color",value:I,onChange:k=>at(k.target.value),style:X.colorPicker}),t.jsx("label",{children:"Size:"}),t.jsx("input",{type:"range",min:"1",max:"10",value:he,onChange:k=>ct(k.target.value),style:X.sizeSlider}),t.jsxs("span",{children:[he,"px"]})]}),t.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.jsx("button",{style:X.canvasButton,onClick:Et,children:" Undo"}),t.jsx("button",{style:X.canvasButton,onClick:kt,children:" Clear"})]})]}),t.jsx("canvas",{ref:B,width:800,height:500,style:X.canvas,onMouseDown:be,onMouseMove:Ze,onMouseUp:_t,onMouseLeave:_t,onTouchStart:be,onTouchMove:Ze,onTouchEnd:_t}),t.jsx("p",{style:X.canvasHint,children:" Use your mouse, stylus, or touch to write the prescription"})]}),le.inputMethod==="voice"&&t.jsxs("div",{children:[t.jsxs("div",{style:X.voiceControls,children:[t.jsx("button",{style:{...X.voiceButton,background:wt?"#ff4444":"#11998e"},onClick:Rt,children:wt?" Stop Recording":" Start Recording"}),wt&&t.jsxs("div",{style:X.recordingIndicator,children:[t.jsx("span",{style:X.recordingDot}),"Recording..."]})]}),t.jsxs("div",{style:X.transcriptBox,children:[t.jsx("strong",{children:"Transcript:"}),t.jsx("div",{style:X.transcript,children:W||"Speak to start transcription..."})]}),t.jsx("p",{style:X.voiceHint,children:' Click "Start Recording" and speak clearly. The system will convert your speech to text.'})]}),t.jsx("button",{style:X.saveButton,onClick:gn,children:" Save Prescription"})]})]})})]})}):null},X={modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},modal:{background:"white",borderRadius:"15px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 10px 50px rgba(0,0,0,0.3)"},modalHeader:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",padding:"20px 30px",display:"flex",justifyContent:"space-between",alignItems:"center"},modalTitle:{margin:0,fontSize:"24px",fontWeight:"600"},modalSubtitle:{margin:"5px 0 0 0",opacity:.9,fontSize:"14px"},closeButton:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",width:"35px",height:"35px",borderRadius:"50%",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s"},primaryButton:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s"},tabs:{display:"flex",borderBottom:"2px solid #e0e0e0",background:"#f8f9fa"},tab:{flex:1,padding:"15px",border:"none",background:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:"#666",transition:"all 0.3s"},activeTab:{color:"#11998e",borderBottom:"3px solid #11998e",fontWeight:"600"},modalBody:{padding:"30px",overflowY:"auto",flex:1},section:{marginBottom:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"10px"},sectionTitle:{margin:"0 0 15px 0",color:"#11998e",fontSize:"18px",fontWeight:"600"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},vitalsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px"},vitalCard:{background:"white",padding:"15px",borderRadius:"8px",textAlign:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},vitalLabel:{fontSize:"12px",color:"#666",marginBottom:"5px"},vitalValue:{fontSize:"20px",fontWeight:"600",color:"#11998e"},noData:{textAlign:"center",color:"#999",padding:"40px",fontStyle:"italic"},prescriptionCard:{background:"#f8f9fa",padding:"20px",borderRadius:"10px",marginBottom:"15px",border:"1px solid #e0e0e0"},prescriptionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid #e0e0e0"},printButton:{background:"#11998e",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"14px",transition:"all 0.3s"},medicineList:{marginTop:"10px",paddingLeft:"20px"},handwrittenPreview:{maxWidth:"100%",border:"1px solid #ddd",borderRadius:"5px",marginTop:"10px"},visitCard:{background:"#f8f9fa",padding:"20px",borderRadius:"10px",marginBottom:"15px",border:"1px solid #e0e0e0"},loadingSpinner:{textAlign:"center",padding:"40px",color:"#11998e",fontSize:"18px"},notification:{position:"absolute",top:"20px",right:"20px",color:"white",padding:"15px 25px",borderRadius:"8px",zIndex:1001,animation:"slideIn 0.3s ease",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},subModalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001},subModal:{background:"white",borderRadius:"15px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 10px 50px rgba(0,0,0,0.3)"},formBody:{padding:"30px",overflowY:"auto"},formGroup:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333"},input:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"},vitalsSection:{marginBottom:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"8px"},vitalsInputGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px",marginTop:"15px"},saveButton:{width:"100%",padding:"15px",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s",marginTop:"20px"},inputMethodSelector:{display:"flex",gap:"10px",marginBottom:"20px",padding:"10px",background:"#f8f9fa",borderRadius:"8px"},methodButton:{flex:1,padding:"12px",border:"2px solid #ddd",background:"white",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s"},methodButtonActive:{background:"#11998e",color:"white",borderColor:"#11998e"},medicinesSection:{marginBottom:"20px"},medicineRow:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"center"},addButton:{background:"#11998e",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},removeButton:{background:"#ff4444",color:"white",border:"none",padding:"8px 12px",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},canvas:{border:"2px solid #ddd",borderRadius:"8px",cursor:"crosshair",width:"100%",touchAction:"none",background:"white"},canvasControls:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",padding:"15px",background:"#f8f9fa",borderRadius:"8px"},colorPicker:{width:"40px",height:"40px",border:"none",borderRadius:"5px",cursor:"pointer"},sizeSlider:{width:"100px"},canvasButton:{background:"#11998e",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},canvasHint:{textAlign:"center",color:"#666",fontSize:"14px",marginTop:"10px",fontStyle:"italic"},voiceControls:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"20px",padding:"20px",background:"#f8f9fa",borderRadius:"8px"},voiceButton:{padding:"15px 30px",border:"none",borderRadius:"8px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s"},recordingIndicator:{display:"flex",alignItems:"center",gap:"10px",color:"#ff4444",fontWeight:"600"},recordingDot:{width:"12px",height:"12px",background:"#ff4444",borderRadius:"50%",animation:"pulse 1.5s infinite"},transcriptBox:{marginBottom:"20px"},transcript:{marginTop:"10px",padding:"20px",background:"white",border:"2px solid #ddd",borderRadius:"8px",minHeight:"150px",fontSize:"14px",lineHeight:"1.6",color:"#333"},voiceHint:{textAlign:"center",color:"#666",fontSize:"14px",fontStyle:"italic"}},dh=({patientId:r,onClose:s,doctorId:u=null,doctorName:c=null,hospitalId:f=null,isHospitalView:g=!1})=>{const[x,y]=b.useState({healthRecords:[],prescriptions:[],appointments:[]}),[w,j]=b.useState(null),[C,U]=b.useState(!0),[A,re]=b.useState(null),[P,K]=b.useState(!1),[G,se]=b.useState("summary"),[E,le]=b.useState(!1),[oe,B]=b.useState({chiefComplaint:"",bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",symptoms:"",observations:"",allergies:"",chronicConditions:"",notes:""});b.useEffect(()=>{r&&(u||f)&&($e(),u&&ht())},[r,u,f]);const $e=async()=>{U(!0);try{const I=g&&f?await $y(r,f):await Qy(r,u);if(y(I),I.appointments&&I.appointments.length>0){const at=I.appointments[0];j({name:at.patientName,phone:at.patientPhone,email:at.patientEmail||"N/A"})}}catch(I){console.error("Error loading patient data:",I),alert("Failed to load patient data")}finally{U(!1)}},ht=async()=>{try{const I=await Vy(r,u);I&&re(I.summary)}catch(I){console.error("Error loading cached summary:",I)}},$=async()=>{K(!0);try{const I=await Fy(r,u);re(I.summary)}catch(I){console.error("Error generating AI summary:",I),alert("Failed to generate AI summary: "+I.message)}finally{K(!1)}},ue=async I=>{I.preventDefault();try{await Yy(r,u,{...oe,doctorName:c}),alert("Health record added successfully!"),le(!1),B({chiefComplaint:"",bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",symptoms:"",observations:"",allergies:"",chronicConditions:"",notes:""}),await $e()}catch(at){console.error("Error adding health record:",at),alert("Failed to add health record")}};return C?t.jsx("div",{style:zn.modal,onClick:s,children:t.jsx("div",{style:{...zn.modalContent,maxWidth:"900px"},onClick:I=>I.stopPropagation(),children:t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),t.jsx("p",{children:"Loading patient health records..."})]})})}):t.jsx("div",{style:zn.modal,onClick:s,children:t.jsxs("div",{style:{...zn.modalContent,maxWidth:"1000px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:I=>I.stopPropagation(),children:[t.jsx("div",{style:{borderBottom:"2px solid #11998e",paddingBottom:"1rem",marginBottom:"1rem"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Complete Health Records"}),t.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#666"},children:["Patient: ",t.jsx("strong",{children:w?.name||"Unknown"}),w?.phone&&` |  ${w.phone}`,w?.email&&` |  ${w.email}`]})]}),t.jsx("button",{onClick:s,style:{background:"#f5576c",color:"white",border:"none",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"600"},children:" Close"})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[t.jsxs("div",{style:zn.statBox,children:[t.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#11998e"},children:x?.appointments?.length||0}),t.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:"Total Visits"})]}),t.jsxs("div",{style:zn.statBox,children:[t.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#667eea"},children:x?.prescriptions?.length||0}),t.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:"Prescriptions"})]}),t.jsxs("div",{style:zn.statBox,children:[t.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#f5576c"},children:x?.healthRecords?.length||0}),t.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:"Health Records"})]}),t.jsxs("div",{style:zn.statBox,children:[t.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#38ef7d"},children:x?.appointments?.filter(I=>I.status==="completed").length||0}),t.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:"Completed"})]})]}),t.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",borderBottom:"2px solid #e0e0e0"},children:["summary","appointments","prescriptions","records"].map(I=>t.jsx("button",{onClick:()=>se(I),style:{padding:"0.75rem 1.5rem",background:G===I?"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)":"transparent",color:G===I?"white":"#666",border:"none",borderRadius:"8px 8px 0 0",cursor:"pointer",fontWeight:"600",textTransform:"capitalize"},children:I},I))}),t.jsxs("div",{style:{flex:1,overflow:"auto",padding:"0.5rem"},children:[G==="summary"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[t.jsx("h3",{style:{margin:0,color:"#333"},children:" AI-Powered Health Summary"}),t.jsx("button",{onClick:$,disabled:P,style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:P?"not-allowed":"pointer",fontWeight:"600",opacity:P?.6:1},children:P?" Generating...":" Generate AI Summary"})]}),A?t.jsx("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"10px",border:"2px solid #667eea",whiteSpace:"pre-wrap",lineHeight:"1.8"},children:A}):t.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"#f8f9fa",borderRadius:"10px",color:"#999"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{children:'Click "Generate AI Summary" to get an AI-powered comprehensive health analysis'})]})]}),G==="appointments"&&t.jsxs("div",{children:[t.jsxs("h3",{style:{marginTop:0,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(IconCalendar,{size:20})}),"Appointment History"]}),x?.appointments.length===0?t.jsx("p",{style:{textAlign:"center",color:"#999",padding:"2rem"},children:"No appointments found"}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:x?.appointments.map(I=>t.jsxs("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsxs("strong",{style:{color:"#11998e"},children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(IconCalendar,{size:18})})," ",I.date," at ",I.time]}),t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",background:I.status==="completed"?"#38ef7d":"#ffa502",color:"white",fontSize:"0.75rem",fontWeight:"600"},children:I.status})]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[t.jsxs("div",{children:[" ",I.hospitalName||I.doctorName]}),I.reason&&t.jsxs("div",{children:[" ",I.reason]})]})]},I.id))})]}),G==="prescriptions"&&t.jsxs("div",{children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" Prescription History"}),x?.prescriptions.length===0?t.jsx("p",{style:{textAlign:"center",color:"#999",padding:"2rem"},children:"No prescriptions found"}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:x?.prescriptions.map(I=>t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px",border:"2px solid #11998e"},children:[t.jsx("div",{style:{marginBottom:"1rem"},children:t.jsxs("strong",{style:{color:"#11998e"},children:[" ",I.prescriptionDate||"Date N/A"]})}),t.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.8",color:"#333"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Diagnosis:"})," ",I.diagnosis]}),t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Medications:"}),t.jsx("ul",{style:{margin:"0.5rem 0",paddingLeft:"1.5rem"},children:I.medications?.map((at,he)=>t.jsxs("li",{children:[at.name," - ",at.dosage||"N/A"," | ",at.frequency||"N/A"," | ",at.duration||"N/A"]},he))})]}),I.instructions&&t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Instructions:"})," ",I.instructions]}),I.tests&&t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Tests:"})," ",I.tests]})]})]},I.id))})]}),G==="records"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[t.jsx("h3",{style:{margin:0,color:"#333"},children:" Detailed Health Records"}),t.jsx("button",{onClick:()=>le(!E),style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:E?" Cancel":" Add New Record"})]}),E&&t.jsxs("form",{onSubmit:ue,style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px",marginBottom:"1.5rem",border:"2px solid #11998e"},children:[t.jsx("h4",{style:{marginTop:0,color:"#11998e"},children:" Add Health Record"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsx("input",{type:"text",placeholder:"Chief Complaint *",value:oe.chiefComplaint,onChange:I=>B({...oe,chiefComplaint:I.target.value}),style:zn.input,required:!0}),t.jsx("input",{type:"text",placeholder:"Blood Pressure (e.g., 120/80)",value:oe.bloodPressure,onChange:I=>B({...oe,bloodPressure:I.target.value}),style:zn.input}),t.jsx("input",{type:"text",placeholder:"Heart Rate (bpm)",value:oe.heartRate,onChange:I=>B({...oe,heartRate:I.target.value}),style:zn.input}),t.jsx("input",{type:"text",placeholder:"Temperature (F/C)",value:oe.temperature,onChange:I=>B({...oe,temperature:I.target.value}),style:zn.input}),t.jsx("input",{type:"text",placeholder:"Weight",value:oe.weight,onChange:I=>B({...oe,weight:I.target.value}),style:zn.input}),t.jsx("input",{type:"text",placeholder:"Height",value:oe.height,onChange:I=>B({...oe,height:I.target.value}),style:zn.input})]}),t.jsx("textarea",{placeholder:"Symptoms",value:oe.symptoms,onChange:I=>B({...oe,symptoms:I.target.value}),style:{...zn.input,minHeight:"60px",marginTop:"1rem"}}),t.jsx("textarea",{placeholder:"Observations",value:oe.observations,onChange:I=>B({...oe,observations:I.target.value}),style:{...zn.input,minHeight:"60px",marginTop:"1rem"}}),t.jsx("input",{type:"text",placeholder:"Allergies",value:oe.allergies,onChange:I=>B({...oe,allergies:I.target.value}),style:{...zn.input,marginTop:"1rem"}}),t.jsx("input",{type:"text",placeholder:"Chronic Conditions",value:oe.chronicConditions,onChange:I=>B({...oe,chronicConditions:I.target.value}),style:{...zn.input,marginTop:"1rem"}}),t.jsx("textarea",{placeholder:"Additional Notes",value:oe.notes,onChange:I=>B({...oe,notes:I.target.value}),style:{...zn.input,minHeight:"80px",marginTop:"1rem"}}),t.jsx("button",{type:"submit",style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",width:"100%"},children:" Save Health Record"})]}),x?.healthRecords?.length===0?t.jsx("p",{style:{textAlign:"center",color:"#999",padding:"2rem"},children:"No detailed health records yet. Add one using the button above."}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:x?.healthRecords?.map(I=>t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px",border:"2px solid #667eea"},children:[t.jsx("div",{style:{marginBottom:"1rem"},children:t.jsxs("strong",{style:{color:"#667eea"},children:[" ",I.createdAt?new Date(I.createdAt).toLocaleDateString():"N/A"," | Dr. ",I.doctorName||c]})}),t.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.8",color:"#333"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Chief Complaint:"})," ",I.chiefComplaint]}),I.bloodPressure&&t.jsxs("div",{children:[t.jsx("strong",{children:"BP:"})," ",I.bloodPressure]}),I.heartRate&&t.jsxs("div",{children:[t.jsx("strong",{children:"Heart Rate:"})," ",I.heartRate," bpm"]}),I.temperature&&t.jsxs("div",{children:[t.jsx("strong",{children:"Temperature:"})," ",I.temperature]}),I.weight&&t.jsxs("div",{children:[t.jsx("strong",{children:"Weight:"})," ",I.weight]}),I.symptoms&&t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Symptoms:"})," ",I.symptoms]}),I.observations&&t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Observations:"})," ",I.observations]}),I.allergies&&t.jsxs("div",{style:{marginTop:"0.5rem",color:"#f5576c"},children:[t.jsx("strong",{children:" Allergies:"})," ",I.allergies]}),I.chronicConditions&&t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Chronic Conditions:"})," ",I.chronicConditions]}),I.notes&&t.jsxs("div",{style:{marginTop:"0.5rem"},children:[t.jsx("strong",{children:"Notes:"})," ",I.notes]})]})]},I.id))})]})]})]})})},zn={modal:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem"},modalContent:{background:"white",borderRadius:"15px",padding:"2rem",width:"100%",boxShadow:"0 10px 50px rgba(0,0,0,0.3)"},statBox:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",textAlign:"center",border:"1px solid #e0e0e0"},input:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid #e0e0e0",fontSize:"1rem",boxSizing:"border-box"}},di="/assets/billing_qr-D9aYMsrW.png";function $d(r){const[s,u]=r.split("-").map(Number),c=new Date(s,u-1,1),f=new Date(s,u-1+1,1);return{startISO:c.toISOString(),nextMonthISO:f.toISOString(),startDateStr:`${r}-01`}}function ch({appointmentsCount:r=0,prescriptionsCount:s=0,rates:u={},pricingModel:c="full",discountPercentage:f=0}){let g=r*(u.appointmentCost||0),x=s*(u.prescriptionCost||0),y=g+x;if(c==="free")g=0,x=0,y=0;else if(c==="reduced"){const w=(f||0)/100;g*=1-w,x*=1-w,y*=1-w}return{appointmentCost:g,prescriptionCost:x,totalCost:y}}function uh({doctorId:r,doctorProfile:s,isHospitalView:u=!1,suppressHeader:c=!1}){const{currentUser:f,userProfile:g,refresh:x}=Ia(),y=r||f?.uid,w=s||g,[j,C]=b.useState("overview"),[U,A]=b.useState(!1),[re,P]=b.useState([]),[K,G]=b.useState({}),[se,E]=b.useState({}),[le,oe]=b.useState(!0),[B,$e]=b.useState(null),[ht,$]=b.useState({rates:{INR:{currency:"INR",symbol:"",appointmentCost:500,prescriptionCost:200},GBP:{currency:"GBP",symbol:"",appointmentCost:5,prescriptionCost:2}}}),[ue,I]=b.useState(""),[at,he]=b.useState([]),[ct,wt]=b.useState(!1),[Fe,W]=b.useState(!1),[ce,fe]=b.useState(null),[lt,Ge]=b.useState(!1),[Rt,We]=b.useState(!1),[be,Ze]=b.useState(null),[_t,kt]=b.useState(!1),[Et,Cn]=b.useState(null),[Dt,an]=b.useState(new Date().toISOString().split("T")[0]),[Nt,gn]=b.useState(!1),[xt,k]=b.useState(!1),[we,xe]=b.useState(!1),[Le,Ie]=b.useState(null),An=h=>{try{const T=sessionStorage.getItem(h);if(T)return JSON.parse(T)}catch(T){console.warn("Cache read error",T)}return null},qn=(h,T)=>{try{sessionStorage.setItem(h,JSON.stringify(T))}catch(Q){console.warn("Cache write error",Q)}},[me,yn]=b.useState(""),[ki,Mt]=b.useState([]),[Qt,Vn]=b.useState(!1),[ft,Qn]=b.useState(!1),[Ht,rn]=b.useState({displayName:"",specialization:"",consultationFee:"",phone:"",country:"",state:"",city:"",address:""}),[N,J]=b.useState({date:new Date().toISOString().split("T")[0],startTime:"12:00",endTime:"13:00",reason:"Lunch Break"}),[ve,je]=b.useState(!1),[ge,Te]=b.useState({slotDuration:30,workingDays:[1,2,3,4,5],dayWiseHours:{1:{enabled:!0,start:"09:00",end:"17:00"},2:{enabled:!0,start:"09:00",end:"17:00"},3:{enabled:!0,start:"09:00",end:"17:00"},4:{enabled:!0,start:"09:00",end:"17:00"},5:{enabled:!0,start:"09:00",end:"17:00"},6:{enabled:!1,start:"09:00",end:"17:00"},7:{enabled:!1,start:"09:00",end:"17:00"}}}),[bt,Mn]=b.useState(!1),[sn,Gn]=b.useState({date:new Date().toISOString().split("T")[0],reason:""}),[Tt,ln]=b.useState({diagnosis:"",medications:[{name:"",dosage:"",frequency:"",duration:""}],instructions:"",followUpDate:"",tests:""}),[xn,Bn]=b.useState(null);b.useEffect(()=>{const h=window.matchMedia("(max-width: 480px)"),T=Q=>A(Q.matches);return A(h.matches),h.addEventListener?h.addEventListener("change",T):h.addListener(T),()=>{h.removeEventListener?h.removeEventListener("change",T):h.removeListener(T)}},[]);const[Ve,ni]=b.useState({totalAppointments:0,totalPrescriptions:0,totalCost:0,totalPaid:0,pendingAmount:0,paymentHistory:[]}),[gt,Xt]=b.useState(""),[Ut,Xe]=b.useState(!1),[D,O]=b.useState(""),[q,ne]=b.useState(!1),[Re,ke]=b.useState(null);b.useEffect(()=>{const h=new Image;h.src=di,h.onload=()=>{try{const T=document.createElement("canvas");T.width=h.width,T.height=h.height;const Q=T.getContext("2d");Q.drawImage(h,0,0);const ie=Q.getImageData(0,0,T.width,T.height).data;let ye=T.width,Ue=T.height,qe=0,rt=0;const et=250;for(let Rn=0;Rn<T.height;Rn++)for(let kn=0;kn<T.width;kn++){const Yn=(Rn*T.width+kn)*4,Fn=ie[Yn],Hn=ie[Yn+1],En=ie[Yn+2];ie[Yn+3]>10&&!(Fn>et&&Hn>et&&En>et)&&(kn<ye&&(ye=kn),Rn<Ue&&(Ue=Rn),kn>qe&&(qe=kn),Rn>rt&&(rt=Rn))}if(ye>qe||Ue>rt){ke(di);return}const Me=Math.max(8,Math.floor(Math.min(T.width,T.height)*.02));ye=Math.max(0,ye-Me),Ue=Math.max(0,Ue-Me),qe=Math.min(T.width,qe+Me),rt=Math.min(T.height,rt+Me);const tt=qe-ye+1,ot=rt-Ue+1,un=document.createElement("canvas");un.width=tt,un.height=ot,un.getContext("2d").drawImage(T,ye,Ue,tt,ot,0,0,tt,ot);const Dn=un.toDataURL("image/png");ke(Dn)}catch(T){console.error("QR crop failed",T),ke(di)}},h.onerror=()=>ke(di)},[di]),b.useEffect(()=>{y&&_e()},[y]),b.useEffect(()=>{if(!ue){const h=new Date,T=h.getFullYear(),Q=String(h.getMonth()+1).padStart(2,"0");I(`${T}-${Q}`)}},[]),b.useEffect(()=>{w&&rn({displayName:w.displayName||"",specialization:w.specialization||"",consultationFee:w.consultationFee||"",phone:w.phone||"",country:w.country||"",state:w.state||"",city:w.city||"",address:w.address||""})},[w]),b.useEffect(()=>{j==="usage"&&y&&Si()},[j,y]),b.useEffect(()=>{j==="billing"&&y&&yt()},[j,y,ue]),b.useEffect(()=>{j==="appointments"&&y&&!ft&&vt()},[j,y,ft]);const vt=async()=>{if(!le){oe(!0);try{const h=await xy(y),T=[...new Set(h.filter(ie=>!ie.patientName||!ie.patientPhone).map(ie=>ie.patientId||ie.userId||ie.patientUid).filter(ie=>ie))],Q={};await Promise.all(T.map(async ie=>{try{const ye=Be(Y,"users",ie),Ue=await Vt(ye);Ue.exists()&&(Q[ie]=Ue.data())}catch(ye){console.error("Error fetching patient data for:",ie,ye)}}));const pe=h.map(ie=>{if(ie.patientName&&ie.patientPhone)return ie;const ye=ie.patientId||ie.userId||ie.patientUid,Ue=Q[ye];return Ue?{...ie,patientId:ye,patientName:Ue.displayName||Ue.name||Ue.email,patientPhone:Ue.phone||Ue.phoneNumber||"N/A",patientEmail:Ue.email}:ie});console.log(" Loaded all appointments:",pe.length),P(pe),Qn(!0)}catch(h){console.error("Error loading all appointments:",h),Ne("Error loading appointments","error")}finally{oe(!1)}}},_e=async()=>{oe(!0);try{const h=new Date().toISOString().split("T")[0],T=Se(Y,"appointments"),Q=Ae(T,de("doctorId","==",y),de("date","==",h)),[pe,ie,ye]=await Promise.all([wy(y),He(Q),oc(y)]),Ue=ie.docs.map(Me=>({id:Me.id,...Me.data()}));console.log(" Dashboard Data Loaded (Optimized):",{stats:pe,todayAppointments:Ue.length});const qe=[...new Set(Ue.filter(Me=>!Me.patientName||!Me.patientPhone).map(Me=>Me.patientId||Me.userId||Me.patientUid).filter(Me=>Me))],rt={};await Promise.all(qe.map(async Me=>{try{const tt=Be(Y,"users",Me),ot=await Vt(tt);ot.exists()&&(rt[Me]=ot.data())}catch(tt){console.error(tt)}}));const et=Ue.map(Me=>{if(Me.patientName&&Me.patientPhone)return Me;const tt=Me.patientId||Me.userId||Me.patientUid,ot=rt[tt];return ot?{...Me,patientId:tt,patientName:ot.displayName||ot.name||ot.email,patientPhone:ot.phone||ot.phoneNumber||"N/A",patientEmail:ot.email}:Me});ft||P(et),G(ye),E({...pe,todayAppointments:Ue.length,patientCount:0})}catch(h){console.error("Error loading dashboard data:",h),Ne("Error loading data","error")}finally{oe(!1)}},Ne=(h,T="success")=>{Bn({message:h,type:T}),setTimeout(()=>Bn(null),3e3)};b.useEffect(()=>{const h=new Date,T=h.getFullYear(),Q=String(h.getMonth()+1).padStart(2,"0");I(`${T}-${Q}`)},[]),b.useEffect(()=>{j==="payments"&&ue&&y&&yt()},[j,ue,y]);const Kt=h=>{console.log(" Getting payment methods for country:",h);const T=[];return h==="India"||h==="IN"?T.push("UPI","Paytm","PhonePe","Google Pay","Bank Transfer","Net Banking"):h==="United States"||h==="US"||h==="USA"?T.push("PayPal","Stripe","Venmo","Zelle","Bank Transfer","Check"):h==="United Kingdom"||h==="UK"||h==="GB"?T.push("PayPal","Stripe","Faster Payments","Bank Transfer","Check"):h==="Canada"||h==="CA"?T.push("PayPal","Stripe","Interac","Bank Transfer","Check"):h==="Australia"||h==="AU"?T.push("PayPal","Stripe","BPAY","Bank Transfer"):T.push("PayPal","Stripe","Bank Transfer","Wire Transfer"),console.log(" Available payment methods:",T),T},Si=async()=>{try{oe(!0),console.log(" Loading usage data for doctor:",y);let h={currency:"USD",appointmentCost:50,prescriptionCost:20};try{const Jt=Be(Y,"config","billing"),Dn=await Vt(Jt);Dn.exists()&&(h=Dn.data(),$(h))}catch(Jt){console.warn("Config not found, using defaults:",Jt)}const T=Be(Y,"users",y),Q=await Vt(T);if(!Q.exists())throw new Error("Doctor profile not found");const pe=Q.data(),ie=Se(Y,"appointments"),ye=Ae(ie,de("doctorId","==",y)),qe=(await He(ye)).docs.map(Jt=>({id:Jt.id,...Jt.data()})),rt=Se(Y,"prescriptions"),et=Ae(rt,de("doctorId","==",y)),tt=(await He(et)).docs.map(Jt=>({id:Jt.id,...Jt.data()})),ot=w?.country||pe?.country||"default",un=Pl({country:ot,customRates:pe?.customRates},h);$e({totalAppointments:qe.length,totalPrescriptions:tt.length,appointmentsByMonth:Xn(qe),prescriptionsByMonth:Xn(tt),pricingModel:pe?.pricingModel||"full",discountPercentage:pe?.discountPercentage||0,currency:un.currency||"GBP",symbol:un.symbol||"",rates:un})}catch(h){console.error("Error loading usage data:",h),Ne("Error loading usage data","error")}finally{oe(!1)}},Qe=async h=>{if(h.preventDefault(),!D){Ne("Please select a payment method","error");return}const T=parseFloat(gt);if(!T||T<=0){Ne("Please enter a valid amount","error");return}if(T>Ve.pendingAmount){Ne("Amount cannot exceed pending balance","error");return}try{Xe(!0);const Q={doctorId:y,doctorName:w.displayName||w.email,amount:T,currency:B.currency,paymentMethod:D,status:"pending",createdAt:new Date().toISOString(),createdBy:f.uid,type:"partial",description:`Partial payment for doctor app usage - ${Ve.totalAppointments} appointments, ${Ve.totalPrescriptions} prescriptions`},pe=Se(Y,"payments");await fa(pe,Q),Ne("Payment request submitted successfully! Admin will verify and process.","success"),xe(!1),Xt(""),O(""),yt()}catch(Q){console.error("Error processing payment:",Q),Ne("Failed to process payment","error")}finally{Xe(!1)}},Wn=()=>{Xt(""),O(""),xe(!0)},yt=async()=>{try{oe(!0),console.log(" Loading billing data for doctor:",y);const h=`doc_billing_${y}_${ue||"all"}`;if(u)console.log(" Embedded hospital view: bypassing doctor cache to reflect hospital aggregation");else{const Ye=An(h);if(Ye){console.log(" Using cached doctor billing data for",h),Ye.cumulativeData&&ni(Ye.cumulativeData),Ye.paymentInfo?$e(Ye.paymentInfo):$e(Ye),oe(!1);return}}let T={currency:"USD",appointmentCost:50,prescriptionCost:20};try{const Ye=Be(Y,"config","billing"),bn=await Vt(Ye);bn.exists()&&(T=bn.data(),$(T))}catch(Ye){console.warn("Config not found, using defaults:",Ye)}const Q=Be(Y,"users",y),pe=await Vt(Q);if(!pe.exists())throw new Error("Doctor profile not found");const ie=pe.data(),ye=Se(Y,"appointments"),Ue=Se(Y,"prescriptions"),qe=Se(Y,"payments"),rt=Ae(ye,de("doctorId","==",y)),et=Ae(Ue,de("doctorId","==",y)),Me=Ae(qe,de("doctorId","==",y));let tt=rt,ot=et,un=Me;if(ue){const{startISO:Ye,nextMonthISO:bn}=$d(ue);tt=Ae(ye,de("doctorId","==",y),de("date",">=",Ye),de("date","<",bn)),ot=Ae(Ue,de("doctorId","==",y),de("createdAt",">=",Ye),de("createdAt","<",bn)),un=Ae(qe,de("doctorId","==",y),de("createdAt",">=",Ye),de("createdAt","<",bn))}const Jt=Ae(Me,ha("createdAt","desc"),Zd(100));let Dn=null;if(ue){const{startISO:Ye,nextMonthISO:bn}=$d(ue);Dn=Ae(qe,de("doctorId","==",y),de("createdAt",">=",Ye),de("createdAt","<",bn),ha("createdAt","desc"),Zd(100))}console.time("DoctorBillingFetch");const[Rn,kn,Yn,Fn,Hn,En]=await Promise.all([ci(rt).catch(Ye=>({data:()=>({count:0})})),ci(et).catch(Ye=>({data:()=>({count:0})})),Lr(Me,{totalPaid:Pr("amount")}).catch(Ye=>({data:()=>({totalPaid:0})})),ci(tt).catch(Ye=>({data:()=>({count:0})})),ci(ot).catch(Ye=>({data:()=>({count:0})})),He(Jt).catch(Ye=>({docs:[]})),Dn?He(Dn).catch(Ye=>({docs:[]})):Promise.resolve({docs:[]})]);console.timeEnd("DoctorBillingFetch");const ii=Rn.data().count,pi=kn.data().count,Zn=w?.country||ie?.country||"default",pn=Pl({country:Zn,customRates:ie?.customRates},T),mi=ie?.pricingModel||"full",ll=ie?.discountPercentage||0;let Hi=ii*(pn.appointmentCost||0),Jn=pi*(pn.prescriptionCost||0),Zi=Hi+Jn;if(mi==="free")Hi=0,Jn=0,Zi=0;else if(mi==="reduced"){const Ye=ll/100;Hi*=1-Ye,Jn*=1-Ye,Zi*=1-Ye}let Wi=0;Yn.data&&(Wi=Yn.data().totalPaid||0);const Ui=Math.max(0,Zi-Wi),ol=Fn.data().count,qa=Hn.data().count,ko=ch({appointmentsCount:ol,prescriptionsCount:qa,rates:pn,pricingModel:mi,discountPercentage:ll});let ya=En.docs.map(Ye=>({id:Ye.id,...Ye.data()})).sort((Ye,bn)=>bn.createdAt.localeCompare(Ye.createdAt));const rl=arguments[6]&&arguments[6].docs?arguments[6].docs.map(Ye=>({id:Ye.id,...Ye.data()})).sort((Ye,bn)=>bn.createdAt.localeCompare(Ye.createdAt)):[];let sl=0;try{sl=(await Lr(un,{totalPaid:Pr("amount")}).catch(()=>({data:()=>({totalPaid:0})}))).data().totalPaid||0}catch{sl=ya.reduce((bn,Eo)=>bn+(Eo.status==="completed"&&Eo.amount||0),0)}const Un={totalAppointments:ii,totalPrescriptions:pi,appointmentCost:Hi,prescriptionCost:Jn,totalCost:Zi,totalPaid:Wi,pendingAmount:Ui,paymentHistory:ya};ni(Un);const Yi={displayCost:ko?.totalCost||0,monthlyAppointments:ol,monthlyPrescriptions:qa,monthlyPaymentHistory:rl,totalAppointments:ii,totalPrescriptions:pi,totalCost:Zi,appointmentCost:Hi,prescriptionCost:Jn,paid:Wi,pending:Ui,pricingModel:mi,discountPercentage:ll,rates:pn,currency:pn.currency,symbol:pn.symbol,country:Zn,paymentHistory:ya,monthlyPaid:sl,paymentDetails:T.paymentDetails||{},countryInstructions:T.countrySpecificInstructions||{},isHospitalDoctor:!!ie.hospitalId};$e(Yi);try{qn(h,{cumulativeData:Un,paymentInfo:Yi,timestamp:Date.now()})}catch(Ye){console.warn("Failed to write doctor billing cache",Ye)}console.log(" Billing data loaded (Monthly & All-Time)")}catch(h){console.error("Error loading billing data:",h);const T=h&&h.message?h.message:"Failed to load billing data.";Ne("Error loading billing data: "+T,"error");try{ni({totalAppointments:0,totalPrescriptions:0,appointmentCost:0,prescriptionCost:0,totalCost:0,totalPaid:0,pendingAmount:0,paymentHistory:[]}),$e({error:!0,message:T,displayCost:0,monthlyAppointments:0,monthlyPrescriptions:0,totalAppointments:0,totalPrescriptions:0,totalCost:0,appointmentCost:0,prescriptionCost:0,paid:0,pending:0,pricingModel:"full",discountPercentage:0,rates:{},currency:"USD",symbol:"$",country:w?.country||"default",paymentDetails:{},countryInstructions:{}})}catch(Q){console.warn("Error while setting fallback billing UI state",Q)}}finally{oe(!1)}},Xn=h=>{const T={};return h.forEach(Q=>{const pe=Q.date||Q.createdAt||"";if(pe){const ie=pe.substring(0,7);T[ie]=(T[ie]||0)+1}}),T},Kn=async h=>{h.preventDefault();try{if(await ah(y,Ht),Ne("Profile updated successfully!"),wt(!1),!u)try{await x()}catch{window.location.href="/dashboard"}}catch(T){console.error("Error updating profile:",T),Ne("Failed to update profile","error")}},Ei=async h=>{h.preventDefault();try{const T=re.filter(Q=>Q.date===N.date&&Q.time>=N.startTime&&Q.time<N.endTime&&Q.status!=="cancelled"&&Q.status!=="completed");if(T.length>0){const Q=T.map(ie=>`${ie.patientName||ie.userName} at ${ie.time}`).join(", "),pe=` WARNING: You have ${T.length} appointment(s) during this time:

${Q}

You should cancel or reschedule these appointments before blocking this time. Do you still want to block this time?`;if(!window.confirm(pe))return}await jy(y,N),T.length>0?Ne(`Time blocked. Please contact ${T.length} patient(s) to reschedule!`,"error"):Ne("Time blocked successfully!"),W(!1),_e()}catch(T){console.error("Error blocking time:",T),Ne("Failed to block time","error")}},_i=async h=>{try{await Sy(y,h),Ne("Time unblocked successfully!"),_e()}catch(T){console.error("Error unblocking time:",T),Ne("Failed to unblock time","error")}},qi=async h=>{h.preventDefault();try{const T=Object.keys(ge.dayWiseHours).filter(ye=>ge.dayWiseHours[ye].enabled).map(ye=>parseInt(ye)),Q=Object.values(ge.dayWiseHours).filter(ye=>ye.enabled),pe=Q.length>0?{start:Q[0].start,end:Q[0].end}:{start:"09:00",end:"17:00"},ie={...K,slotDuration:ge.slotDuration,workingDays:T,workingHours:pe,dayWiseHours:ge.dayWiseHours};await Qd(y,ie),G(ie),Ne("Availability settings updated successfully!"),je(!1),_e()}catch(T){console.error("Error updating slot config:",T),Ne("Failed to update availability settings","error")}},Ki=async h=>{h.preventDefault();try{const T=re.filter(pe=>pe.date===sn.date&&pe.status!=="cancelled"&&pe.status!=="completed");if(T.length>0){const pe=T.map(ye=>ye.patientName||ye.userName).join(", "),ie=` WARNING: You have ${T.length} appointment(s) scheduled on ${sn.date}.

Patients: ${pe}

You should cancel or reschedule these appointments before marking this date as leave. Do you still want to mark this date as absent?`;if(!window.confirm(ie))return}const Q={...K,unavailableDates:[...K.unavailableDates||[],{date:sn.date,reason:sn.reason,id:Date.now().toString()}]};await Qd(y,Q),G(Q),T.length>0?Ne(`Date marked as absent. Please contact ${T.length} patient(s) to reschedule!`,"error"):Ne("Date marked as absent successfully!"),Mn(!1),Gn({date:new Date().toISOString().split("T")[0],reason:""}),_e()}catch(T){console.error("Error marking absent:",T),Ne("Failed to mark date as absent","error")}},Ni=async h=>{try{const T={...K,unavailableDates:(K.unavailableDates||[]).filter(Q=>Q.id!==h)};await Qd(y,T),G(T),Ne("Absent date removed successfully!"),_e()}catch(T){console.error("Error removing absent date:",T),Ne("Failed to remove absent date","error")}},on=h=>{Te(T=>({...T,dayWiseHours:{...T.dayWiseHours,[h]:{...T.dayWiseHours[h],enabled:!T.dayWiseHours[h].enabled}}}))},_a=(h,T,Q)=>{Te(pe=>({...pe,dayWiseHours:{...pe.dayWiseHours,[h]:{...pe.dayWiseHours[h],[T]:Q}}}))},ga=h=>{Ze(h),ln({diagnosis:"",medications:[{name:"",dosage:"",frequency:"",duration:""}],instructions:"",followUpDate:"",tests:""}),We(!0)},Mi=()=>{ln(h=>({...h,medications:[...h.medications,{name:"",dosage:"",frequency:"",duration:""}]}))},Gi=h=>{ln(T=>({...T,medications:T.medications.filter((Q,pe)=>pe!==h)}))},ee=(h,T,Q)=>{ln(pe=>({...pe,medications:pe.medications.map((ie,ye)=>ye===h?{...ie,[T]:Q}:ie)}))},v=async h=>{h.preventDefault();try{const T={appointmentId:be.id,patientId:be.patientId||"",patientName:be.patientName,patientPhone:be.patientPhone,doctorId:y,doctorName:w.displayName,hospitalId:w.hospitalId||"",diagnosis:Tt.diagnosis,medications:Tt.medications.filter(ie=>ie.name),tests:Tt.tests,instructions:Tt.instructions,followUpDate:Tt.followUpDate,prescribedDate:new Date().toISOString(),prescribedBy:y},Q=await fa(Se(Y,"prescriptions"),T),pe=Be(Y,"appointments",be.id);await Ft(pe,{status:"completed",prescriptionId:Q.id,completedAt:new Date().toISOString()}),Ne("Prescription saved successfully!"),We(!1),_e()}catch(T){console.error("Error saving prescription:",T),Ne("Failed to save prescription","error")}},ae=async()=>{if(!me.trim()){Mt([]);return}Vn(!0);try{console.log("Searching for patients:",me);const h=await ax(me);console.log("Search results:",h);const T=h.map(Q=>({id:Q.id,patientId:Q.id,phone:Q.phone,name:Q.name,dob:Q.dob,age:Q.age,gender:Q.gender}));Mt(T),T.length===0&&Ne("No patients found","error")}catch(h){console.error("Error searching patients:",h),Ne("Failed to search patients","error")}finally{Vn(!1)}},Pe=h=>{const T=re.find(Q=>Q.patientName===h.patient&&(Q.time===h.time||Q.appointmentTime===h.time)&&(Q.date===Et.date||Q.appointmentDate===Et.date)||Q.id===h.appointmentId);T?(Ze(T),k(!0)):(Ze({id:h.appointmentId,patientName:h.patient,patientPhone:h.phone,patientId:h.patientId,date:Et.date,time:h.time,status:h.status||"confirmed"}),k(!0))},Ot=()=>{be&&be.patientId&&(fe(be.patientId),gn(!0),k(!1))},Zt=()=>{be&&(k(!1),ga(be))},qt=async h=>{try{const T=Ct(K,h),Q=Se(Y,"appointments"),pe=Ae(Q,de("doctorId","==",y),de("date","==",h)),ye=(await He(pe)).docs.map(Ue=>{const qe=Ue.data();return{time:qe.time||qe.appointmentTime,patient:qe.patientName,phone:qe.patientPhone,patientId:qe.patientId,appointmentId:Ue.id,status:qe.status}});Cn({date:h,slots:T,bookedSlots:ye}),kt(!0)}catch(T){console.error("Error viewing slots:",T),Ne("Failed to load slots","error")}},Ct=(h,T)=>{if(!h||!T)return[];const{workingHours:Q,slotDuration:pe,workingDays:ie,unavailableDates:ye,blockedTimeSlots:Ue}=h;if(ye&&ye.some(kn=>kn.date===T))return[];const qe=new Date(T).getDay(),rt=qe===0?7:qe;if(!ie||!ie.includes(rt))return[];const et=[],[Me,tt]=(Q?.start||"09:00").split(":").map(Number),[ot,un]=(Q?.end||"17:00").split(":").map(Number);let Jt=Me*60+tt;const Dn=ot*60+un,Rn=pe||30;for(;Jt<Dn;){const kn=Math.floor(Jt/60),Yn=Jt%60,Fn=`${String(kn).padStart(2,"0")}:${String(Yn).padStart(2,"0")}`;Ue&&Ue.some(En=>En.date===T&&(En.time===Fn||En.startTime&&En.endTime&&Fn>=En.startTime&&Fn<En.endTime))||et.push(Fn),Jt+=Rn}return et},F={container:{maxWidth:"1200px",margin:"0 auto",padding:"1rem",fontFamily:"var(--font-sans)",color:"var(--text-main)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem",background:"var(--bg-card)",padding:"1.5rem",borderRadius:"16px",boxShadow:"var(--shadow-md)",border:"1px solid var(--border-subtle)"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},statCard:{background:"var(--bg-card)",borderRadius:"16px",padding:"1.5rem",boxShadow:"var(--shadow-sm)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"120px",border:"1px solid var(--border-subtle)",cursor:"default"},tabContainer:{display:"flex",gap:"0.5rem",marginBottom:"2rem",overflowX:"auto",paddingBottom:"0.5rem",msOverflowStyle:"none",scrollbarWidth:"none",borderBottom:"1px solid var(--border-subtle)",padding:"0.5rem 0"},tab:{padding:"0.75rem 1.25rem",borderRadius:"8px",border:"1px solid transparent",background:"transparent",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.2s ease",whiteSpace:"nowrap"},activeTab:{background:"var(--primary-light)",color:"white",boxShadow:"var(--shadow-sm)",fontWeight:"600"},card:{background:"var(--bg-card)",borderRadius:"16px",padding:"2rem",boxShadow:"var(--shadow-md)",marginBottom:"1.5rem",width:"100%",boxSizing:"border-box",border:"1px solid var(--border-subtle)"},appointmentCard:{background:"white",borderRadius:"12px",padding:"1rem",boxShadow:"var(--shadow-sm)",border:"1px solid #e6e9ef"},button:{padding:"0.6rem 1.2rem",borderRadius:"8px",border:"none",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},primaryButton:{background:"var(--primary)",color:"white",boxShadow:"var(--shadow-sm)"},dangerButton:{background:"#fee2e2",color:"#ef4444",border:"1px solid #fecaca"},secondaryButton:{background:"white",color:"var(--text-main)",border:"1px solid var(--border-subtle)"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem",backdropFilter:"blur(4px)"},modalContent:{background:"var(--bg-card)",borderRadius:"20px",padding:"2rem",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"var(--shadow-xl)",border:"1px solid var(--border-subtle)",animation:"slideUp 0.3s ease-out"},input:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-subtle)",fontSize:"1rem",marginBottom:"1rem",transition:"all 0.2s ease",background:"var(--bg-main)",color:"var(--text-main)"},notification:{position:"fixed",top:"2rem",right:"2rem",padding:"1rem 1.5rem",borderRadius:"12px",boxShadow:"var(--shadow-lg)",zIndex:2e3,fontWeight:"500",animation:"slideIn 0.3s ease",color:"white",display:"flex",alignItems:"center",gap:"0.75rem"}};return le||!y||!w?t.jsx("div",{style:F.container,children:t.jsxs("div",{style:{textAlign:"center",color:"white",fontSize:"1.5rem",paddingTop:"3rem"},children:[t.jsx("div",{style:{border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid white",borderRadius:"50%",width:"60px",height:"60px",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),"Loading Dashboard..."]})}):t.jsxs("div",{style:F.container,children:[xn&&t.jsx("div",{style:{...F.notification,background:xn.type==="error"?"linear-gradient(135deg, #eb3349 0%, #f45c43 100%)":"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white"},children:xn.message}),!c&&t.jsxs("div",{style:F.header,children:[t.jsxs("h1",{style:{margin:0,fontSize:"2rem",color:"#333",marginBottom:"0.5rem"},children:[" Dr. ",w?.displayName||"Doctor Dashboard"]}),t.jsxs("p",{style:{margin:0,color:"#666"},children:[w?.specialization||"Medical Professional"," "]})]}),t.jsxs("div",{style:F.statsGrid,children:[t.jsxs("div",{style:F.statCard,children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:t.jsx(nn,{size:28})}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:se.todayAppointments||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Today's Appointments"})]}),t.jsxs("div",{style:{...F.statCard,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:se.completedAppointments||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Completed"})]}),t.jsxs("div",{style:{...F.statCard,background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:se.patientCount||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Patients"})]})]}),t.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:t.jsx("button",{style:{...F.button,background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",color:"white"},onClick:()=>wt(!0),children:" Update Profile"})}),t.jsx("div",{style:F.tabContainer,children:U?t.jsx("select",{value:j,onChange:h=>C(h.target.value),style:{padding:"0.5rem",borderRadius:"8px",fontSize:"1rem"},"aria-label":"Select dashboard tab",children:["overview","appointments","availability","patients","usage","billing"].filter(h=>!((h==="usage"||h==="billing")&&u)).map(h=>t.jsx("option",{value:h,children:h==="availability"?"Manage Availability":h.charAt(0).toUpperCase()+h.slice(1)},h))}):["overview","appointments","availability","patients","usage","billing"].filter(h=>!((h==="usage"||h==="billing")&&u)).map(h=>t.jsx("button",{style:{...F.tab,...j===h?F.activeTab:{}},onClick:()=>C(h),children:h==="availability"?"Manage Availability":h.charAt(0).toUpperCase()+h.slice(1)},h))}),j==="appointments"&&t.jsxs("div",{style:F.card,children:[t.jsxs("h2",{style:{marginTop:0,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx(nn,{size:22}),"Your Appointments"]}),re.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{children:"No appointments scheduled yet."})]}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:re.map(h=>t.jsx("div",{style:{...F.appointmentCard,borderLeft:`4px solid ${h.status==="completed"?"#38ef7d":h.status==="confirmed"?"#11998e":"#ffa502"}`},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"1rem",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[t.jsxs("strong",{style:{fontSize:"1.1rem",color:"#333"},children:[" ",h.patientName]}),t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",background:h.status==="completed"?"#38ef7d":h.status==="confirmed"?"#11998e":"#ffa502",color:"white",fontSize:"0.75rem",fontWeight:"600"},children:h.status||"pending"})]}),t.jsxs("div",{style:{color:"#666",fontSize:"0.95rem",lineHeight:"1.6"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:14})})," ",t.jsx("strong",{children:"Date:"})," ",h.date||h.appointmentDate]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Time:"})," ",h.time||h.appointmentTime]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Phone:"})," ",h.patientPhone]}),h.reason&&t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Reason:"})," ",h.reason]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.status!=="completed"&&t.jsx("button",{onClick:()=>ga(h),style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",whiteSpace:"nowrap"},children:" Add Prescription"}),t.jsx("button",{onClick:()=>{console.log("=== View Record Clicked ==="),console.log("Full appointment data:",h),console.log("Available fields:",Object.keys(h));const T=h.patientId||h.userId||h.patientUid||h.patient_id||h.user_id||h.patientPhone||h.userPhone||h.patientEmail||h.email||h.patientName;if(console.log("Extracted Patient ID:",T),console.log("Doctor ID:",y),console.log("Doctor Name:",w?.displayName||w?.name),!T){const Q=`Patient ID not found in appointment data.

Available fields: ${Object.keys(h).join(", ")}

Please check the console for full appointment data.`;alert(Q),console.error("Cannot find patient ID. Appointment structure:",h);return}console.log(" Opening modal with patient ID:",T),fe(T),Ge(!0)},style:{padding:"0.6rem 1.2rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",whiteSpace:"nowrap"},children:" View Patient Records"})]})]})},h.id))})]}),j==="availability"&&t.jsxs("div",{style:F.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Manage Availability"}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>{Te({slotDuration:K.slotDuration||30,dayWiseHours:{1:{enabled:K.workingDays?.includes(1),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"},2:{enabled:K.workingDays?.includes(2),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"},3:{enabled:K.workingDays?.includes(3),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"},4:{enabled:K.workingDays?.includes(4),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"},5:{enabled:K.workingDays?.includes(5),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"},6:{enabled:K.workingDays?.includes(6),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"},7:{enabled:K.workingDays?.includes(7),start:K.workingHours?.start||"09:00",end:K.workingHours?.end||"17:00"}}}),je(!0)},style:{...F.button,...F.primaryButton},children:" Configure Slots & Hours"}),t.jsx("button",{style:{...F.button,...F.secondaryButton},onClick:()=>W(!0),children:" Block Time"}),t.jsx("button",{style:{...F.button,background:"linear-gradient(135deg, #eb3349 0%, #f45c43 100%)",color:"white"},onClick:()=>Mn(!0),children:" Mark Leave/Absent"})]})]}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px"},children:[t.jsxs("h3",{style:{color:"#333",marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx(nn,{size:16}),"View Slots for a Date"]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[t.jsx("input",{type:"date",value:Dt,onChange:h=>an(h.target.value),style:{...F.input,marginBottom:0,flex:"1",minWidth:"0"}}),t.jsx("button",{onClick:()=>qt(Dt),style:{...F.button,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:" View Slots"})]})]}),Et&&t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h3",{style:{color:"#333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("span",{children:[" Slots for ",Et.date]}),t.jsx("button",{onClick:()=>Cn(null),style:{padding:"0.5rem 1rem",background:"#e0e0e0",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"Close"})]}),Et.slots.length===0?t.jsx("div",{style:{padding:"2rem",background:K.unavailableDates?.some(h=>h.date===Et.date)?"#fff3cd":"#fee",borderRadius:"10px",textAlign:"center",color:K.unavailableDates?.some(h=>h.date===Et.date)?"#856404":"#c33",border:K.unavailableDates?.some(h=>h.date===Et.date)?"2px solid #ffc107":"2px solid #f5c6cb"},children:K.unavailableDates?.some(h=>h.date===Et.date)?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),t.jsx("strong",{children:"Doctor is on Leave"}),t.jsx("div",{style:{marginTop:"0.5rem"},children:K.unavailableDates.find(h=>h.date===Et.date)?.reason||"No appointments can be booked on this date"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),t.jsx("strong",{children:"No Working Slots Available"}),t.jsx("div",{style:{marginTop:"0.5rem"},children:"This is not a working day"})]})}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"1rem"},children:Et.slots.map(h=>{const T=Et.bookedSlots.find(Q=>Q.time===h);return t.jsxs("div",{style:{padding:"1rem",borderRadius:"10px",border:T?"2px solid #38ef7d":"2px solid #e0e0e0",background:T?"linear-gradient(135deg, rgba(17, 153, 142, 0.1) 0%, rgba(56, 239, 125, 0.1) 100%)":"white",textAlign:"center",cursor:T?"pointer":"default",transition:"all 0.3s ease",position:"relative"},onClick:()=>T&&Pe(T),onMouseEnter:Q=>{T&&(Q.currentTarget.style.transform="translateY(-4px)",Q.currentTarget.style.boxShadow="0 4px 12px rgba(17, 153, 142, 0.3)")},onMouseLeave:Q=>{T&&(Q.currentTarget.style.transform="translateY(0)",Q.currentTarget.style.boxShadow="none")},children:[t.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"600",color:T?"#11998e":"#333",marginBottom:"0.5rem"},children:[" ",h]}),T?t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",background:"#38ef7d",color:"white",borderRadius:"5px",marginBottom:"0.5rem",fontWeight:"600"},children:"BOOKED"}),t.jsxs("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"0.5rem"},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#333"},children:[" ",T.patient]}),t.jsxs("div",{style:{fontSize:"0.8rem"},children:[" ",T.phone]})]}),t.jsx("div",{style:{fontSize:"0.7rem",color:"#11998e",fontWeight:"600",marginTop:"0.5rem",padding:"0.3rem",background:"rgba(17, 153, 142, 0.1)",borderRadius:"4px"},children:"Click for records"})]}):t.jsx("div",{style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",background:"#e0e0e0",color:"#666",borderRadius:"5px",fontWeight:"600"},children:"AVAILABLE"})]},h)})})]}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsx("h3",{style:{color:"#333"},children:" Current Configuration"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginTop:"1rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"0.5rem"},children:"Slot Duration"}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"700"},children:[K.slotDuration||30," min"]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",borderRadius:"12px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"0.5rem"},children:"Working Hours"}),t.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:"700"},children:[K.workingHours?.start||"09:00"," - ",K.workingHours?.end||"17:00"]})]})]})]}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h3",{style:{color:"#333"},children:[t.jsx(nn,{size:16})," Working Days"]}),t.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginTop:"1rem"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((h,T)=>t.jsx("div",{style:{padding:"0.75rem 1.5rem",borderRadius:"10px",background:K.workingDays?.includes(T+1)?"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)":"#e0e0e0",color:K.workingDays?.includes(T+1)?"white":"#666",fontWeight:"600",fontSize:"1rem"},children:h},h))})]}),K.blockedTimeSlots&&K.blockedTimeSlots.length>0&&t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsx("h3",{children:"Blocked Time Slots"}),K.blockedTimeSlots.map(h=>t.jsxs("div",{style:{padding:"1rem",background:"#fff3cd",borderRadius:"10px",marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:h.date})," | ",h.startTime," - ",h.endTime,t.jsx("br",{}),t.jsx("small",{children:h.reason})]}),t.jsx("button",{style:{...F.button,...F.dangerButton},onClick:()=>_i(h.id),children:"Unblock"})]},h.id))]}),K.unavailableDates&&K.unavailableDates.length>0&&t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsx("h3",{children:"Absent Dates"}),K.unavailableDates.map(h=>t.jsxs("div",{style:{padding:"1rem",background:"#ffe5e5",borderRadius:"10px",marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid #ffcccc"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:h.date}),h.reason&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("small",{children:h.reason})]})]}),t.jsx("button",{style:{...F.button,...F.dangerButton},onClick:()=>Ni(h.id),children:"Remove"})]},h.id))]})]}),j==="patients"&&t.jsxs("div",{style:F.card,children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" My Patients"}),t.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Search and manage your patient records and prescriptions"}),t.jsx("div",{style:{marginBottom:"2rem"},children:t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("input",{type:"text",placeholder:"Search by name, phone, or patient ID...",value:me,onChange:h=>yn(h.target.value),onKeyPress:h=>h.key==="Enter"&&ae(),style:{...F.input,flex:1}}),t.jsx("button",{onClick:ae,disabled:Qt,style:{...F.button,minWidth:"0",background:Qt?"#ccc":"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"},children:Qt?" Searching...":" Search"})]})}),ki.length>0&&t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h3",{style:{color:"#333",marginBottom:"1rem"},children:["Search Results (",ki.length,")"]}),t.jsx("div",{style:{display:"grid",gap:"1rem"},children:ki.map(h=>t.jsx("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderRadius:"12px",border:"2px solid #667eea"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"1rem",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#333",marginBottom:"0.5rem"},children:[" ",h.name]}),t.jsxs("div",{style:{color:"#666",fontSize:"0.95rem"},children:[" ",h.phone,h.email&&t.jsxs(t.Fragment,{children:[" |  ",h.email]})]})]}),t.jsx("button",{onClick:()=>{if(console.log("=== View Records from Search ==="),console.log("Patient:",h),console.log("Patient ID:",h.id),!h.id){alert("Patient ID not found");return}fe(h.id),Ge(!0),console.log("Modal state updated")},style:F.button,children:" View Records"})]})},h.id))}),t.jsx("button",{onClick:()=>Mt([]),style:{...F.button,marginTop:"1rem",background:"#e0e0e0",color:"#333"},children:"Clear Search Results"})]}),t.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:"All My Patients"}),(()=>{console.log("Patients Tab - Total appointments:",re.length),console.log("Patients Tab - Appointments data:",re);const h={};re.forEach(ie=>{const ye=ie.patientId||ie.userId||ie.patientUid,Ue=ie.patientPhone||ie.userPhone,qe=ye||Ue,rt=ie.patientName||ie.userName||"Unknown Patient";if(console.log("Processing appointment:",{id:ie.id,actualUserId:ye,patientKey:qe,patientName:rt,patientPhone:Ue}),qe&&!h[qe]&&(h[qe]={id:qe,userId:ye,name:rt,phone:Ue||"N/A",appointments:[],lastVisit:ie.date,completedVisits:0,upcomingVisits:0}),qe){h[qe].appointments.push(ie),ie.status==="completed"&&h[qe].completedVisits++;const et=new Date().toISOString().split("T")[0];ie.date>=et&&ie.status!=="completed"&&ie.status!=="cancelled"&&h[qe].upcomingVisits++,ie.date>h[qe].lastVisit&&(h[qe].lastVisit=ie.date)}});const T=Object.values(h);console.log("Patients Tab - Unique patients found:",T.length),console.log("Patients Tab - Patients list:",T);const pe=T.sort((ie,ye)=>new Date(ye.lastVisit)-new Date(ie.lastVisit)).slice(0,5);return t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#11998e"},children:["Total: ",T.length," ",T.length===1?"Patient":"Patients"]}),t.jsxs("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"0.25rem"},children:["Showing ",Math.min(5,T.length)," most recent ",T.length>5?"(use search to find others)":""]})]}),pe.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),re.length>0?t.jsxs(t.Fragment,{children:[t.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"0.5rem",color:"#e74c3c"},children:t.jsxs("strong",{children:["Found ",re.length," appointments but no patient data!"]})}),t.jsx("p",{style:{fontSize:"0.9rem",marginBottom:"1rem"},children:"This means appointments don't have patient information (patientId, patientName, patientPhone)."}),t.jsx("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"8px",textAlign:"left",maxWidth:"600px",margin:"0 auto"},children:t.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#856404"},children:[t.jsx("strong",{children:"Check browser console for details:"}),t.jsx("br",{}),"- Open Developer Tools (F12)",t.jsx("br",{}),'- Look for "Patients Tab" logs',t.jsx("br",{}),"- Check what fields are in your appointments"]})})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"0.5rem"},children:"No patients yet"}),t.jsx("p",{style:{fontSize:"0.9rem"},children:"Patients will appear here after they book appointments with you"})]})]}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:pe.map(ie=>t.jsx("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderRadius:"12px",border:"2px solid #e0e0e0"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"1rem",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:t.jsxs("strong",{style:{fontSize:"1.2rem",color:"#333"},children:[" ",ie.name]})}),t.jsxs("div",{style:{color:"#666",fontSize:"0.95rem",lineHeight:"1.8"},children:[t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Phone:"})," ",ie.phone]}),t.jsxs("div",{children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:14})})," ",t.jsx("strong",{children:"Last Visit:"})," ",ie.lastVisit]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Completed Visits:"})," ",ie.completedVisits]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Upcoming Visits:"})," ",ie.upcomingVisits]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Total Appointments:"})," ",ie.appointments.length]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[t.jsx("button",{onClick:()=>{if(console.log("=== View Records from Patient List ==="),console.log("Patient:",ie),console.log("Patient ID:",ie.id),!ie.id){alert("Patient ID not found");return}fe(ie.id),Ge(!0),console.log("Modal state updated")},style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",whiteSpace:"nowrap"},children:" View Records"}),ie.upcomingVisits>0&&ie.appointments.filter(ye=>ye.date>=new Date().toISOString().split("T")[0]&&ye.status!=="completed").slice(0,1).map(ye=>t.jsx("button",{onClick:()=>ga(ye),style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",whiteSpace:"nowrap"},children:" Add Prescription"},ye.id))]})]})},ie.id))})]})})()]}),j==="payments"&&t.jsxs("div",{style:F.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"2rem"},children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Payments & Earnings"}),t.jsx("button",{onClick:Wn,style:{...F.button,...F.primaryButton,fontSize:"1rem",padding:"0.75rem 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Make Payment"})]}),B?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"2rem",padding:"15px",background:"#f0f7ff",borderRadius:"10px",border:"2px solid #2196f3"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[t.jsx("div",{children:t.jsx("strong",{style:{color:"#1976d2",fontSize:"16px"},children:"Your Pricing Model:"})}),t.jsxs("div",{style:{padding:"8px 20px",borderRadius:"20px",fontSize:"15px",fontWeight:"600",background:B.pricingModel==="free"?"#e8f5e9":B.pricingModel==="reduced"?"#fff3e0":"#e3f2fd",color:B.pricingModel==="free"?"#2e7d32":B.pricingModel==="reduced"?"#e65100":"#1976d2"},children:[B.pricingModel==="free"&&" Free + Ads",B.pricingModel==="reduced"&&` Reduced Rate (${B.discountPercentage}% off)`,B.pricingModel==="full"&&" Full Rate"]})]}),t.jsxs("div",{style:{marginTop:"10px",fontSize:"13px",color:"#555"},children:[B.pricingModel==="free"&&"You use the app completely FREE! Ad revenue funds your access.",B.pricingModel==="reduced"&&`You get ${B.discountPercentage}% discount on all fees. Ads help reduce your costs.`,B.pricingModel==="full"&&"Premium tier with no ads. You pay standard app usage fees."]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",color:"white"},children:[t.jsxs("div",{style:{fontSize:"0.9rem",opacity:.9},children:["Cost (",ue?"This Month":"Total",")"]}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginTop:"0.5rem"},children:[B.symbol,B.displayCost?.toFixed(2)||"0.00"]}),ue&&t.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:[B.monthlyAppointments||0," appts (this month)"]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f5576c 0%, #f093fb 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Pending Payment"}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginTop:"0.5rem"},children:[B.symbol,(Ve.pendingAmount||B.pending||0).toFixed(2)]}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:"Amount due"}),t.jsx("div",{style:{marginTop:"1rem"},children:t.jsx("button",{onClick:Wn,style:{...F.button,...F.primaryButton},children:"Pay Now"})})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #38ef7d 0%, #11998e 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Already Paid"}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginTop:"0.5rem"},children:[B.symbol,B.paid.toFixed(2)]})]})]}),t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" Cost Breakdown (App Usage)"}),t.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"white",borderRadius:"8px"},children:[t.jsxs("span",{children:["Appointments (",B.appointments,")"]}),t.jsxs("span",{style:{fontWeight:"600"},children:[B.symbol,B.appointmentCost.toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"white",borderRadius:"8px"},children:[t.jsxs("span",{children:["Prescriptions (",B.prescriptions,")"]}),t.jsxs("span",{style:{fontWeight:"600"},children:[B.symbol,B.prescriptionCost.toFixed(2)]})]})]}),t.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px solid #ddd"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#666",marginBottom:"0.5rem"},children:[t.jsx("span",{children:"Rate per Appointment:"}),t.jsxs("span",{children:[B.symbol,B.rates.appointmentCost]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#666"},children:[t.jsx("span",{children:"Rate per Prescription:"}),t.jsxs("span",{children:[B.symbol,B.rates.prescriptionCost]})]})]})]}),t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" How to Pay for App Usage"}),B.countryInstructions?.[B.country]&&t.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",color:"#1976d2"},children:[t.jsxs("strong",{children:[" For ",B.country," users:"]})," ",B.countryInstructions[B.country]]}),B.paymentDetails?.wise?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"3px solid #00d09c"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#00d09c",fontSize:"1.2rem"},children:"Wise Transfer (Recommended - Lowest Fees)"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:B.paymentDetails.wise.instructions}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Wise Email:"})," ",t.jsx("span",{style:{color:"#00d09c",fontFamily:"monospace",fontSize:"1.1rem"},children:B.paymentDetails.wise.email})]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Account Name:"})," ",B.paymentDetails.wise.accountName]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"IBAN:"})," ",t.jsx("span",{style:{fontFamily:"monospace"},children:B.paymentDetails.wise.iban})]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Sort Code:"})," ",B.paymentDetails.wise.sortCode]}),t.jsxs("div",{children:[t.jsx("strong",{children:"SWIFT:"})," ",B.paymentDetails.wise.swift]})]})]}),B.country==="India"&&B.paymentDetails?.upi?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"3px solid #667eea"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#667eea",fontSize:"1.2rem"},children:"UPI Payment"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:B.paymentDetails.upi.instructions}),t.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"UPI ID:"})," ",t.jsx("span",{style:{color:"#667eea",fontFamily:"monospace",fontSize:"1.2rem"},children:B.paymentDetails.upi.upiId})]})})]}),B.paymentDetails?.paypal?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"2px solid #0070ba"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#0070ba",fontSize:"1.2rem"},children:"PayPal"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:B.paymentDetails.paypal.instructions}),t.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:t.jsxs("div",{children:[t.jsx("strong",{children:"PayPal Email:"})," ",t.jsx("span",{style:{color:"#0070ba",fontFamily:"monospace",fontSize:"1.1rem"},children:B.paymentDetails.paypal.email})]})})]}),B.paymentDetails?.bankTransfer?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"2px solid #607d8b"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#607d8b",fontSize:"1.2rem"},children:"Bank Transfer"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:B.paymentDetails.bankTransfer.instructions}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Account Name:"})," ",B.paymentDetails.bankTransfer.accountName]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Bank:"})," ",B.paymentDetails.bankTransfer.bankName]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Account Number:"})," ",t.jsx("span",{style:{fontFamily:"monospace"},children:B.paymentDetails.bankTransfer.accountNumber})]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Sort Code:"})," ",B.paymentDetails.bankTransfer.sortCode]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"IBAN:"})," ",t.jsx("span",{style:{fontFamily:"monospace"},children:B.paymentDetails.bankTransfer.iban})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"SWIFT:"})," ",B.paymentDetails.bankTransfer.swift]})]})]}),!B.paymentDetails?.wise?.enabled&&!B.paymentDetails?.upi?.enabled&&!B.paymentDetails?.paypal?.enabled&&!B.paymentDetails?.bankTransfer?.enabled&&t.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"white",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("h3",{style:{color:"#ff9800"},children:"Payment Details Not Configured"}),t.jsx("p",{style:{color:"#666"},children:"Please contact admin to set up payment methods."})]})]}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#fff3e0",borderRadius:"8px",border:"2px solid #ff9800"},children:[t.jsx("strong",{style:{color:"#e65100"},children:" IMPORTANT:"}),t.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#e65100"},children:["Always include your Doctor ID (",t.jsx("strong",{children:f?.uid}),") as reference/note in your payment!"]})]}),t.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:"1.5rem"},children:t.jsx("div",{style:{width:"220px",height:"220px",margin:"0 auto",overflow:"hidden",borderRadius:"8px"},children:t.jsx("img",{src:Re||di,alt:"billing-qr",style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",display:"block"},onClick:()=>ne(!0)})})}),q&&t.jsx("div",{onClick:()=>ne(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:t.jsx("img",{src:Re||di,alt:"billing-qr-large",style:{maxWidth:"90%",maxHeight:"90%",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",background:"white",padding:"12px",borderRadius:"8px"}})}),B.lastPaymentDate&&t.jsxs("div",{style:{background:"#e8f5e9",borderRadius:"10px",padding:"1.5rem",border:"2px solid #4caf50"},children:[t.jsx("h3",{style:{marginTop:0,color:"#2e7d32"},children:" Last Payment Made"}),t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"600",fontSize:"1.1rem"},children:[B.symbol,B.lastPaymentAmount?.toFixed(2)||"0.00"]}),t.jsx("div",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.25rem"},children:new Date(B.lastPaymentDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})})]}),t.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#fff3e0",borderRadius:"8px",border:"2px solid #ff9800"},children:t.jsxs("p",{style:{margin:0,color:"#e65100"},children:[t.jsx("strong",{children:" Need help with payments?"})," Contact the admin for payment processing and bank detail updates."]})})]}):t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"Loading payment data..."})]})]}),j==="usage"&&t.jsxs("div",{style:F.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Usage Statistics"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#666"},children:"View Month:"}),t.jsxs("select",{value:ue||"all",onChange:h=>I(h.target.value==="all"?"":h.target.value),style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"2px solid #667eea",fontSize:"1rem",fontWeight:"600",color:"#667eea",cursor:"pointer",background:"white"},children:[t.jsx("option",{value:"all",children:" All Time"}),B?.appointmentsByMonth&&Object.keys(B.appointmentsByMonth).sort().reverse().map(h=>t.jsx("option",{value:h,children:new Date(h+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})},h))]})]})]}),le?t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"Loading usage data..."})]}):B?t.jsxs(t.Fragment,{children:[ue&&ue!=="all"&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",borderLeft:"4px solid #2196f3"},children:[t.jsxs("strong",{style:{color:"#1976d2"},children:[t.jsx(nn,{size:16})," Viewing: "]}),t.jsx("span",{style:{color:"#1976d2"},children:new Date(ue+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})}),t.jsx("span",{style:{marginLeft:"1rem",fontSize:"0.9rem",color:"#666"},children:"(Monthly view - showing only this month's usage)"})]}),t.jsx("div",{style:{marginBottom:"2rem",padding:"15px",background:"#f0f7ff",borderRadius:"10px",border:"2px solid #2196f3"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[t.jsx("div",{children:t.jsx("strong",{style:{color:"#1976d2",fontSize:"16px"},children:"Your Pricing Model:"})}),t.jsxs("div",{style:{padding:"8px 20px",borderRadius:"25px",background:B.pricingModel==="free"?"#4caf50":B.pricingModel==="reduced"?"#ff9800":"#2196f3",color:"white",fontWeight:"600",fontSize:"14px"},children:[B.pricingModel==="free"&&" FREE PLAN",B.pricingModel==="reduced"&&` DISCOUNTED (${B.discountPercentage}% OFF)`,B.pricingModel==="full"&&" STANDARD PLAN"]})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"#e8f5e9",borderRadius:"10px",border:"2px solid #4caf50"},children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:t.jsx(nn,{size:36})}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:[ue&&ue!=="all"?"Month":"Total"," Appointments"]}),t.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#2e7d32"},children:ue&&ue!=="all"?B.appointmentsByMonth?.[ue]||0:B.totalAppointments||0})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#e3f2fd",borderRadius:"10px",border:"2px solid #2196f3"},children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:[ue&&ue!=="all"?"Month":"Total"," Prescriptions"]}),t.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1565c0"},children:ue&&ue!=="all"?B.prescriptionsByMonth?.[ue]||0:B.totalPrescriptions||0})]})]}),B.appointmentsByMonth&&Object.keys(B.appointmentsByMonth).length>0&&t.jsxs("div",{style:{marginTop:"2rem"},children:[t.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Monthly Breakdown"}),t.jsx("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem"},children:Object.entries(B.appointmentsByMonth).sort(([h],[T])=>T.localeCompare(h)).map(([h,T])=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",borderBottom:"1px solid #e0e0e0"},children:[t.jsx("span",{style:{fontWeight:"500"},children:new Date(h+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})}),t.jsxs("span",{style:{color:"#667eea",fontWeight:"600"},children:[T," appointments, ",B.prescriptionsByMonth?.[h]||0," prescriptions"]})]},h))})]}),t.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#fff3e0",borderRadius:"8px",border:"2px solid #ff9800"},children:t.jsxs("p",{style:{margin:0,color:"#e65100"},children:[t.jsx("strong",{children:" Note:"})," This is a read-only view of your cumulative usage statistics. For billing and payments, please check the Billing tab."]})})]}):t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"No usage data available yet."})]})]}),j==="billing"&&t.jsxs("div",{style:F.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"2rem"},children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Billing & Payments"}),t.jsx("button",{onClick:Wn,style:{...F.button,...F.primaryButton,fontSize:"1rem",padding:"0.75rem 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Make Payment"})]}),le?t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"Loading billing data..."})]}):Ve?t.jsxs(t.Fragment,{children:[typeof window<"u"&&window.location.search.includes("debugBilling=1")&&t.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#fffbe6",border:"1px dashed #f59e0b"},children:[t.jsx("strong",{children:"Debug billing state:"}),t.jsx("pre",{style:{maxHeight:"200px",overflow:"auto",fontSize:"12px"},children:JSON.stringify({paymentInfo:B,cumulativeData:Ve},null,2)})]}),(()=>{const h=ue&&ue!=="all";let T=Ve;const Q=Math.max(0,(Ve.totalCost||0)-(Ve.totalPaid||0));if(h){const pe=B?.appointmentsByMonth?.[ue]||0,ie=B?.prescriptionsByMonth?.[ue]||0,ye=pe*(B?.rates?.appointmentCost||0),Ue=ie*(B?.rates?.prescriptionCost||0),qe=ye+Ue,rt=B?.monthlyPaymentHistory?.length?B.monthlyPaymentHistory.filter(tt=>tt.status==="completed"):Ve.paymentHistory?.filter(tt=>tt.createdAt&&tt.createdAt.startsWith(ue)&&tt.status==="completed")||[],et=B?.monthlyPaid!==void 0?B.monthlyPaid:rt.reduce((tt,ot)=>tt+(ot.amount||0),0),Me=Math.max(0,qe-et);T={totalAppointments:pe,totalPrescriptions:ie,appointmentCost:ye,prescriptionCost:Ue,totalCost:qe,totalPaid:et,pendingAmount:Me,paymentHistory:B?.monthlyPaymentHistory?.length?B.monthlyPaymentHistory:rt}}return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:"2rem",padding:"15px",background:"#f0f7ff",borderRadius:"10px",border:"2px solid #2196f3"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[t.jsx("div",{children:t.jsx("strong",{style:{color:"#1976d2",fontSize:"16px"},children:"Your Pricing Model:"})}),t.jsxs("div",{style:{padding:"8px 20px",borderRadius:"25px",background:B?.pricingModel==="free"?"#4caf50":B?.pricingModel==="reduced"?"#ff9800":"#2196f3",color:"white",fontWeight:"600",fontSize:"14px"},children:[B?.pricingModel==="free"&&" FREE PLAN",B?.pricingModel==="reduced"&&` DISCOUNTED (${B.discountPercentage}% OFF)`,B?.pricingModel==="full"&&" STANDARD PLAN"]})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",color:"white",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"0.5rem"},children:" Total Cost"}),t.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[B?.symbol,(Ve.totalCost||0).toFixed?Ve.totalCost.toFixed(2):(Ve.totalCost||0).toFixed(2)]}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:"All time usage charges"})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #38ef7d 0%, #11998e 100%)",borderRadius:"12px",color:"white",boxShadow:"0 4px 12px rgba(56, 239, 125, 0.3)"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"0.5rem"},children:" Paid So Far"}),t.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[B?.symbol,(Ve.totalPaid||0).toFixed?Ve.totalPaid.toFixed(2):(Ve.totalPaid||0).toFixed(2)]}),t.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:[Ve.paymentHistory?.length||0," payment(s) made"]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:(Q||0)>0?"linear-gradient(135deg, #f5576c 0%, #f093fb 100%)":"linear-gradient(135deg, #4caf50 0%, #8bc34a 100%)",borderRadius:"12px",color:"white",boxShadow:(Q||0)>0?"0 4px 12px rgba(245, 87, 108, 0.3)":"0 4px 12px rgba(76, 175, 80, 0.3)"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"0.5rem"},children:(Q||0)>0?" Pending":" All Paid"}),t.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[B?.symbol,(Q||0).toFixed?Q.toFixed(2):(Q||0).toFixed(2)]}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:Q>0?"Amount due":"No pending balance"}),(Q||0)>0&&t.jsx("div",{style:{marginTop:"1rem"},children:t.jsx("button",{onClick:Wn,style:{...F.button,...F.primaryButton},children:"Pay Now"})})]})]}),h&&t.jsxs("div",{style:{marginTop:"1rem",marginBottom:"1.5rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",borderLeft:"4px solid #2196f3"},children:[t.jsxs("strong",{style:{color:"#1976d2"},children:[t.jsx(nn,{size:16})," Viewing: "]}),t.jsx("span",{style:{color:"#1976d2"},children:new Date(ue+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})}),t.jsx("span",{style:{marginLeft:"1rem",fontSize:"0.9rem",color:"#666"},children:"(Monthly view - showing only this month's data)"})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{fontWeight:"600",marginRight:"1rem"},children:"Select Month:"}),t.jsx("input",{type:"month",value:ue,onChange:pe=>I(pe.target.value),style:F.input})]}),t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsxs("h3",{style:{marginTop:0,color:"#333"},children:[" Cost Breakdown ",ue?`(${new Date(ue+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})})`:"(All Time)"]}),t.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"8px"},children:[t.jsxs("span",{children:[t.jsx(nn,{size:14})," Appointments (",T.totalAppointments,"  ",B?.symbol,B?.rates?.appointmentCost||0,")"]}),t.jsxs("strong",{style:{color:"#667eea"},children:[B?.symbol,(T.appointmentCost||0).toFixed?T.appointmentCost.toFixed(2):(T.appointmentCost||0).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"8px"},children:[t.jsxs("span",{children:[" Prescriptions (",T.totalPrescriptions,"  ",B?.symbol,B?.rates?.prescriptionCost||0,")"]}),t.jsxs("strong",{style:{color:"#667eea"},children:[B?.symbol,(T.prescriptionCost||0).toFixed?T.prescriptionCost.toFixed(2):(T.prescriptionCost||0).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"#667eea",borderRadius:"8px",color:"white"},children:[t.jsx("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Total Cost"}),t.jsxs("strong",{style:{fontSize:"1.2rem"},children:[B?.symbol,(T.totalCost||0).toFixed?T.totalCost.toFixed(2):(T.totalCost||0).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"#4caf50",borderRadius:"8px",color:"white"},children:[t.jsx("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Total Paid"}),t.jsxs("strong",{style:{fontSize:"1.2rem"},children:[B?.symbol,(T.totalPaid||0).toFixed?T.totalPaid.toFixed(2):(T.totalPaid||0).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:(T.pendingAmount||0)>0?"#ff5252":"#38ef7d",borderRadius:"8px",color:"white"},children:[t.jsx("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Pending Balance"}),t.jsxs("strong",{style:{fontSize:"1.2rem"},children:[B?.symbol,(T.pendingAmount||0).toFixed?T.pendingAmount.toFixed(2):(T.pendingAmount||0).toFixed(2)]})]})]})]}),ue&&B?.appointmentsByMonth&&B.appointmentsByMonth[ue]!==void 0&&t.jsxs("div",{style:{marginTop:"2rem"},children:[t.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Monthly Breakdown"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"8px",overflow:"hidden"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#667eea",color:"white"},children:[t.jsx("th",{style:{padding:"1rem",textAlign:"left"},children:"Month"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center"},children:"Appointments"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center"},children:"Prescriptions"}),t.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Total Cost"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center"},children:"Status"})]})}),t.jsx("tbody",{children:Object.keys(B.appointmentsByMonth).sort().reverse().map(pe=>{const ie=B.appointmentsByMonth[pe]||0,ye=B.prescriptionsByMonth?.[pe]||0,Ue=ie*(B.rates?.appointmentCost||0)+ye*(B.rates?.prescriptionCost||0),et=(Ve.paymentHistory?.filter(Me=>Me.createdAt&&Me.createdAt.startsWith(pe)&&Me.status==="completed")||[]).reduce((Me,tt)=>Me+(tt.amount||0),0)>=Ue;return t.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[t.jsx("td",{style:{padding:"1rem",fontWeight:"600"},children:new Date(pe+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:ie}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:ye}),t.jsxs("td",{style:{padding:"1rem",textAlign:"right",fontWeight:"600"},children:[B.symbol,Ue.toFixed(2)]}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"600",background:et?"#e8f5e9":"#fff3e0",color:et?"#2e7d32":"#e65100"},children:et?" Paid":" Pending"})})]},pe)})})]})})]}),Ve.paymentHistory&&Ve.paymentHistory.length>0&&t.jsxs("div",{style:{marginTop:"2rem"},children:[t.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Payment History"}),t.jsx("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem"},children:Ve.paymentHistory.map(pe=>t.jsx("div",{style:{padding:"1rem",marginBottom:"1rem",background:"white",borderRadius:"8px",borderLeft:`4px solid ${pe.status==="completed"?"#4caf50":pe.status==="pending"?"#ff9800":"#f44336"}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",flexWrap:"wrap",gap:"1rem"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontWeight:"600",fontSize:"1.1rem",marginBottom:"0.5rem"},children:[pe.currency," ",pe.amount?.toFixed(2)]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[t.jsxs("div",{children:[t.jsx(nn,{size:14})," ",new Date(pe.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),t.jsxs("div",{children:[" ",pe.paymentMethod]}),pe.description&&t.jsxs("div",{children:[" ",pe.description]})]})]}),t.jsx("div",{children:t.jsxs("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",background:pe.status==="completed"?"#4caf50":pe.status==="pending"?"#ff9800":"#f44336",color:"white",fontSize:"0.85rem",fontWeight:"600"},children:[pe.status==="completed"&&" Verified",pe.status==="pending"&&" Pending Verification",pe.status==="failed"&&" Rejected"]})})]})},pe.id))})]}),t.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#fff3e0",borderRadius:"8px",border:"2px solid #ff9800"},children:t.jsxs("p",{style:{margin:0,color:"#e65100"},children:[t.jsx("strong",{children:" Payment Process:"})," Submit your payment details below. Admin will verify and approve your payment. Once verified, your pending balance will be updated."]})})]})})()]}):t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"No billing data available yet."})]})]}),j==="overview"&&t.jsxs("div",{style:F.card,children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Quick Overview"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#11998e"},children:"Today's Schedule"}),t.jsxs("p",{children:["Appointments: ",t.jsx("strong",{children:se.todayAppointments||0})]}),t.jsxs("p",{children:["Status: ",t.jsx("strong",{style:{color:"#38ef7d"},children:"Active"})]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#667eea"},children:"Performance"}),t.jsxs("p",{children:["Total Appointments: ",t.jsx("strong",{children:se.totalAppointments||0})]}),t.jsxs("p",{children:["Completion Rate: ",t.jsxs("strong",{children:[se.totalAppointments?Math.round(se.completedAppointments/se.totalAppointments*100):0,"%"]})]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#f5576c"},children:"Patient Care"}),t.jsxs("p",{children:["Total Patients: ",t.jsx("strong",{children:se.patientCount||0})]}),t.jsxs("p",{children:["Rating: ",t.jsx("strong",{children:" 5.0"})]})]})]})]}),ct&&t.jsx("div",{style:F.modal,onClick:()=>wt(!1),children:t.jsxs("div",{style:F.modalContent,onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Update Profile"}),t.jsxs("form",{onSubmit:Kn,children:[t.jsx("input",{type:"text",placeholder:"Full Name",value:Ht.displayName,onChange:h=>rn({...Ht,displayName:h.target.value}),style:F.input,required:!0}),t.jsx("input",{type:"text",placeholder:"Specialization",value:Ht.specialization,onChange:h=>rn({...Ht,specialization:h.target.value}),style:F.input,required:!0}),t.jsx("input",{type:"number",placeholder:"Consultation Fee",value:Ht.consultationFee,onChange:h=>rn({...Ht,consultationFee:h.target.value}),style:F.input,required:!0}),t.jsx("input",{type:"tel",placeholder:"Phone Number",value:Ht.phone,onChange:h=>rn({...Ht,phone:h.target.value}),style:F.input,required:!0}),t.jsx("div",{style:{margin:"1.5rem 0 1rem 0",paddingTop:"1rem",borderTop:"2px solid #e0e0e0"},children:t.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#667eea",fontSize:"1.1rem"},children:" Clinic/Practice Address"})}),t.jsx("input",{type:"text",placeholder:"Country",value:Ht.country,onChange:h=>rn({...Ht,country:h.target.value}),style:F.input}),t.jsx("input",{type:"text",placeholder:"State/Province",value:Ht.state,onChange:h=>rn({...Ht,state:h.target.value}),style:F.input}),t.jsx("input",{type:"text",placeholder:"City",value:Ht.city,onChange:h=>rn({...Ht,city:h.target.value}),style:F.input}),t.jsx("textarea",{placeholder:"Full Address (Street, Building, etc.)",value:Ht.address,onChange:h=>rn({...Ht,address:h.target.value}),style:{...F.input,minHeight:"80px",resize:"vertical"}}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",style:{...F.button,...F.primaryButton,flex:1},children:"Save Changes"}),t.jsx("button",{type:"button",onClick:()=>wt(!1),style:{...F.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),Fe&&t.jsx("div",{style:F.modal,onClick:()=>W(!1),children:t.jsxs("div",{style:F.modalContent,onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Block Time Slot"}),t.jsxs("form",{onSubmit:Ei,children:[t.jsx("input",{type:"date",value:N.date,onChange:h=>J({...N,date:h.target.value}),style:F.input,required:!0}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("input",{type:"time",value:N.startTime,onChange:h=>J({...N,startTime:h.target.value}),style:{...F.input,marginBottom:0},required:!0}),t.jsx("input",{type:"time",value:N.endTime,onChange:h=>J({...N,endTime:h.target.value}),style:{...F.input,marginBottom:0},required:!0})]}),t.jsx("input",{type:"text",placeholder:"Reason (e.g., Lunch Break, Meeting)",value:N.reason,onChange:h=>J({...N,reason:h.target.value}),style:F.input,required:!0}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",style:{...F.button,...F.dangerButton,flex:1},children:"Block Time"}),t.jsx("button",{type:"button",onClick:()=>W(!1),style:{...F.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),ve&&t.jsx("div",{style:F.modal,onClick:()=>je(!1),children:t.jsxs("div",{style:{...F.modalContent,maxWidth:"800px",maxHeight:"90vh",overflow:"auto"},onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Configure Slots & Working Hours"}),t.jsx("p",{style:{color:"#666",marginTop:"-0.5rem",marginBottom:"1.5rem"},children:"Set your slot duration and configure working hours for each day of the week"}),t.jsxs("form",{onSubmit:qi,children:[t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Slot Duration (minutes)"}),t.jsxs("select",{value:ge.slotDuration,onChange:h=>Te({...ge,slotDuration:parseInt(h.target.value)}),style:F.input,required:!0,children:[t.jsx("option",{value:15,children:"15 minutes"}),t.jsx("option",{value:30,children:"30 minutes"}),t.jsx("option",{value:45,children:"45 minutes"}),t.jsx("option",{value:60,children:"60 minutes"})]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",color:"#333"},children:"Working Days & Hours"}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((h,T)=>{const Q=T+1,pe=ge.dayWiseHours[Q];return t.jsx("div",{style:{padding:"1rem",background:pe.enabled?"#f0f9ff":"#f8f9fa",borderRadius:"8px",marginBottom:"0.75rem",border:`2px solid ${pe.enabled?"#11998e":"#e0e0e0"}`},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[t.jsx("div",{style:{flex:"0 0 120px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:pe.enabled,onChange:()=>on(Q),style:{width:"18px",height:"18px",cursor:"pointer"}}),t.jsx("span",{style:{fontWeight:"600",color:pe.enabled?"#11998e":"#666"},children:h})]})}),pe.enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{flex:"1 1 0",minWidth:"0",boxSizing:"border-box"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#666",marginBottom:"0.25rem"},children:"Start Time"}),t.jsx("input",{type:"time",value:pe.start,onChange:ie=>_a(Q,"start",ie.target.value),style:{...F.input,marginBottom:0,padding:"0.5rem"},required:!0})]}),t.jsxs("div",{style:{flex:"1 1 0",minWidth:"0",boxSizing:"border-box"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#666",marginBottom:"0.25rem"},children:"End Time"}),t.jsx("input",{type:"time",value:pe.end,onChange:ie=>_a(Q,"end",ie.target.value),style:{...F.input,marginBottom:0,padding:"0.5rem"},required:!0})]})]})]})},Q)})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",style:{...F.button,...F.primaryButton,flex:1},children:"Save Configuration"}),t.jsx("button",{type:"button",onClick:()=>je(!1),style:{...F.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),bt&&t.jsx("div",{style:F.modal,onClick:()=>Mn(!1),children:t.jsxs("div",{style:F.modalContent,onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Mark Absent Date"}),t.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Mark specific dates when you won't be available for appointments"}),K.unavailableDates&&K.unavailableDates.length>0&&t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("h4",{style:{color:"#333",marginBottom:"0.75rem"},children:"Current Absent Dates:"}),K.unavailableDates.map(h=>t.jsxs("div",{style:{padding:"0.75rem",background:"#fff3cd",borderRadius:"8px",marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid #ffc107"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:h.date}),h.reason&&t.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:h.reason})]}),t.jsx("button",{type:"button",onClick:()=>Ni(h.id),style:{padding:"0.4rem 0.8rem",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem"},children:"Remove"})]},h.id))]}),t.jsxs("form",{onSubmit:Ki,children:[t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Select Date"}),t.jsx("input",{type:"date",value:sn.date,min:new Date().toISOString().split("T")[0],onChange:h=>Gn({...sn,date:h.target.value}),style:F.input,required:!0})]}),t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Reason (optional)"}),t.jsx("input",{type:"text",placeholder:"e.g., Vacation, Personal Day, Conference",value:sn.reason,onChange:h=>Gn({...sn,reason:h.target.value}),style:F.input})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",style:{...F.button,...F.dangerButton,flex:1},children:"Mark Absent"}),t.jsx("button",{type:"button",onClick:()=>Mn(!1),style:{...F.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),console.log("=== MODAL RENDER CHECK ===",{showPatientModal:lt,selectedPatient:ce,effectiveDoctorId:y,doctorName:w?.displayName||w?.name}),lt&&ce&&t.jsx(lx,{patientId:ce,doctorId:y,doctorName:w?.displayName||w?.name,onClose:()=>{console.log("Closing PatientRecordModal"),Ge(!1),fe(null),_e()}}),Rt&&be&&t.jsx("div",{style:F.modal,onClick:()=>We(!1),children:t.jsxs("div",{style:{...F.modalContent,maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333",borderBottom:"2px solid #11998e",paddingBottom:"1rem"},children:" Add Prescription"}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #e0e0e0"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#333"},children:"Patient Information"}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",lineHeight:"1.6"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",be.patientName]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",be.patientPhone]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Date:"})," ",be.date||be.appointmentDate," at ",be.time||be.appointmentTime]})]})]}),t.jsxs("form",{onSubmit:v,children:[t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Diagnosis *"}),t.jsx("textarea",{placeholder:"Enter diagnosis...",value:Tt.diagnosis,onChange:h=>ln({...Tt,diagnosis:h.target.value}),style:{...F.input,minHeight:"80px",resize:"vertical"},required:!0})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#333"},children:"Medications *"}),t.jsx("button",{type:"button",onClick:Mi,style:{padding:"0.4rem 0.8rem",background:"#11998e",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem"},children:"+ Add Medicine"})]}),Tt.medications.map((h,T)=>t.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",marginBottom:"0.75rem",border:"1px solid #e0e0e0"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[t.jsx("input",{type:"text",placeholder:"Medicine Name *",value:h.name,onChange:Q=>ee(T,"name",Q.target.value),style:{...F.input,gridColumn:"1 / -1"},required:!0}),t.jsx("input",{type:"text",placeholder:"Dosage (e.g., 500mg)",value:h.dosage,onChange:Q=>ee(T,"dosage",Q.target.value),style:F.input}),t.jsx("input",{type:"text",placeholder:"Frequency (e.g., 2x daily)",value:h.frequency,onChange:Q=>ee(T,"frequency",Q.target.value),style:F.input}),t.jsx("input",{type:"text",placeholder:"Duration (e.g., 7 days)",value:h.duration,onChange:Q=>ee(T,"duration",Q.target.value),style:F.input}),Tt.medications.length>1&&t.jsx("button",{type:"button",onClick:()=>Gi(T),style:{padding:"0.5rem",background:"#f5576c",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem"},children:"Remove"})]})},T))]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Tests/Lab Work (if any)"}),t.jsx("textarea",{placeholder:"Enter required tests...",value:Tt.tests,onChange:h=>ln({...Tt,tests:h.target.value}),style:{...F.input,minHeight:"60px",resize:"vertical"}})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Instructions"}),t.jsx("textarea",{placeholder:"Additional instructions for the patient...",value:Tt.instructions,onChange:h=>ln({...Tt,instructions:h.target.value}),style:{...F.input,minHeight:"80px",resize:"vertical"}})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Follow-up Date"}),t.jsx("input",{type:"date",value:Tt.followUpDate,onChange:h=>ln({...Tt,followUpDate:h.target.value}),min:new Date().toISOString().split("T")[0],style:F.input})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[t.jsx("button",{type:"submit",style:{...F.button,...F.primaryButton,flex:1},children:" Save Prescription"}),t.jsx("button",{type:"button",onClick:()=>We(!1),style:{...F.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),t.jsx("style",{children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                @keyframes pulse {
                    0%, 100% {
                        opacity: 1;
                    }
                    50% {
                        opacity: 0.5;
                    }
                }
                input:focus, select:focus {
                    outline: none;
                    border-color: #11998e;
                }
                button:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
                button:active {
                    transform: translateY(0);
                }
            `}),xt&&be&&t.jsx("div",{style:F.modal,onClick:()=>k(!1),children:t.jsxs("div",{style:{...F.modalContent,maxWidth:"500px"},onClick:h=>h.stopPropagation(),children:[t.jsxs("h2",{style:{marginTop:0,color:"#333",borderBottom:"2px solid #11998e",paddingBottom:"1rem"},children:[" Patient: ",be.patientName]}),t.jsx("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"10px",marginBottom:"1.5rem"},children:t.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.8",color:"#333"},children:[t.jsxs("div",{children:[t.jsxs("strong",{children:[t.jsx(nn,{size:14})," Date:"]})," ",be.date||be.appointmentDate]}),t.jsxs("div",{children:[t.jsx("strong",{children:" Time:"})," ",be.time||be.appointmentTime]}),t.jsxs("div",{children:[t.jsx("strong",{children:" Phone:"})," ",be.patientPhone]}),be.reason&&t.jsxs("div",{children:[t.jsx("strong",{children:" Reason:"})," ",be.reason]}),t.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"white",borderRadius:"8px",border:"2px solid #11998e"},children:[t.jsx("strong",{style:{color:"#11998e"},children:"Status:"})," ",be.status||"pending"]})]})}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx("button",{onClick:Ot,style:{padding:"1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:" View Complete Health Records"}),be.status!=="completed"&&t.jsx("button",{onClick:Zt,style:{padding:"1rem",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:" Add Prescription"}),be.status==="completed"&&t.jsx("div",{style:{padding:"1rem",background:"#38ef7d",color:"white",borderRadius:"10px",textAlign:"center",fontSize:"1rem",fontWeight:"600"},children:" Consultation Completed"}),t.jsx("button",{onClick:()=>k(!1),style:{padding:"1rem",background:"#e0e0e0",color:"#333",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:"Close"})]})]})}),we&&t.jsx("div",{style:F.modal,onClick:()=>xe(!1),children:t.jsxs("div",{style:{...F.modalContent,maxWidth:"600px"},onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Make Payment"}),!1,t.jsx("p",{style:{color:"#666",marginTop:"-0.5rem",marginBottom:"1.5rem"},children:"Submit your payment details. Admin will verify and update your account balance."}),t.jsxs("form",{onSubmit:Qe,children:[t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#fff3e0",borderRadius:"10px",border:"2px solid #ff9800"},children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#e65100",marginBottom:"0.25rem"},children:"Total Pending Balance:"}),t.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#e65100"},children:[B?.symbol,Ve?.pendingAmount?.toFixed(2)||"0.00"]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:["Payment Amount (",B?.symbol,")"]}),t.jsx("input",{type:"number",step:"0.01",min:"0.01",max:Ve?.pendingAmount||0,value:gt,onChange:h=>Xt(h.target.value),style:F.input,placeholder:"Enter amount",required:!0}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[t.jsx("button",{type:"button",onClick:()=>Xt((Ve?.pendingAmount*.5).toFixed(2)),style:{padding:"0.5rem 1rem",background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"5px",cursor:"pointer",fontSize:"0.9rem",color:"#1976d2"},children:"50%"}),t.jsx("button",{type:"button",onClick:()=>Xt(Ve?.pendingAmount?.toFixed(2)),style:{padding:"0.5rem 1rem",background:"#e8f5e9",border:"1px solid #4caf50",borderRadius:"5px",cursor:"pointer",fontSize:"0.9rem",color:"#2e7d32"},children:"Full Amount"})]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Payment Method"}),t.jsxs("select",{value:D,onChange:h=>O(h.target.value),style:F.input,required:!0,children:[t.jsx("option",{value:"",children:"Select payment method"}),Kt(B?.country||"US").map(h=>t.jsx("option",{value:h,children:h},h))]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",fontSize:"0.9rem",color:"#1565c0"},children:[t.jsx("strong",{children:" Payment Process:"}),t.jsx("br",{}),"1. Submit payment details below",t.jsx("br",{}),"2. Admin will verify your payment",t.jsx("br",{}),"3. Your balance will be updated once verified"]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",disabled:Ut,style:{...F.button,...F.primaryButton,flex:1,opacity:Ut?.6:1,cursor:Ut?"not-allowed":"pointer"},children:Ut?"Processing...":" Submit Payment"}),t.jsx("button",{type:"button",onClick:()=>xe(!1),disabled:Ut,style:{...F.button,background:"#e0e0e0",flex:1,opacity:Ut?.6:1,cursor:Ut?"not-allowed":"pointer"},children:"Cancel"})]})]})]})}),Nt&&ce&&t.jsx(dh,{patientId:ce,onClose:()=>{gn(!1),fe(null)},doctorId:y,doctorName:w?.displayName}),we&&t.jsx("div",{style:F.modal,onClick:()=>xe(!1),children:t.jsxs("div",{style:F.modalContent,onClick:h=>h.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Make Payment"}),!1,t.jsxs("div",{style:{background:"#f0f7ff",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"2px solid #2196f3"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{style:{color:"#1976d2"},children:"Total Pending:"}),t.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",marginLeft:"0.5rem",color:"#1976d2"},children:[B?.currency," ",Ve.pendingAmount.toFixed(2)]})]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[Ve.totalAppointments," appointments + ",Ve.totalPrescriptions," prescriptions"]})]}),t.jsxs("form",{onSubmit:Qe,children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:["Payment Amount (",B?.currency,") *"]}),t.jsx("input",{type:"number",step:"0.01",min:"0.01",max:Ve.pendingAmount,placeholder:`Enter amount (max: ${Ve.pendingAmount.toFixed(2)})`,value:gt,onChange:h=>Xt(h.target.value),style:F.input,required:!0}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("button",{type:"button",onClick:()=>Xt((Ve.pendingAmount/2).toFixed(2)),style:{padding:"0.5rem",background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",flex:1},children:"50%"}),t.jsx("button",{type:"button",onClick:()=>Xt(Ve.pendingAmount.toFixed(2)),style:{padding:"0.5rem",background:"#e8f5e9",border:"1px solid #4caf50",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",flex:1},children:"Pay Full"})]}),t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Payment Method *"}),t.jsxs("select",{value:D,onChange:h=>O(h.target.value),style:{...F.input,marginBottom:"1rem"},required:!0,children:[t.jsx("option",{value:"",children:"Select payment method..."}),Kt(B?.country||"US").map(h=>t.jsx("option",{value:h,children:h},h))]}),t.jsxs("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:[t.jsx("strong",{children:" Note:"}),' After submitting, your payment will be marked as "pending" and will be verified by the admin. Once verified, it will be marked as "completed" and reflected in your balance.']}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",disabled:Ut,style:{...F.button,...F.primaryButton,flex:1,opacity:Ut?.6:1,cursor:Ut?"not-allowed":"pointer"},children:Ut?"Processing...":"Submit Payment"}),t.jsx("button",{type:"button",onClick:()=>xe(!1),style:{...F.button,background:"#ccc",color:"#333",flex:1},children:"Cancel"})]})]})]})})]})}const ox=()=>{const{currentUser:r,userProfile:s,refresh:u}=Ia(),[c,f]=b.useState("overview"),[g,x]=b.useState([]),[y,w]=b.useState([]),[j,C]=b.useState({}),[U,A]=b.useState(!0),[re,P]=b.useState(null),[K,G]=b.useState(!1),[se,E]=b.useState(null),[le,oe]=b.useState(""),[B,$e]=b.useState([]),[ht,$]=b.useState(!1),[ue,I]=b.useState(null),[at,he]=b.useState(!1),[ct,wt]=b.useState(!1),[Fe,W]=b.useState("");b.useEffect(()=>{const v=new Date,ae=v.getFullYear(),Pe=String(v.getMonth()+1).padStart(2,"0");W(`${ae}-${Pe}`)},[]);const[ce,fe]=b.useState({patientId:"",fromDoctorId:"",toDoctorId:""}),[lt,Ge]=b.useState(!1),[Rt,We]=b.useState(!1),[be,Ze]=b.useState(!1),[_t,kt]=b.useState(!1),[Et,Cn]=b.useState(!1),[Dt,an]=b.useState(null),[Nt,gn]=b.useState({displayName:"",email:"",specialization:"",consultationFee:"",phone:""}),[xt,k]=b.useState({diagnosis:"",medications:[{name:"",dosage:"",frequency:"",duration:""}],instructions:"",followUpDate:"",tests:""}),[we,xe]=b.useState(null),[Le,Ie]=b.useState({}),[An,qn]=b.useState(null),[me,yn]=b.useState(null),[ki,Mt]=b.useState({rates:{INR:{currency:"INR",symbol:"",appointmentCost:500,prescriptionCost:2e3},GBP:{currency:"GBP",symbol:"",appointmentCost:5,prescriptionCost:20}}}),[Qt,Vn]=b.useState([]),[ft,Qn]=b.useState({totalAppointments:0,totalPrescriptions:0,totalCost:0,totalPaid:0,pendingAmount:0,paymentHistory:[]}),[Ht,rn]=b.useState(""),[N,J]=b.useState(!1),[ve,je]=b.useState(!1),[ge,Te]=b.useState(""),[bt,Mn]=b.useState(!1),[sn,Gn]=b.useState(!1),[Tt,ln]=b.useState(null),xn=v=>{try{const ae=sessionStorage.getItem(v);if(ae)return JSON.parse(ae)}catch(ae){console.warn("Cache read error",ae)}return null},Bn=(v,ae)=>{try{sessionStorage.setItem(v,JSON.stringify(ae))}catch(Pe){console.warn("Cache write error",Pe)}};b.useEffect(()=>{const v=new Image;v.src=di,v.onload=()=>{try{const ae=document.createElement("canvas");ae.width=v.width,ae.height=v.height;const Pe=ae.getContext("2d");Pe.drawImage(v,0,0);const Zt=Pe.getImageData(0,0,ae.width,ae.height).data;let qt=ae.width,Ct=ae.height,F=0,h=0;const T=250;for(let rt=0;rt<ae.height;rt++)for(let et=0;et<ae.width;et++){const Me=(rt*ae.width+et)*4,tt=Zt[Me],ot=Zt[Me+1],un=Zt[Me+2];Zt[Me+3]>10&&!(tt>T&&ot>T&&un>T)&&(et<qt&&(qt=et),rt<Ct&&(Ct=rt),et>F&&(F=et),rt>h&&(h=rt))}if(qt>F||Ct>h){ln(di);return}const Q=Math.max(8,Math.floor(Math.min(ae.width,ae.height)*.02));qt=Math.max(0,qt-Q),Ct=Math.max(0,Ct-Q),F=Math.min(ae.width,F+Q),h=Math.min(ae.height,h+Q);const pe=F-qt+1,ie=h-Ct+1,ye=document.createElement("canvas");ye.width=pe,ye.height=ie,ye.getContext("2d").drawImage(ae,qt,Ct,pe,ie,0,0,pe,ie);const qe=ye.toDataURL("image/png");ln(qe)}catch(ae){console.error("QR crop failed",ae),ln(di)}},v.onerror=()=>ln(di)},[di]);const[Ve,ni]=b.useState(!1),[gt,Xt]=b.useState({displayName:"",country:"",state:"",city:"",address:"",phone:""});b.useEffect(()=>{r?.uid&&s?.hospitalId&&Ut()},[r,s]);const Ut=async()=>{const v=xn(`dashboard_${s.hospitalId}`);if(v){console.log(" Using cached overview data"),x(v.doctors),C(v.stats),A(!1);return}A(!0);try{const[ae,Pe]=await Promise.all([gy(s.hospitalId),Xm(s.hospitalId)]);x(ae),C(Pe),Bn(`dashboard_${s.hospitalId}`,{doctors:ae,stats:Pe})}catch(ae){console.error("Error loading dashboard data:",ae),Xe("Error loading data","error")}finally{A(!1)}},Xe=(v,ae="success")=>{qn({message:v,type:ae}),setTimeout(()=>qn(null),3e3)};b.useEffect(()=>{c==="usage"&&s?.hospitalId&&O()},[c,s?.hospitalId]),b.useEffect(()=>{c==="billing"&&s?.hospitalId&&Fe&&q()},[c,s?.hospitalId,Fe]),b.useEffect(()=>{c==="appointments"&&s?.hospitalId&&!bt&&D()},[c,s,bt]);const D=async()=>{if(!U){A(!0),console.log("loading all hospital appointments...");try{const v=await yy(s.hospitalId);w(v),Mn(!0),console.log(" Loaded all hospital appointments:",v.length)}catch(v){console.error("Error loading appointments:",v),Xe("Error loading appointments","error")}finally{A(!1)}}},O=async()=>{try{A(!0),console.log(" Loading optimized usage data for hospital:",s.hospitalId);const v=xn(`usage_${s.hospitalId}`);if(v){console.log(" Using cached usage data"),yn(v),A(!1);return}const[ae,Pe,Ot]=await Promise.all([Vt(Be(Y,"config","billing")).catch(T=>({exists:()=>!1})),Vt(Be(Y,"hospitals",s.hospitalId)),Xm(s.hospitalId)]);if(ae.exists()&&Mt(ae.data()),!Pe.exists()){Xe("Hospital profile not found","error");return}const Zt=Pe.data(),qt=ae.exists()?ae.data():ki,Ct=Zt?.country||s?.country||"default",F=Ro(Ct,qt),h={totalAppointments:Ot.totalAppointments||0,totalPrescriptions:Ot.totalPrescriptions||0,appointmentsByMonth:{},prescriptionsByMonth:{},pricingModel:Zt?.pricingModel||"full",discountPercentage:Zt?.discountPercentage||0,currency:F.currency,symbol:F.symbol};Bn(`usage_${s.hospitalId}`,h),yn(h)}catch(v){console.error("Error loading usage data:",v),Xe("Error loading usage data","error")}finally{A(!1)}},q=async()=>{try{if(A(!0),console.log(" Loading billing data for hospital:",s.hospitalId,"Month:",Fe),!Fe){console.warn("No month selected for billing"),A(!1);return}const v=`billing_${s.hospitalId}_${Fe}`,ae=xn(v);if(ae){console.log(" Using cached billing data for",Fe),Qn(ae.cumulativeData),yn(ae.paymentInfo),A(!1);return}let Pe={currency:"USD",appointmentCost:50,prescriptionCost:20};const{startISO:Ot,nextMonthISO:Zt}=$d(Fe);console.log(`Billing Range (ISO): ${Ot} to ${Zt}`);const qt=Se(Y,"appointments"),Ct=Ae(qt,de("hospitalId","==",s.hospitalId),de("appointmentDate",">=",Ot),de("appointmentDate","<",Zt)),F=Se(Y,"prescriptions"),h=Ae(F,de("hospitalId","==",s.hospitalId),de("date",">=",Ot),de("date","<",Zt)),T=Se(Y,"payments"),Q=Ae(T,de("hospitalId","==",s.hospitalId),de("createdAt",">=",Ot),de("createdAt","<",Zt)),pe=Q,ie=Ae(Q,Zd(100));console.time("BillingParallelFetch");const[ye,Ue,qe,rt,et,Me]=await Promise.all([Vt(Be(Y,"config","billing")).catch(pn=>({exists:()=>!1})),Vt(Be(Y,"hospitals",s.hospitalId)),ci(Ct).catch(pn=>({data:()=>({count:0})})),ci(h).catch(pn=>({data:()=>({count:0})})),Lr(pe,{totalPaid:Pr("amount")}).catch(pn=>({data:()=>({totalPaid:0})})),He(ie).catch(pn=>({docs:[]}))]);if(console.timeEnd("BillingParallelFetch"),ye.exists()&&(Pe=ye.data(),Mt(Pe)),!Ue.exists()){Xe("Hospital profile not found","error");return}const tt=Ue.data(),ot=Pl(tt,Pe),un=qe.data().count,Jt=rt.data().count;let Dn=Me.docs.map(pn=>({id:pn.id,...pn.data()})).sort((pn,mi)=>mi.createdAt.localeCompare(pn.createdAt));const Rn=tt?.pricingModel||"full",kn=tt?.discountPercentage||0,Yn=ch({appointmentsCount:un,prescriptionsCount:Jt,rates:ot,pricingModel:Rn,discountPercentage:kn});let Fn=Yn.appointmentCost,Hn=Yn.prescriptionCost,En=Yn.totalCost,ii=0;et.data?ii=et.data().totalPaid||0:ii=Dn.reduce((pn,mi)=>pn+(mi.status==="completed"&&mi.amount||0),0);const pi=Math.max(0,En-ii),Zn={cumulativeData:{totalAppointments:un,totalPrescriptions:Jt,appointmentCost:Fn,prescriptionCost:Hn,totalCost:En,totalPaid:ii,pendingAmount:pi,paymentHistory:Dn},paymentInfo:{totalAppointments:un,totalPrescriptions:Jt,appointmentCost:Fn,prescriptionCost:Hn,totalCost:En,paid:ii,pending:pi,pricingModel:Rn,discountPercentage:kn,rates:ot,currency:ot.currency,symbol:ot.symbol,country:tt?.country||s?.country||"default",bankDetails:tt?.bankDetails||{},upiId:tt?.upiId||"",lastPaymentDate:Dn[0]?.createdAt,lastPaymentAmount:Dn[0]?.amount,doctorCount:g.length,paymentHistory:Dn,paymentDetails:Pe.paymentDetails||{},countryInstructions:Pe.countrySpecificInstructions||{}},timestamp:Date.now()};Bn(v,Zn),Zn.paymentInfo.displayCost=Yn.totalCost,Zn.paymentInfo.rates=ot,Qn(Zn.cumulativeData),yn(Zn.paymentInfo),console.log(" Billing data loaded successfully for",Fe)}catch(v){console.error("Error loading billing data:",v),Xe("Error loading billing data","error")}finally{A(!1)}},ne=v=>{console.log(" Getting payment methods for country:",v);const ae=[];return v==="India"||v==="IN"?ae.push("UPI","Paytm","PhonePe","Google Pay","Bank Transfer","Net Banking"):v==="United States"||v==="US"||v==="USA"?ae.push("PayPal","Stripe","Venmo","Zelle","Bank Transfer","Check"):v==="United Kingdom"||v==="UK"||v==="GB"?ae.push("PayPal","Stripe","Faster Payments","Bank Transfer","Check"):v==="Canada"||v==="CA"?ae.push("PayPal","Stripe","Interac","Bank Transfer","Check"):v==="Australia"||v==="AU"?ae.push("PayPal","Stripe","BPAY","Bank Transfer"):ae.push("PayPal","Stripe","Bank Transfer","Wire Transfer"),console.log(" Available payment methods:",ae),ae},Re=async v=>{if(v.preventDefault(),!ge){Xe("Please select a payment method","error");return}const ae=parseFloat(Ht);if(!ae||ae<=0){Xe("Please enter a valid amount","error");return}if(ae>ft.pendingAmount){Xe("Amount cannot exceed pending balance","error");return}try{je(!0);const Pe={hospitalId:s.hospitalId,hospitalName:s.displayName,amount:ae,currency:me.currency,paymentMethod:ge,status:"pending",createdAt:new Date().toISOString(),createdBy:r.uid,type:"partial",description:`Partial payment for hospital app usage - ${ft.totalAppointments} appointments, ${ft.totalPrescriptions} prescriptions`},Ot=Se(Y,"payments");await fa(Ot,Pe),Xe("Payment request submitted successfully! Admin will verify and process.","success"),J(!1),rn(""),Te(""),q()}catch(Pe){console.error("Error processing payment:",Pe),Xe("Failed to process payment","error")}finally{je(!1)}},ke=()=>{rn(""),Te(""),J(!0)},vt=async v=>{v.preventDefault();try{if(console.log("Adding doctor with data:",Nt),console.log("Hospital ID:",s.hospitalId),console.log("Hospital Name:",s.displayName),!s.hospitalId){Xe("Hospital ID not found. Please contact support.","error");return}await Cy(s.hospitalId,s.displayName,Nt),Xe("Doctor added successfully!"),Ge(!1),gn({displayName:"",email:"",specialization:"",consultationFee:"",phone:""}),Ut()}catch(ae){console.error("Error adding doctor:",ae),Xe("Failed to add doctor: "+(ae.message||"Unknown error"),"error")}},_e=v=>{an(v),k({diagnosis:"",medications:[{name:"",dosage:"",frequency:"",duration:""}],instructions:"",followUpDate:"",tests:""}),Cn(!0)},Ne=()=>{k({...xt,medications:[...xt.medications,{name:"",dosage:"",frequency:"",duration:""}]})},Kt=(v,ae,Pe)=>{const Ot=[...xt.medications];Ot[v][ae]=Pe,k({...xt,medications:Ot})},Si=v=>{const ae=xt.medications.filter((Pe,Ot)=>Ot!==v);k({...xt,medications:ae})},Qe=async v=>{v.preventDefault();try{const{db:ae}=await Gr(async()=>{const{db:h}=await Promise.resolve().then(()=>hy);return{db:h}},void 0),{doc:Pe,updateDoc:Ot,setDoc:Zt,collection:qt}=await Gr(async()=>{const{doc:h,updateDoc:T,setDoc:Q,collection:pe}=await import("./firebase-p-DgfaJy.js").then(ie=>ie.K);return{doc:h,updateDoc:T,setDoc:Q,collection:pe}},[]),Ct=Pe(qt(ae,"prescriptions"));await Zt(Ct,{appointmentId:Dt.id,patientName:Dt.patientName,patientPhone:Dt.patientPhone,doctorName:Dt.doctorName,hospitalId:s.hospitalId,hospitalName:s.displayName,...xt,createdAt:new Date().toISOString(),createdBy:r.uid});const F=Pe(ae,"appointments",Dt.id);await Ot(F,{status:"completed",prescriptionId:Ct.id,completedAt:new Date().toISOString()}),Xe("Prescription saved successfully!"),Cn(!1),an(null),Ut()}catch(ae){console.error("Error saving prescription:",ae),Xe("Failed to save prescription","error")}},Wn=async v=>{v.preventDefault();try{await ah(we.uid,{displayName:we.displayName,specialization:we.specialization,consultationFee:we.consultationFee,phone:we.phone}),Xe("Doctor updated successfully!"),We(!1),xe(null),Ut()}catch(ae){console.error("Error updating doctor:",ae),Xe("Failed to update doctor","error")}},yt=async(v,ae)=>{try{await by(v,!ae),Xe(`Doctor ${ae?"disabled":"enabled"} successfully!`),Ut()}catch(Pe){console.error("Error toggling doctor status:",Pe),Xe("Failed to update status","error")}},Xn=async v=>{if(window.confirm("Are you sure you want to remove this doctor?"))try{await vy(v,s.hospitalId),Xe("Doctor removed successfully!"),Ut()}catch(ae){console.error("Error deleting doctor:",ae),Xe("Failed to remove doctor","error")}},Kn=async()=>{try{await Ie(re.uid,Le),Xe("Availability updated successfully!"),Ze(!1)}catch(v){console.error("Error saving availability:",v),Xe("Failed to update availability","error")}},Ei=async v=>{P(v);try{const ae=await oc(v.uid);Ie(ae),Ze(!0)}catch(ae){console.error("Error loading availability:",ae),Xe("Failed to load availability","error")}},_i=v=>{xe({...v}),We(!0)},qi=v=>{E(v),G(!0)},Ki=async v=>{v.preventDefault();try{const ae=Be(Y,"users",r.uid);if(await Ft(ae,{displayName:gt.displayName,country:gt.country,state:gt.state,city:gt.city,address:gt.address,phone:gt.phone,updatedAt:new Date().toISOString()}),s?.hospitalId){const Pe=Be(Y,"hospitals",s.hospitalId);await Ft(Pe,{name:gt.displayName,country:gt.country,state:gt.state,city:gt.city,address:gt.address,updatedAt:new Date().toISOString()})}Xe("Hospital profile updated successfully!"),ni(!1),setTimeout(async()=>{try{await u()}catch{window.location.href="/dashboard"}},1e3)}catch(ae){console.error("Error updating hospital profile:",ae),Xe("Failed to update profile","error")}},Ni=()=>{Xt({displayName:s?.displayName||"",country:s?.country||"",state:s?.state||"",city:s?.city||"",address:s?.address||"",phone:s?.phone||""}),ni(!0)},on=async()=>{if(!le.trim()){$e([]);return}$(!0);try{const v=await Xy(le,s.hospitalId);$e(v),v.length===0&&Xe("No patients found","error")}catch(v){console.error("Error searching patients:",v),Xe("Failed to search patients","error")}finally{$(!1)}},_a=v=>{I(v),he(!0),$e([]),oe("")},ga=v=>{fe({patientId:v.id,patientName:v.name,fromDoctorId:v.lastDoctorId,fromDoctorName:v.lastDoctorName,toDoctorId:""}),wt(!0)},Mi=async v=>{if(v.preventDefault(),!ce.toDoctorId){Xe("Please select a doctor to transfer to","error");return}try{const ae=await ex(ce.patientId,ce.fromDoctorId,ce.toDoctorId,s.hospitalId);Xe(`Successfully transferred ${ae.recordsTransferred} health records and ${ae.prescriptionsTransferred} prescriptions`,"success"),wt(!1),fe({patientId:"",fromDoctorId:"",toDoctorId:""})}catch(ae){console.error("Error transferring records:",ae),Xe("Failed to transfer records","error")}},Gi=()=>{G(!1),E(null),Ut()};if(K&&se)return t.jsxs("div",{children:[t.jsxs("div",{style:{background:"white",padding:"1rem 2rem",marginBottom:"1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"1rem"},children:[t.jsx("button",{onClick:Gi,style:{padding:"0.5rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Back to Hospital Dashboard"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:"Viewing Dashboard for:"}),t.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#333"},children:["Dr. ",se.displayName," - ",se.specialization]})]})]}),t.jsx(uh,{doctorId:se.uid,doctorProfile:se,isHospitalView:!0,suppressHeader:!0})]});const ee={container:{maxWidth:"1200px",margin:"0 auto",padding:"1rem",fontFamily:"var(--font-sans)",color:"var(--text-main)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem",background:"var(--bg-card)",padding:"1.5rem",borderRadius:"16px",boxShadow:"var(--shadow-md)",border:"1px solid var(--border-subtle)"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},statCard:{background:"var(--bg-card)",borderRadius:"16px",padding:"1.5rem",boxShadow:"var(--shadow-sm)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"120px",border:"1px solid var(--border-subtle)",cursor:"default"},tabContainer:{display:"flex",gap:"0.5rem",marginBottom:"2rem",overflowX:"auto",paddingBottom:"0.5rem",msOverflowStyle:"none",scrollbarWidth:"none",borderBottom:"1px solid var(--border-subtle)",padding:"0.5rem 0"},tab:{padding:"0.75rem 1.25rem",borderRadius:"8px",border:"1px solid transparent",background:"transparent",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.2s ease",whiteSpace:"nowrap"},activeTab:{background:"var(--primary-light)",color:"white",boxShadow:"var(--shadow-sm)",fontWeight:"600"},card:{background:"var(--bg-card)",borderRadius:"16px",padding:"2rem",boxShadow:"var(--shadow-md)",marginBottom:"1.5rem",width:"100%",boxSizing:"border-box",border:"1px solid var(--border-subtle)"},doctorCard:{background:"var(--bg-card)",borderRadius:"12px",padding:"1.25rem",marginBottom:"1rem",border:"1px solid var(--border-subtle)",boxShadow:"var(--shadow-sm)",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"1rem"},button:{padding:"0.6rem 1.2rem",borderRadius:"8px",border:"none",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},primaryButton:{background:"var(--primary)",color:"white",boxShadow:"var(--shadow-sm)"},successButton:{background:"#10b981",color:"white",boxShadow:"var(--shadow-sm)"},dangerButton:{background:"#fee2e2",color:"#ef4444",border:"1px solid #fecaca"},warningButton:{background:"#fef3c7",color:"#d97706",border:"1px solid #fde68a"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem",backdropFilter:"blur(4px)"},modalContent:{background:"var(--bg-card)",borderRadius:"20px",padding:"2rem",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"var(--shadow-xl)",border:"1px solid var(--border-subtle)",animation:"slideUp 0.3s ease-out"},input:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-subtle)",fontSize:"1rem",marginBottom:"1rem",transition:"all 0.2s ease",background:"var(--bg-main)",color:"var(--text-main)"},notification:{position:"fixed",top:"2rem",right:"2rem",padding:"1rem 1.5rem",borderRadius:"12px",boxShadow:"var(--shadow-lg)",zIndex:2e3,fontWeight:"500",animation:"slideIn 0.3s ease",color:"white",display:"flex",alignItems:"center",gap:"0.75rem"}};return U||!r||!s?.hospitalId?t.jsx("div",{style:ee.container,children:t.jsxs("div",{style:{textAlign:"center",color:"white",fontSize:"1.5rem",paddingTop:"3rem"},children:[t.jsx("div",{className:"spinner",style:{border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid white",borderRadius:"50%",width:"60px",height:"60px",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),"Loading Dashboard..."]})}):t.jsxs("div",{style:ee.container,children:[An&&t.jsx("div",{style:{...ee.notification,background:An.type==="error"?"linear-gradient(135deg, #eb3349 0%, #f45c43 100%)":"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white"},children:An.message}),t.jsxs("div",{style:ee.header,children:[t.jsxs("h1",{style:{margin:0,fontSize:"2rem",color:"#333",marginBottom:"0.5rem"},children:[" ",s?.displayName||"Hospital Dashboard"]}),t.jsx("p",{style:{margin:0,color:"#666"},children:"Welcome back! Manage your hospital operations efficiently."})]}),t.jsxs("div",{style:ee.statsGrid,children:[t.jsxs("div",{style:ee.statCard,children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:""}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.25rem"},children:j.totalDoctors||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Doctors"})]}),t.jsxs("div",{style:{...ee.statCard,background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"},children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:""}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.25rem"},children:j.activeDoctors||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Active Doctors"})]}),t.jsxs("div",{style:{...ee.statCard,background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:t.jsx(nn,{size:36})}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.25rem"},children:j.todayAppointments||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Today's Appointments"})]}),t.jsxs("div",{style:{...ee.statCard,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"}}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.25rem"},children:j.totalAppointments||0}),t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Appointments"})]})]}),t.jsx("div",{style:ee.tabContainer,children:typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width:480px)").matches?t.jsx("select",{value:c,onChange:v=>f(v.target.value),style:{padding:"0.5rem",borderRadius:"8px"},"aria-label":"Select hospital tab",children:[{id:"overview",label:"Overview"},{id:"doctors",label:"Doctors"},{id:"appointments",label:"Appointments"},{id:"patients",label:"Patients"},{id:"analytics",label:"Analytics"},{id:"usage",label:"Usage"},{id:"billing",label:"Billing"},{id:"settings",label:"Settings"}].map(v=>t.jsx("option",{value:v.id,children:v.label},v.id))}):[{id:"overview",label:"Overview"},{id:"doctors",label:"Doctors"},{id:"appointments",label:"Appointments"},{id:"patients",label:"Patients"},{id:"analytics",label:"Analytics"},{id:"usage",label:"Usage"},{id:"billing",label:"Billing"},{id:"settings",label:"Settings"}].map(v=>t.jsx("button",{style:{...ee.tab,...c===v.id?ee.activeTab:{}},onClick:()=>f(v.id),children:v.label},v.id))}),c==="doctors"&&t.jsxs("div",{style:ee.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Manage Doctors"}),t.jsx("button",{style:{...ee.button,...ee.primaryButton},onClick:()=>Ge(!0),children:"+ Add New Doctor"})]}),g.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{children:"No doctors yet. Add your first doctor to get started!"})]}):g.map(v=>t.jsx("div",{style:ee.doctorCard,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",flexWrap:"wrap",gap:"1rem"},children:[t.jsxs("div",{style:{flex:"1 1 0",minWidth:"0",boxSizing:"border-box"},children:[t.jsxs("h3",{style:{margin:"0 0 0.5rem 0",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.displayName,v.isActive===!1&&t.jsx("span",{style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",background:"#ff4444",color:"white",borderRadius:"5px"},children:"Disabled"})]}),t.jsxs("p",{style:{margin:"0 0 0.25rem 0",color:"#666"},children:[t.jsx("strong",{children:"Specialization:"})," ",v.specialization||"N/A"]}),t.jsxs("p",{style:{margin:"0 0 0.25rem 0",color:"#666"},children:[t.jsx("strong",{children:"Consultation Fee:"})," $",v.consultationFee||"N/A"]}),t.jsxs("p",{style:{margin:"0",color:"#666"},children:[t.jsx("strong",{children:"Phone:"})," ",v.phone||"N/A"]})]}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[t.jsx("button",{style:{...ee.button,background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",fontWeight:"600"},onClick:()=>qi(v),children:" View Dashboard"}),t.jsx("button",{style:{...ee.button,...ee.primaryButton},onClick:()=>_i(v),children:" Edit"}),t.jsxs("button",{style:{...ee.button,...ee.successButton},onClick:()=>Ei(v),children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:16})})," Availability"]}),t.jsx("button",{style:{...ee.button,...v.isActive===!1?ee.successButton:ee.warningButton},onClick:()=>yt(v.uid,v.isActive!==!1),children:v.isActive===!1?" Enable":" Disable"}),t.jsx("button",{style:{...ee.button,...ee.dangerButton},onClick:()=>Xn(v.uid),children:" Delete"})]})]})},v.uid))]}),c==="appointments"&&t.jsxs("div",{style:ee.card,children:[t.jsxs("h2",{style:{marginTop:0,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx(nn,{size:22}),"Appointments & Prescriptions"]}),y.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:t.jsx(nn,{size:48})}),t.jsx("p",{children:"No appointments scheduled yet."})]}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:y.map(v=>t.jsx("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px",borderLeft:`4px solid ${v.status==="completed"?"#38ef7d":v.status==="confirmed"?"#667eea":"#f5576c"}`},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"1rem",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[t.jsx("strong",{style:{fontSize:"1.1rem",color:"#333"},children:v.patientName}),t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",background:v.status==="completed"?"#38ef7d":v.status==="confirmed"?"#667eea":"#ffa502",color:"white",fontSize:"0.75rem",fontWeight:"600"},children:v.status||"pending"})]}),t.jsxs("div",{style:{color:"#666",fontSize:"0.95rem",lineHeight:"1.6"},children:[t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Doctor:"})," ",v.doctorName]}),t.jsxs("div",{children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:14})})," ",t.jsx("strong",{children:"Date:"})," ",v.appointmentDate||v.date]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Time:"})," ",v.appointmentTime||v.time]}),t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Phone:"})," ",v.patientPhone]}),v.reason&&t.jsxs("div",{children:[" ",t.jsx("strong",{children:"Reason:"})," ",v.reason]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.status!=="completed"&&t.jsx("button",{onClick:()=>_e(v),style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",whiteSpace:"nowrap"},children:" Add Prescription"}),v.status==="completed"&&v.prescriptionId&&t.jsx("div",{style:{padding:"0.5rem 1rem",background:"#38ef7d",color:"white",borderRadius:"8px",fontSize:"0.85rem",textAlign:"center",fontWeight:"600"},children:" Prescribed"})]})]})},v.id))})]}),c==="usage"&&t.jsxs("div",{style:ee.card,children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" App Usage Statistics"}),t.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"View your hospital's app usage metrics (appointments and prescriptions)"}),me?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"2rem",padding:"15px",background:"#f0f7ff",borderRadius:"10px",border:"2px solid #2196f3"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[t.jsx("div",{children:t.jsx("strong",{style:{color:"#1976d2",fontSize:"16px"},children:"Your Pricing Model:"})}),t.jsxs("div",{style:{padding:"8px 20px",borderRadius:"20px",fontSize:"15px",fontWeight:"600",background:me.pricingModel==="free"?"#e8f5e9":me.pricingModel==="reduced"?"#fff3e0":"#e3f2fd",color:me.pricingModel==="free"?"#2e7d32":me.pricingModel==="reduced"?"#e65100":"#1976d2"},children:[me.pricingModel==="free"&&" Free + Ads",me.pricingModel==="reduced"&&` Reduced Rate (${me.discountPercentage}% off)`,me.pricingModel==="full"&&" Full Rate"]})]}),t.jsxs("div",{style:{marginTop:"10px",fontSize:"13px",color:"#555"},children:[me.pricingModel==="free"&&"Your hospital uses the app completely FREE! Ad revenue funds your access.",me.pricingModel==="reduced"&&`Your hospital gets ${me.discountPercentage}% discount on all fees. Ads help reduce your costs.`,me.pricingModel==="full"&&"Premium tier with no ads. Your hospital pays standard app usage fees."]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Appointments"}),t.jsx("div",{style:{fontSize:"2.2rem",fontWeight:"bold",marginTop:"0.5rem"},children:me.totalAppointments}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:"All-time total"})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Prescriptions"}),t.jsx("div",{style:{fontSize:"2.2rem",fontWeight:"bold",marginTop:"0.5rem"},children:me.totalPrescriptions}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:"All-time total"})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Active Doctors"}),t.jsx("div",{style:{fontSize:"2.2rem",fontWeight:"bold",marginTop:"0.5rem"},children:g.length}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:"Using the platform"})]})]}),me.appointmentsByMonth&&Object.keys(me.appointmentsByMonth).length>0&&t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" Monthly Breakdown"}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:Object.entries(me.appointmentsByMonth).sort((v,ae)=>ae[0].localeCompare(v[0])).slice(0,12).map(([v,ae])=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"6px",marginBottom:"0.5rem"},children:[t.jsx("span",{style:{fontWeight:"600"},children:new Date(v+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"})}),t.jsxs("span",{style:{color:"#667eea",fontWeight:"600"},children:[ae," ",ae===1?"appointment":"appointments"]})]},v))})]}),t.jsxs("div",{style:{background:"#e3f2fd",borderRadius:"10px",padding:"1.5rem",border:"2px solid #2196f3"},children:[t.jsx("h3",{style:{marginTop:0,color:"#1976d2"},children:" About Usage Tracking"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#424242",lineHeight:"1.8"},children:[t.jsx("li",{children:"All appointments and prescriptions are tracked cumulatively"}),t.jsx("li",{children:"Usage metrics help understand your hospital's platform engagement"}),t.jsx("li",{children:"Billing is calculated based on total usage (see Billing tab)"})]})]})]}):t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"Loading usage data..."})]})]}),c==="billing"&&t.jsxs("div",{style:ee.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"2rem"},children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Billing & Analytics"}),t.jsx("button",{onClick:ke,style:{...ee.button,...ee.primaryButton,fontSize:"1rem",padding:"0.75rem 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Make Payment"})]}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsx("label",{style:{fontWeight:"600",marginRight:"1rem"},children:"Select Month:"}),t.jsx("input",{type:"month",value:Fe,onChange:v=>W(v.target.value),style:ee.input})]}),t.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"View your hospital's app usage metrics (appointments and prescriptions)"}),me?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:"2rem",padding:"15px",background:"#f0f7ff",borderRadius:"10px",border:"2px solid #2196f3"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[t.jsx("div",{children:t.jsx("strong",{style:{color:"#1976d2",fontSize:"16px"},children:"Your Pricing Model:"})}),t.jsxs("div",{style:{padding:"8px 20px",borderRadius:"20px",fontSize:"15px",fontWeight:"600",background:me.pricingModel==="free"?"#e8f5e9":me.pricingModel==="reduced"?"#fff3e0":"#e3f2fd",color:me.pricingModel==="free"?"#2e7d32":me.pricingModel==="reduced"?"#e65100":"#1976d2"},children:[me.pricingModel==="free"&&" Free + Ads",me.pricingModel==="reduced"&&` Reduced Rate (${me.discountPercentage}% off)`,me.pricingModel==="full"&&" Full Rate"]})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",color:"white"},children:[t.jsxs("div",{style:{fontSize:"0.9rem",opacity:.9},children:["Cost (",Fe?"This Month":"Total",")"]}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginTop:"0.5rem"},children:[me.symbol,me.displayCost?.toFixed(2)||"0.00"]}),Fe&&t.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:[me.monthlyAppointments||0," appts (this month)"]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f5576c 0%, #f093fb 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Pending Payment"}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginTop:"0.5rem"},children:[me.symbol,ft.pendingAmount.toFixed(2)]}),t.jsx("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:"Amount due"}),t.jsx("div",{style:{marginTop:"1rem"},children:t.jsx("button",{onClick:ke,style:{...ee.button,...ee.primaryButton},children:"Pay Now"})})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #38ef7d 0%, #11998e 100%)",borderRadius:"10px",color:"white"},children:[t.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Already Paid"}),t.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginTop:"0.5rem"},children:[me.symbol,ft.totalPaid.toFixed(2)]}),t.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"0.5rem"},children:[ft.paymentHistory.length," payment",ft.paymentHistory.length!==1?"s":""]})]})]}),t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" Cost Breakdown"}),t.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"white",borderRadius:"8px"},children:[t.jsxs("span",{children:["Appointments (",ft.totalAppointments,")"]}),t.jsxs("span",{style:{fontWeight:"600"},children:[me.symbol,ft.appointmentCost.toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"white",borderRadius:"8px"},children:[t.jsxs("span",{children:["Prescriptions (",ft.totalPrescriptions,")"]}),t.jsxs("span",{style:{fontWeight:"600"},children:[me.symbol,ft.prescriptionCost.toFixed(2)]})]})]}),t.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px solid #ddd"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#666",marginBottom:"0.5rem"},children:[t.jsx("span",{children:"Rate per Appointment:"}),t.jsxs("span",{children:[me.symbol,me.rates?.appointmentCost||0]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#666"},children:[t.jsx("span",{children:"Rate per Prescription:"}),t.jsxs("span",{children:[me.symbol,me.rates?.prescriptionCost||0]})]})]})]}),ft.paymentHistory.length>0&&t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" Payment History"}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:ft.paymentHistory.map(v=>t.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"8px",marginBottom:"0.75rem",borderLeft:`4px solid ${v.status==="completed"?"#4caf50":v.status==="pending"?"#ff9800":"#f44336"}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsxs("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:[me.symbol,v.amount.toFixed(2)]}),t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600",background:v.status==="completed"?"#e8f5e9":v.status==="pending"?"#fff3e0":"#ffebee",color:v.status==="completed"?"#2e7d32":v.status==="pending"?"#e65100":"#c62828"},children:v.status.toUpperCase()})]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[t.jsxs("div",{children:["Method: ",v.paymentMethod]}),t.jsxs("div",{children:["Date: ",new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),v.description&&t.jsxs("div",{children:["Note: ",v.description]})]})]},v.id))})]}),t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[t.jsx("h3",{style:{marginTop:0,color:"#333"},children:" How to Pay for App Usage"}),me.countryInstructions?.[me.country]&&t.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",color:"#1976d2"},children:[t.jsxs("strong",{children:[" For ",me.country," users:"]})," ",me.countryInstructions[me.country]]}),me.paymentDetails?.wise?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"3px solid #00d09c"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#00d09c",fontSize:"1.2rem"},children:"Wise Transfer (Recommended - Lowest Fees)"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:me.paymentDetails.wise.instructions}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Wise Email:"})," ",t.jsx("span",{style:{color:"#00d09c",fontFamily:"monospace",fontSize:"1.1rem"},children:me.paymentDetails.wise.email})]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Account Name:"})," ",me.paymentDetails.wise.accountName]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"IBAN:"})," ",t.jsx("span",{style:{fontFamily:"monospace"},children:me.paymentDetails.wise.iban})]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Sort Code:"})," ",me.paymentDetails.wise.sortCode]}),t.jsxs("div",{children:[t.jsx("strong",{children:"SWIFT:"})," ",me.paymentDetails.wise.swift]})]})]}),(me.country==="India"||me.country==="IN")&&me.paymentDetails?.upi?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"3px solid #667eea"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#667eea",fontSize:"1.2rem"},children:"UPI Payment"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:me.paymentDetails.upi.instructions}),t.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"UPI ID:"})," ",t.jsx("span",{style:{color:"#667eea",fontFamily:"monospace",fontSize:"1.2rem"},children:me.paymentDetails.upi.upiId})]})})]}),me.paymentDetails?.paypal?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"2px solid #0070ba"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#0070ba",fontSize:"1.2rem"},children:"PayPal"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:me.paymentDetails.paypal.instructions}),t.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:t.jsxs("div",{children:[t.jsx("strong",{children:"PayPal Email:"})," ",t.jsx("span",{style:{color:"#0070ba",fontFamily:"monospace",fontSize:"1.1rem"},children:me.paymentDetails.paypal.email})]})})]}),me.paymentDetails?.bankTransfer?.enabled&&t.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"white",borderRadius:"10px",border:"2px solid #607d8b"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("strong",{style:{color:"#607d8b",fontSize:"1.2rem"},children:"Bank Transfer"})]}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:me.paymentDetails.bankTransfer.instructions}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Account Name:"})," ",me.paymentDetails.bankTransfer.accountName]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Bank:"})," ",me.paymentDetails.bankTransfer.bankName]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Account Number:"})," ",t.jsx("span",{style:{fontFamily:"monospace"},children:me.paymentDetails.bankTransfer.accountNumber})]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"Sort Code:"})," ",me.paymentDetails.bankTransfer.sortCode]}),t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:"IBAN:"})," ",t.jsx("span",{style:{fontFamily:"monospace"},children:me.paymentDetails.bankTransfer.iban})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"SWIFT:"})," ",me.paymentDetails.bankTransfer.swift]})]})]}),!me.paymentDetails?.wise?.enabled&&!me.paymentDetails?.upi?.enabled&&!me.paymentDetails?.paypal?.enabled&&!me.paymentDetails?.bankTransfer?.enabled&&t.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"white",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("h3",{style:{color:"#ff9800"},children:"Payment Details Not Configured"}),t.jsx("p",{style:{color:"#666"},children:"Please contact admin to set up payment methods."})]})]}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#fff3e0",borderRadius:"8px",border:"2px solid #ff9800"},children:[t.jsx("strong",{style:{color:"#e65100"},children:" IMPORTANT:"}),t.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#e65100"},children:["Always include your Hospital ID (",t.jsx("strong",{children:s?.hospitalId}),") as reference/note in your payment!"]})]}),t.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:"1.5rem"},children:t.jsx("div",{style:{width:"220px",height:"220px",margin:"0 auto",overflow:"hidden",borderRadius:"8px"},children:t.jsx("img",{src:Tt||di,alt:"billing-qr",style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",display:"block"},onClick:()=>Gn(!0)})})}),sn&&t.jsx("div",{onClick:()=>Gn(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:t.jsx("img",{src:Tt||di,alt:"billing-qr-large",style:{maxWidth:"90%",maxHeight:"90%",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",background:"white",padding:"12px",borderRadius:"8px"}})})]}):t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"Loading billing data..."})]})]}),c==="overview"&&t.jsxs("div",{style:ee.card,children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Quick Overview"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#667eea"},children:" Doctor Summary"}),t.jsxs("p",{children:["Total Doctors: ",t.jsx("strong",{children:j.totalDoctors||0})]}),t.jsxs("p",{children:["Active Doctors: ",t.jsx("strong",{children:j.activeDoctors||0})]}),t.jsxs("p",{children:["Inactive Doctors: ",t.jsx("strong",{children:(j.totalDoctors||0)-(j.activeDoctors||0)})]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsxs("h3",{style:{marginTop:0,color:"#38ef7d",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx(nn,{size:18}),"Appointments"]}),t.jsxs("p",{children:["Today: ",t.jsx("strong",{children:j.todayAppointments||0})]}),t.jsxs("p",{children:["Total: ",t.jsx("strong",{children:j.totalAppointments||0})]}),t.jsxs("p",{children:["Completed: ",t.jsx("strong",{children:j.completedAppointments||0})]}),t.jsxs("p",{children:["Pending: ",t.jsx("strong",{children:j.pendingAppointments||0})]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"10px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#fa709a"},children:" Status Breakdown"}),t.jsxs("p",{children:["Confirmed: ",t.jsx("strong",{children:j.confirmedAppointments||0})]}),t.jsxs("p",{children:["Cancelled: ",t.jsx("strong",{children:j.cancelledAppointments||0})]}),t.jsxs("p",{children:["Completion Rate: ",t.jsxs("strong",{children:[j.totalAppointments?Math.round(j.completedAppointments/j.totalAppointments*100):0,"%"]})]})]})]})]}),c==="patients"&&t.jsxs("div",{style:ee.card,children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Hospital Patients"}),t.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Search and view all patients who have visited your hospital across all doctors"}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[t.jsx("input",{type:"text",placeholder:"Search by patient name or booking number...",value:le,onChange:v=>oe(v.target.value),onKeyPress:v=>v.key==="Enter"&&on(),style:{...ee.input,flex:1}}),t.jsx("button",{onClick:on,disabled:ht,style:{...ee.button,...ee.primaryButton,minWidth:"0"},children:ht?" Searching...":" Search"})]}),B.length>0&&t.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"10px",padding:"1rem",maxHeight:"400px",overflowY:"auto"},children:[t.jsxs("h4",{style:{marginTop:0,color:"#333"},children:["Found ",B.length," patient",B.length!==1?"s":""]}),t.jsx("div",{style:{display:"grid",gap:"1rem"},children:B.map(v=>t.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"8px",border:"2px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"600",fontSize:"1.1rem",marginBottom:"0.5rem"},children:[" ",v.name]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",lineHeight:"1.6"},children:[t.jsxs("div",{children:[" ",v.phone]}),t.jsxs("div",{children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:14})})," Last Visit: ",v.lastAppointment]}),t.jsxs("div",{children:[" Last Seen by: Dr. ",v.lastDoctorName]}),t.jsxs("div",{children:[" Total Visits: ",v.totalAppointments]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[t.jsx("button",{onClick:()=>_a(v.id),style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",whiteSpace:"nowrap"},children:" View Full History"}),t.jsx("button",{onClick:()=>ga(v),style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #f5576c 0%, #fa709a 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",whiteSpace:"nowrap"},children:" Transfer Records"})]})]},v.id))})]})]}),B.length===0&&!ht&&t.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"#f8f9fa",borderRadius:"10px",color:"#666"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("h3",{style:{marginTop:0,color:"#333"},children:"Search for Patients"}),t.jsx("p",{children:"Enter a patient name or booking number to view their complete medical history across all your doctors."}),t.jsxs("p",{style:{marginTop:"1rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px"},children:[t.jsx("strong",{children:" Use Cases:"}),t.jsx("br",{})," View patient history when doctor is unavailable",t.jsx("br",{})," Transfer records when doctor leaves the hospital",t.jsx("br",{})," Access complete patient data across all departments"]})]})]}),c==="analytics"&&t.jsxs("div",{style:ee.card,children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Analytics & Reports"}),t.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{children:"Advanced analytics coming soon!"}),t.jsx("p",{children:"View detailed reports, charts, and insights about your hospital performance."})]})]}),c==="settings"&&t.jsxs("div",{style:ee.card,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" Hospital Settings"}),t.jsx("button",{onClick:Ni,style:{...ee.button,...ee.primaryButton},children:" Edit Profile"})]}),t.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#667eea",marginBottom:"1rem"},children:" Hospital Information"}),t.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"Hospital Name"}),t.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"500",color:"#444"},children:s?.displayName||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"Email"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600"},children:r?.email||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"Phone"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600"},children:s?.phone||"Not set"})]})]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px"},children:[t.jsx("h3",{style:{marginTop:0,color:"#38ef7d",marginBottom:"1rem"},children:" Address Information"}),t.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"Country"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600"},children:s?.country||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"State/Province"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600"},children:s?.state||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"City"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600"},children:s?.city||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.25rem"},children:"Address"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600"},children:s?.address||"Not set"})]})]})]}),t.jsxs("div",{style:{padding:"1.5rem",background:"#e8f5e9",borderRadius:"12px",border:"2px solid #4caf50"},children:[t.jsx("h3",{style:{marginTop:0,color:"#2e7d32",marginBottom:"1rem"},children:" Account Status"}),t.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{style:{fontSize:"1.2rem"},children:""}),t.jsx("span",{children:"Account Active"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{style:{fontSize:"1.2rem"},children:""}),t.jsx("span",{children:"Profile Verified"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{style:{fontSize:"1.2rem"},children:""}),t.jsxs("span",{children:["Hospital ID: ",s?.hospitalId||"Not set"]})]})]})]})]})]}),lt&&t.jsx("div",{style:ee.modal,onClick:()=>Ge(!1),children:t.jsxs("div",{style:ee.modalContent,onClick:v=>v.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:"Add New Doctor"}),t.jsxs("form",{onSubmit:vt,children:[t.jsx("input",{type:"text",placeholder:"Full Name *",value:Nt.displayName,onChange:v=>gn({...Nt,displayName:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"email",placeholder:"Email (optional)",value:Nt.email,onChange:v=>gn({...Nt,email:v.target.value}),style:ee.input}),t.jsx("input",{type:"text",placeholder:"Specialization *",value:Nt.specialization,onChange:v=>gn({...Nt,specialization:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"number",placeholder:"Consultation Fee *",value:Nt.consultationFee,onChange:v=>gn({...Nt,consultationFee:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"tel",placeholder:"Phone Number *",value:Nt.phone,onChange:v=>gn({...Nt,phone:v.target.value}),style:ee.input,required:!0}),t.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[t.jsx("button",{type:"submit",style:{...ee.button,...ee.primaryButton,flex:1},children:"Add Doctor"}),t.jsx("button",{type:"button",onClick:()=>Ge(!1),style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),Rt&&we&&t.jsx("div",{style:ee.modal,onClick:()=>We(!1),children:t.jsxs("div",{style:ee.modalContent,onClick:v=>v.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:"Edit Doctor"}),t.jsxs("form",{onSubmit:Wn,children:[t.jsx("input",{type:"text",placeholder:"Full Name *",value:we.displayName,onChange:v=>xe({...we,displayName:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"text",placeholder:"Specialization *",value:we.specialization,onChange:v=>xe({...we,specialization:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"number",placeholder:"Consultation Fee *",value:we.consultationFee,onChange:v=>xe({...we,consultationFee:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"tel",placeholder:"Phone Number *",value:we.phone,onChange:v=>xe({...we,phone:v.target.value}),style:ee.input,required:!0}),t.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[t.jsx("button",{type:"submit",style:{...ee.button,...ee.primaryButton,flex:1},children:"Save Changes"}),t.jsx("button",{type:"button",onClick:()=>We(!1),style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),be&&re&&t.jsx("div",{style:ee.modal,onClick:()=>Ze(!1),children:t.jsxs("div",{style:ee.modalContent,onClick:v=>v.stopPropagation(),children:[t.jsxs("h2",{style:{marginTop:0,color:"#333"},children:["Manage Availability - ",re.displayName]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Working Hours"}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("input",{type:"time",value:Le.workingHours?.start||"09:00",onChange:v=>Ie({...Le,workingHours:{...Le.workingHours,start:v.target.value}}),style:{...ee.input,marginBottom:0}}),t.jsx("input",{type:"time",value:Le.workingHours?.end||"17:00",onChange:v=>Ie({...Le,workingHours:{...Le.workingHours,end:v.target.value}}),style:{...ee.input,marginBottom:0}})]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Slot Duration (minutes)"}),t.jsxs("select",{value:Le.slotDuration||30,onChange:v=>Ie({...Le,slotDuration:parseInt(v.target.value)}),style:ee.input,children:[t.jsx("option",{value:15,children:"15 minutes"}),t.jsx("option",{value:30,children:"30 minutes"}),t.jsx("option",{value:45,children:"45 minutes"}),t.jsx("option",{value:60,children:"60 minutes"})]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Working Days"}),t.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((v,ae)=>{const Pe=ae+1,Ot=Le.workingDays?.includes(Pe);return t.jsx("button",{type:"button",onClick:()=>{const Zt=Le.workingDays||[],qt=Ot?Zt.filter(Ct=>Ct!==Pe):[...Zt,Pe];Ie({...Le,workingDays:qt})},style:{...ee.button,background:Ot?"#667eea":"#e0e0e0",color:Ot?"white":"#666"},children:v},v)})})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[t.jsx("button",{type:"button",onClick:Kn,style:{...ee.button,...ee.primaryButton,flex:1},children:"Save Availability"}),t.jsx("button",{type:"button",onClick:()=>Ze(!1),style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})}),Et&&Dt&&t.jsx("div",{style:ee.modal,onClick:()=>Cn(!1),children:t.jsxs("div",{style:{...ee.modalContent,maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},onClick:v=>v.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333",borderBottom:"2px solid #667eea",paddingBottom:"1rem"},children:" Add Prescription"}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #e0e0e0"},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#333"},children:"Patient Information"}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",lineHeight:"1.6"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",Dt.patientName]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",Dt.patientPhone]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Date:"})," ",Dt.appointmentDate," at ",Dt.appointmentTime]})]})]}),t.jsxs("form",{onSubmit:Qe,children:[t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Diagnosis *"}),t.jsx("textarea",{placeholder:"Enter diagnosis...",value:xt.diagnosis,onChange:v=>k({...xt,diagnosis:v.target.value}),style:{...ee.input,minHeight:"80px",resize:"vertical"},required:!0})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#333"},children:"Medications *"}),t.jsx("button",{type:"button",onClick:Ne,style:{padding:"0.4rem 0.8rem",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem"},children:"+ Add Medicine"})]}),xt.medications.map((v,ae)=>t.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",marginBottom:"0.75rem",border:"1px solid #e0e0e0"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[t.jsx("input",{type:"text",placeholder:"Medicine Name *",value:v.name,onChange:Pe=>Kt(ae,"name",Pe.target.value),style:{...ee.input,gridColumn:"1 / -1"},required:!0}),t.jsx("input",{type:"text",placeholder:"Dosage (e.g., 500mg)",value:v.dosage,onChange:Pe=>Kt(ae,"dosage",Pe.target.value),style:ee.input}),t.jsx("input",{type:"text",placeholder:"Frequency (e.g., 2x daily)",value:v.frequency,onChange:Pe=>Kt(ae,"frequency",Pe.target.value),style:ee.input}),t.jsx("input",{type:"text",placeholder:"Duration (e.g., 7 days)",value:v.duration,onChange:Pe=>Kt(ae,"duration",Pe.target.value),style:ee.input}),xt.medications.length>1&&t.jsx("button",{type:"button",onClick:()=>Si(ae),style:{padding:"0.5rem",background:"#f5576c",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem"},children:"Remove"})]})},ae))]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Tests/Lab Work (if any)"}),t.jsx("textarea",{placeholder:"Enter required tests...",value:xt.tests,onChange:v=>k({...xt,tests:v.target.value}),style:{...ee.input,minHeight:"60px",resize:"vertical"}})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Instructions"}),t.jsx("textarea",{placeholder:"Additional instructions for the patient...",value:xt.instructions,onChange:v=>k({...xt,instructions:v.target.value}),style:{...ee.input,minHeight:"80px",resize:"vertical"}})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Follow-up Date"}),t.jsx("input",{type:"date",value:xt.followUpDate,onChange:v=>k({...xt,followUpDate:v.target.value}),min:new Date().toISOString().split("T")[0],style:ee.input})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[t.jsx("button",{type:"submit",style:{...ee.button,...ee.primaryButton,flex:1},children:" Save Prescription"}),t.jsx("button",{type:"button",onClick:()=>Cn(!1),style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),ct&&t.jsx("div",{style:ee.modal,onClick:()=>wt(!1),children:t.jsxs("div",{style:ee.modalContent,onClick:v=>v.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Transfer Patient Records"}),t.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[t.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:["Patient: ",ce.patientName]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Current Doctor: Dr. ",ce.fromDoctorName]})]}),t.jsxs("form",{onSubmit:Mi,children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Transfer To Doctor: *"}),t.jsxs("select",{value:ce.toDoctorId,onChange:v=>fe({...ce,toDoctorId:v.target.value}),style:{...ee.input,marginBottom:"1rem"},required:!0,children:[t.jsx("option",{value:"",children:"Select a doctor..."}),g.filter(v=>v.uid!==ce.fromDoctorId&&v.isActive).map(v=>t.jsxs("option",{value:v.uid,children:["Dr. ",v.displayName," - ",v.specialization]},v.uid))]}),t.jsxs("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:[t.jsx("strong",{children:" Note:"})," This will transfer all health records and prescriptions from the current doctor to the selected doctor. The original records will be marked as transferred."]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",style:{...ee.button,...ee.primaryButton,flex:1},children:" Transfer Records"}),t.jsx("button",{type:"button",onClick:()=>wt(!1),style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),N&&t.jsx("div",{style:ee.modal,onClick:()=>J(!1),children:t.jsxs("div",{style:ee.modalContent,onClick:v=>v.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Make Payment"}),!1,t.jsxs("div",{style:{background:"#f0f7ff",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"2px solid #2196f3"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{style:{color:"#1976d2"},children:"Total Pending:"}),t.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",marginLeft:"0.5rem",color:"#1976d2"},children:[me?.currency," ",ft.pendingAmount.toFixed(2)]})]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[ft.totalAppointments," appointments + ",ft.totalPrescriptions," prescriptions"]})]}),t.jsxs("form",{onSubmit:Re,children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:["Payment Amount (",me?.currency,") *"]}),t.jsx("input",{type:"number",step:"0.01",min:"0.01",max:ft.pendingAmount,placeholder:`Enter amount (max: ${ft.pendingAmount.toFixed(2)})`,value:Ht,onChange:v=>rn(v.target.value),style:ee.input,required:!0}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("button",{type:"button",onClick:()=>rn((ft.pendingAmount/2).toFixed(2)),style:{padding:"0.5rem",background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",flex:1},children:"50%"}),t.jsx("button",{type:"button",onClick:()=>rn(ft.pendingAmount.toFixed(2)),style:{padding:"0.5rem",background:"#e8f5e9",border:"1px solid #4caf50",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",flex:1},children:"Pay Full"})]}),t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Payment Method *"}),t.jsxs("select",{value:ge,onChange:v=>Te(v.target.value),style:{...ee.input,marginBottom:"1rem"},required:!0,children:[t.jsx("option",{value:"",children:"Select payment method..."}),ne(me?.country||"US").map(v=>t.jsx("option",{value:v,children:v},v))]}),t.jsxs("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:[t.jsx("strong",{children:" Note:"}),' After submitting, your payment will be marked as "pending" and will be verified by the admin. Once verified, it will be marked as "completed" and reflected in your balance.']}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",disabled:ve,style:{...ee.button,...ee.primaryButton,flex:1,opacity:ve?.6:1,cursor:ve?"not-allowed":"pointer"},children:ve?" Processing...":" Submit Payment"}),t.jsx("button",{type:"button",onClick:()=>J(!1),disabled:ve,style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),Ve&&t.jsx("div",{style:ee.modal,onClick:()=>ni(!1),children:t.jsxs("div",{style:ee.modalContent,onClick:v=>v.stopPropagation(),children:[t.jsx("h2",{style:{marginTop:0,color:"#333"},children:" Edit Hospital Profile"}),t.jsxs("form",{onSubmit:Ki,children:[t.jsx("input",{type:"text",placeholder:"Hospital Name *",value:gt.displayName,onChange:v=>Xt({...gt,displayName:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"tel",placeholder:"Phone Number *",value:gt.phone,onChange:v=>Xt({...gt,phone:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"text",placeholder:"Country *",value:gt.country,onChange:v=>Xt({...gt,country:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"text",placeholder:"State/Province *",value:gt.state,onChange:v=>Xt({...gt,state:v.target.value}),style:ee.input,required:!0}),t.jsx("input",{type:"text",placeholder:"City *",value:gt.city,onChange:v=>Xt({...gt,city:v.target.value}),style:ee.input,required:!0}),t.jsx("textarea",{placeholder:"Full Address",value:gt.address,onChange:v=>Xt({...gt,address:v.target.value}),style:{...ee.input,minHeight:"80px",resize:"vertical"}}),t.jsxs("div",{style:{background:"#e3f2fd",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:[t.jsx("strong",{children:" Note:"})," This information will be visible to patients when they book appointments with your hospital's doctors."]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{type:"submit",style:{...ee.button,...ee.primaryButton,flex:1},children:" Save Changes"}),t.jsx("button",{type:"button",onClick:()=>ni(!1),style:{...ee.button,background:"#e0e0e0",flex:1},children:"Cancel"})]})]})]})}),at&&ue&&t.jsx(dh,{patientId:ue,onClose:()=>{he(!1),I(null)},hospitalId:s?.hospitalId,isHospitalView:!0}),t.jsx("style",{children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                @keyframes slideIn {
                    from {
                        transform: translateX(-100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                input:focus, select:focus {
                    outline: none;
                    border-color: #667eea;
                }
                button:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
                button:active {
                    transform: translateY(0);
                }
            `})]})},rx=async()=>(await He(Se(Y,"doctors"))).docs.map(s=>({id:s.id,...s.data()})),sx=async(r,s)=>{const u=`${r}_${s}`,c=Be(Y,"doctor_slots",u),f=await Vt(c);return f.exists()?f.data().slots:[]},dx=async(r,s,u,c)=>(await ic(lc,"createAppointment")({doctorId:r,date:s,time:u,paymentId:c})).data;var Il;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(Il||(Il={}));class Xd extends Error{constructor(s,u,c){super(s),this.message=s,this.code=u,this.data=c}}const cx=r=>{var s,u;return r?.androidBridge?"android":!((u=(s=r?.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||u===void 0)&&u.bridge?"ios":"web"},ux=r=>{const s=r.CapacitorCustomPlatform||null,u=r.Capacitor||{},c=u.Plugins=u.Plugins||{},f=()=>s!==null?s.name:cx(r),g=()=>f()!=="web",x=U=>{const A=j.get(U);return!!(A?.platforms.has(f())||y(U))},y=U=>{var A;return(A=u.PluginHeaders)===null||A===void 0?void 0:A.find(re=>re.name===U)},w=U=>r.console.error(U),j=new Map,C=(U,A={})=>{const re=j.get(U);if(re)return console.warn(`Capacitor plugin "${U}" already registered. Cannot register plugins twice.`),re.proxy;const P=f(),K=y(U);let G;const se=async()=>(!G&&P in A?G=typeof A[P]=="function"?G=await A[P]():G=A[P]:s!==null&&!G&&"web"in A&&(G=typeof A.web=="function"?G=await A.web():G=A.web),G),E=($,ue)=>{var I,at;if(K){const he=K?.methods.find(ct=>ue===ct.name);if(he)return he.rtype==="promise"?ct=>u.nativePromise(U,ue.toString(),ct):(ct,wt)=>u.nativeCallback(U,ue.toString(),ct,wt);if($)return(I=$[ue])===null||I===void 0?void 0:I.bind($)}else{if($)return(at=$[ue])===null||at===void 0?void 0:at.bind($);throw new Xd(`"${U}" plugin is not implemented on ${P}`,Il.Unimplemented)}},le=$=>{let ue;const I=(...at)=>{const he=se().then(ct=>{const wt=E(ct,$);if(wt){const Fe=wt(...at);return ue=Fe?.remove,Fe}else throw new Xd(`"${U}.${$}()" is not implemented on ${P}`,Il.Unimplemented)});return $==="addListener"&&(he.remove=async()=>ue()),he};return I.toString=()=>`${$.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:$,writable:!1,configurable:!1}),I},oe=le("addListener"),B=le("removeListener"),$e=($,ue)=>{const I=oe({eventName:$},ue),at=async()=>{const ct=await I;B({eventName:$,callbackId:ct},ue)},he=new Promise(ct=>I.then(()=>ct({remove:at})));return he.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await at()},he},ht=new Proxy({},{get($,ue){switch(ue){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return K?$e:oe;case"removeListener":return B;default:return le(ue)}}});return c[U]=ht,j.set(U,{name:U,proxy:ht,platforms:new Set([...Object.keys(A),...K?[P]:[]])}),ht};return u.convertFileSrc||(u.convertFileSrc=U=>U),u.getPlatform=f,u.handleError=w,u.isNativePlatform=g,u.isPluginAvailable=x,u.registerPlugin=C,u.Exception=Xd,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u},px=r=>r.Capacitor=ux(r),Wr=px(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rc=Wr.registerPlugin;class sc{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(s,u){let c=!1;this.listeners[s]||(this.listeners[s]=[],c=!0),this.listeners[s].push(u);const g=this.windowListeners[s];g&&!g.registered&&this.addWindowListener(g),c&&this.sendRetainedArgumentsForEvent(s);const x=async()=>this.removeListener(s,u);return Promise.resolve({remove:x})}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,u,c){const f=this.listeners[s];if(!f){if(c){let g=this.retainedEventArguments[s];g||(g=[]),g.push(u),this.retainedEventArguments[s]=g}return}f.forEach(g=>g(u))}hasListeners(s){var u;return!!(!((u=this.listeners[s])===null||u===void 0)&&u.length)}registerWindowListener(s,u){this.windowListeners[u]={registered:!1,windowEventName:s,pluginEventName:u,handler:c=>{this.notifyListeners(u,c)}}}unimplemented(s="not implemented"){return new Wr.Exception(s,Il.Unimplemented)}unavailable(s="not available"){return new Wr.Exception(s,Il.Unavailable)}async removeListener(s,u){const c=this.listeners[s];if(!c)return;const f=c.indexOf(u);this.listeners[s].splice(f,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}sendRetainedArgumentsForEvent(s){const u=this.retainedEventArguments[s];u&&(delete this.retainedEventArguments[s],u.forEach(c=>{this.notifyListeners(s,c)}))}}const Zm=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Jm=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class mx extends sc{async getCookies(){const s=document.cookie,u={};return s.split(";").forEach(c=>{if(c.length<=0)return;let[f,g]=c.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");f=Jm(f).trim(),g=Jm(g).trim(),u[f]=g}),u}async setCookie(s){try{const u=Zm(s.key),c=Zm(s.value),f=`; expires=${(s.expires||"").replace("expires=","")}`,g=(s.path||"/").replace("path=",""),x=s.url!=null&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${u}=${c||""}${f}; path=${g}; ${x};`}catch(u){return Promise.reject(u)}}async deleteCookie(s){try{document.cookie=`${s.key}=; Max-Age=0`}catch(u){return Promise.reject(u)}}async clearCookies(){try{const s=document.cookie.split(";")||[];for(const u of s)document.cookie=u.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(s){return Promise.reject(s)}}async clearAllCookies(){try{await this.clearCookies()}catch(s){return Promise.reject(s)}}}rc("CapacitorCookies",{web:()=>new mx});const hx=async r=>new Promise((s,u)=>{const c=new FileReader;c.onload=()=>{const f=c.result;s(f.indexOf(",")>=0?f.split(",")[1]:f)},c.onerror=f=>u(f),c.readAsDataURL(r)}),fx=(r={})=>{const s=Object.keys(r);return Object.keys(r).map(f=>f.toLocaleLowerCase()).reduce((f,g,x)=>(f[g]=r[s[x]],f),{})},gx=(r,s=!0)=>r?Object.entries(r).reduce((c,f)=>{const[g,x]=f;let y,w;return Array.isArray(x)?(w="",x.forEach(j=>{y=s?encodeURIComponent(j):j,w+=`${g}=${y}&`}),w.slice(0,-1)):(y=s?encodeURIComponent(x):x,w=`${g}=${y}`),`${c}&${w}`},"").substr(1):null,yx=(r,s={})=>{const u=Object.assign({method:r.method||"GET",headers:r.headers},s),f=fx(r.headers)["content-type"]||"";if(typeof r.data=="string")u.body=r.data;else if(f.includes("application/x-www-form-urlencoded")){const g=new URLSearchParams;for(const[x,y]of Object.entries(r.data||{}))g.set(x,y);u.body=g.toString()}else if(f.includes("multipart/form-data")||r.data instanceof FormData){const g=new FormData;if(r.data instanceof FormData)r.data.forEach((y,w)=>{g.append(w,y)});else for(const y of Object.keys(r.data))g.append(y,r.data[y]);u.body=g;const x=new Headers(u.headers);x.delete("content-type"),u.headers=x}else(f.includes("application/json")||typeof r.data=="object")&&(u.body=JSON.stringify(r.data));return u};class xx extends sc{async request(s){const u=yx(s,s.webFetchExtra),c=gx(s.params,s.shouldEncodeUrlParams),f=c?`${s.url}?${c}`:s.url,g=await fetch(f,u),x=g.headers.get("content-type")||"";let{responseType:y="text"}=g.ok?s:{};x.includes("application/json")&&(y="json");let w,j;switch(y){case"arraybuffer":case"blob":j=await g.blob(),w=await hx(j);break;case"json":w=await g.json();break;case"document":case"text":default:w=await g.text()}const C={};return g.headers.forEach((U,A)=>{C[A]=U}),{data:w,headers:C,status:g.status,url:g.url}}async get(s){return this.request(Object.assign(Object.assign({},s),{method:"GET"}))}async post(s){return this.request(Object.assign(Object.assign({},s),{method:"POST"}))}async put(s){return this.request(Object.assign(Object.assign({},s),{method:"PUT"}))}async patch(s){return this.request(Object.assign(Object.assign({},s),{method:"PATCH"}))}async delete(s){return this.request(Object.assign(Object.assign({},s),{method:"DELETE"}))}}rc("CapacitorHttp",{web:()=>new xx});class bx extends sc{constructor(){super()}async echo(s){return console.log("ECHO",s),s}async open(s){return console.log(s),new Promise((u,c)=>{var f,g,x=s;x.handler=function(C){console.log(C.razorpay_payment_id),u({response:C})},x["modal.ondismiss"]=function(){c(JSON.stringify({code:2,description:"Payment Canceled by User"}))};var y=0;x.hasOwnProperty("retry")&&x.retry.enabled===!0&&(y=x.retry.max_count);var w=document.getElementsByTagName("script")[0],j=document.createElement("script");j.id="rzp-jssdk",j.setAttribute("src","https://checkout.razorpay.com/v1/checkout.js"),(f=w.parentNode)===null||f===void 0||f.appendChild(j),j.addEventListener("load",()=>{try{g=new window.Razorpay(x),g.open(),g.on("payment.failed",C=>{var U;y=y-1,y<0&&(console.log(C),(U=w.parentNode)===null||U===void 0||U.removeChild(j),c(C.error))})}catch(C){c({response:C})}})})}}const ph=rc("Checkout",{web:()=>Gr(()=>Promise.resolve().then(()=>vx),void 0).then(r=>new r.CheckoutWeb)}),vx=Object.freeze(Object.defineProperty({__proto__:null,Checkout:ph,CheckoutWeb:bx},Symbol.toStringTag,{value:"Module"})),jx=async(r,s={})=>{console.log("Initializing payment of "+r,s);const u=s?.keyId||void 0||"rzp_test_1234567890";if(Wr.isNativePlatform())try{const c={key:u,amount:Math.round(r*100).toString(),name:"Appointment App",description:"Consultation Fee",prefill:{email:s?.email||"test@example.com",contact:s?.phone||"9999999999"},theme:{color:"#4f46e5"},...s.options},f=await ph.open(c);return console.log(" Native Payment Success:",f),{success:!0,paymentId:f.response.razorpay_payment_id||f.response.payment_id,amount:r,timestamp:new Date().toISOString(),method:"native-razorpay",details:f.response}}catch(c){throw console.error(" Native Payment Failed:",c),new Error(c.message||"Payment failed")}else return console.log(" Using Web Mock Payment"),new Promise((c,f)=>{setTimeout(()=>{console.log(" Web Mock Payment Success"),c({success:!0,paymentId:"pay_web_"+Math.random().toString(36).substr(2,9),amount:r,timestamp:new Date().toISOString(),method:"web-mock"})},1e3)})},Sx=()=>{const{currentUser:r}=Ia(),[s,u]=b.useState([]),[c,f]=b.useState(null),[g,x]=b.useState(!1),[y,w]=b.useState([]),[j,C]=b.useState(new Date().toISOString().split("T")[0]),[U,A]=b.useState(!1);b.useEffect(()=>{re()},[]);const re=async()=>{try{const E=await rx();u(E)}catch(E){console.error(E)}},P=async E=>{f(E),x(!0),await K(E.id,j)},K=async(E,le)=>{A(!0),w([]);try{const oe=await sx(E,le);w(oe||[])}catch(oe){console.error(oe)}A(!1)},G=E=>{const le=E.target.value;C(le),c&&K(c.id,le)},se=async E=>{if(window.confirm(`Book appointment with ${c.name} at ${E.time}? Fees: ${c.consultationFee}`)){A(!0);try{const le=await jx(c.consultationFee,{doctorId:c.id,patientId:r.uid});await dx(c.id,j,E.time,le.paymentId),alert(`Booking Confirmed! Payment ID: ${le.paymentId}`),K(c.id,j)}catch(le){console.error(le),alert("Booking Failed: "+le.message)}A(!1)}};return t.jsx("div",{style:{padding:"1rem"},children:g?t.jsxs("div",{children:[t.jsx("button",{onClick:()=>x(!1),style:{marginBottom:"1rem",background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer"},children:" Back to Doctors"}),t.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-lg)"},children:[t.jsxs("h3",{style:{marginTop:0},children:["Book with ",c.name||c.displayName]}),t.jsxs("label",{style:{display:"block",marginBottom:"1rem"},children:["Select Date:",t.jsx("input",{type:"date",value:j,onChange:G,style:{marginLeft:"0.5rem",padding:"0.5rem"}})]}),U?t.jsx("p",{children:"Loading slots..."}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"0.5rem"},children:y.length===0?t.jsx("p",{children:"No slots available for this date."}):y.map((E,le)=>t.jsx("button",{disabled:E.isBooked,onClick:()=>!E.isBooked&&se(E),style:{padding:"0.75rem",background:E.isBooked?"#e2e8f0":"var(--color-bg-card)",border:E.isBooked?"none":"1px solid var(--color-primary)",color:E.isBooked?"#94a3b8":"var(--color-primary)",cursor:E.isBooked?"not-allowed":"pointer",borderRadius:"var(--radius-md)"},children:E.time},le))})]})]}):t.jsxs("div",{children:[t.jsx("h3",{children:"Available Doctors"}),t.jsx("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))"},children:s.map(E=>t.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-md)",transition:"transform 0.2s"},children:[t.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"var(--color-primary)"},children:E.name||E.displayName}),t.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"var(--color-text-muted)"},children:E.specialization}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[t.jsxs("span",{style:{fontWeight:600},children:["",E.consultationFee]}),t.jsx("button",{onClick:()=>P(E),style:{padding:"0.5rem 1rem",background:"var(--color-secondary)",color:"white",border:"none",borderRadius:"var(--radius-full)"},children:"Book Now"})]}),E.hospitalName&&t.jsxs("div",{style:{fontSize:"0.8rem",marginTop:"0.5rem",color:"#888"},children:["@",E.hospitalName]})]},E.id))})]})})},wx=({showNotification:r})=>{const[s,u]=b.useState(!1),[c,f]=b.useState(null),[g,x]=b.useState([]),[y,w]=b.useState("all"),[j,C]=b.useState("");b.useEffect(()=>{U()},[]);const U=async()=>{try{u(!0);const G=Be(Y,"config","ads"),se=await Vt(G);se.exists()?f(se.data()):f({enabled:!1,adProvider:"google",googleAdSenseId:"",bookingPageAdsEnabled:!1,adPlacements:{bookingPage:!1,doctorDashboard:!1,hospitalDashboard:!1}});const E=Se(Y,"users"),le=Ae(E,de("role","==","doctor")),oe=Ae(E,de("role","==","hospital")),[B,$e]=await Promise.all([He(le),He(oe)]),ht=[];B.forEach($=>{const ue=$.data();ht.push({id:$.id,...ue,type:"doctor",adsEnabled:ue.adsEnabled||!1,pricingModel:ue.pricingModel||"full",discountPercentage:ue.discountPercentage||0})}),$e.forEach($=>{const ue=$.data();ht.push({id:$.id,...ue,type:"hospital",adsEnabled:ue.adsEnabled||!1,pricingModel:ue.pricingModel||"full",discountPercentage:ue.discountPercentage||0})}),x(ht)}catch(G){console.error("Error loading ads data:",G),r?.("Error loading ads configuration","error")}finally{u(!1)}},A=async()=>{try{u(!0);const G=Be(Y,"config","ads");await Ft(G,c),r?.("Global ad configuration saved successfully","success")}catch(G){console.error("Error saving config:",G),r?.("Error saving configuration","error")}finally{u(!1)}},re=async(G,se)=>{try{const E=Be(Y,"users",G);await Ft(E,{adsEnabled:!se}),x(le=>le.map(oe=>oe.id===G?{...oe,adsEnabled:!se}:oe)),r?.("Ad settings updated","success")}catch(E){console.error("Error updating entity ads:",E),r?.("Error updating ad settings","error")}},P=async(G,se,E=0)=>{try{const le=Be(Y,"users",G);await Ft(le,{pricingModel:se,discountPercentage:se==="reduced"?E:0}),x(oe=>oe.map(B=>B.id===G?{...B,pricingModel:se,discountPercentage:E}:B)),r?.("Pricing model updated","success")}catch(le){console.error("Error updating pricing:",le),r?.("Error updating pricing model","error")}},K=g.filter(G=>y==="doctors"?G.type==="doctor":y==="hospitals"?G.type==="hospital":!0).filter(G=>{if(!j)return!0;const se=j.toLowerCase();return G.name?.toLowerCase().includes(se)||G.email?.toLowerCase().includes(se)});return s&&!c?t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading ads configuration..."}):t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("h2",{style:{marginBottom:"10px"},children:" Ads Management"}),t.jsx("p",{style:{color:"#666",marginBottom:"30px"},children:"Configure ads to monetize your platform. Providers use the app for free, and ads generate revenue for you."}),t.jsxs("div",{style:{background:"white",borderRadius:"10px",padding:"20px",marginBottom:"30px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[t.jsx("h3",{style:{marginTop:0},children:" Global Ad Settings"}),t.jsxs("div",{style:{display:"grid",gap:"20px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:c?.enabled||!1,onChange:G=>f({...c,enabled:G.target.checked}),style:{width:"20px",height:"20px",marginRight:"10px"}}),t.jsx("span",{style:{fontSize:"16px",fontWeight:"500"},children:"Enable Ads System Globally"})]}),t.jsx("div",{style:{padding:"6px 12px",background:"#e3f2fd",borderRadius:"20px",fontSize:"13px",color:"#1976d2",fontWeight:"500"},children:"100% Revenue to Platform"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Google AdSense Publisher ID"}),t.jsx("input",{type:"text",placeholder:"ca-pub-xxxxxxxxxxxxxxxx",value:c?.googleAdSenseId||"",onChange:G=>f({...c,googleAdSenseId:G.target.value}),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px"}}),t.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Get this from your Google AdSense account"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:" Revenue Model Options"}),t.jsxs("div",{style:{padding:"15px",background:"#f0f7ff",borderRadius:"8px",border:"2px solid #2196f3"},children:[t.jsx("div",{style:{fontSize:"14px",marginBottom:"12px",fontWeight:"600",color:"#1976d2"},children:" Flexible Pricing Options"}),t.jsxs("div",{style:{display:"grid",gap:"10px",fontSize:"13px",color:"#555"},children:[t.jsxs("div",{style:{padding:"10px",background:"white",borderRadius:"6px"},children:[t.jsx("strong",{children:" Full Rate:"})," Providers pay standard app usage fees (no ads)"]}),t.jsxs("div",{style:{padding:"10px",background:"white",borderRadius:"6px"},children:[t.jsx("strong",{children:" Reduced Rate:"})," Providers pay discounted fees + see ads in dashboard"]}),t.jsxs("div",{style:{padding:"10px",background:"white",borderRadius:"6px"},children:[t.jsx("strong",{children:" Free with Ads:"})," Providers pay nothing but see ads in dashboard (you make money from ads)"]})]}),t.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"#fff3cd",borderRadius:"6px",fontSize:"12px",color:"#856404"},children:[t.jsx("strong",{children:"Note:"})," Configure each provider's pricing model individually below. Booking page ads are shown to patients regardless of provider's pricing model."]})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"500"},children:" Ad Placement Locations"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[t.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"2px solid #dee2e6"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"8px"},children:[t.jsx("input",{type:"checkbox",checked:c?.adPlacements?.bookingPage||!1,onChange:G=>f({...c,adPlacements:{...c?.adPlacements,bookingPage:G.target.checked}}),style:{width:"18px",height:"18px",marginRight:"10px"}}),t.jsx("span",{style:{fontWeight:"600",fontSize:"15px"},children:" Booking Page (Global - All Users)"})]}),t.jsx("div",{style:{fontSize:"13px",color:"#666",paddingLeft:"28px"},children:"Shows ads on the appointment booking page for all patients"})]}),t.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"2px solid #dee2e6"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"8px"},children:[t.jsx("input",{type:"checkbox",checked:c?.adPlacements?.doctorDashboard||!1,onChange:G=>f({...c,adPlacements:{...c?.adPlacements,doctorDashboard:G.target.checked}}),style:{width:"18px",height:"18px",marginRight:"10px"}}),t.jsx("span",{style:{fontWeight:"600",fontSize:"15px"},children:" Doctor Dashboards (Individual Control Below)"})]}),t.jsx("div",{style:{fontSize:"13px",color:"#666",paddingLeft:"28px"},children:"Enable this to allow ads on doctor dashboards (control per-doctor below)"})]}),t.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"2px solid #dee2e6"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"8px"},children:[t.jsx("input",{type:"checkbox",checked:c?.adPlacements?.hospitalDashboard||!1,onChange:G=>f({...c,adPlacements:{...c?.adPlacements,hospitalDashboard:G.target.checked}}),style:{width:"18px",height:"18px",marginRight:"10px"}}),t.jsx("span",{style:{fontWeight:"600",fontSize:"15px"},children:" Hospital Dashboards (Individual Control Below)"})]}),t.jsx("div",{style:{fontSize:"13px",color:"#666",paddingLeft:"28px"},children:"Enable this to allow ads on hospital dashboards (control per-hospital below)"})]})]})]}),t.jsx("button",{onClick:A,disabled:s,style:{padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:s?"not-allowed":"pointer",width:"fit-content"},children:s?"Saving...":"Save Global Settings"})]})]}),t.jsxs("div",{style:{background:"white",borderRadius:"10px",padding:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[t.jsx("h3",{style:{marginTop:0},children:" Configure Pricing & Ads Per Provider"}),t.jsx("p",{style:{color:"#666",fontSize:"14px",marginBottom:"20px"},children:"Set individual pricing models and ad settings for each doctor/hospital. Mix and match based on their preferences."}),t.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:j,onChange:G=>C(G.target.value),style:{flex:1,minWidth:"250px",padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px"}}),t.jsxs("select",{value:y,onChange:G=>w(G.target.value),style:{padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",cursor:"pointer"},children:[t.jsx("option",{value:"all",children:"All Providers"}),t.jsx("option",{value:"doctors",children:"Doctors Only"}),t.jsx("option",{value:"hospitals",children:"Hospitals Only"})]})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Type"}),t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Name"}),t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Email"}),t.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Pricing Model"}),t.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Ads"}),t.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Actions"})]})}),t.jsx("tbody",{children:K.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"6",style:{padding:"20px",textAlign:"center",color:"#666"},children:"No providers found"})}):K.map(G=>t.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[t.jsx("td",{style:{padding:"12px"},children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",background:G.type==="doctor"?"#e3f2fd":"#f3e5f5",color:G.type==="doctor"?"#1976d2":"#7b1fa2"},children:G.type==="doctor"?" Doctor":" Hospital"})}),t.jsx("td",{style:{padding:"12px",fontWeight:"500"},children:G.name||"N/A"}),t.jsx("td",{style:{padding:"12px",color:"#666"},children:G.email||"N/A"}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsxs("select",{value:G.pricingModel||"full",onChange:se=>{const E=se.target.value;if(E==="reduced"){const le=prompt("Enter discount percentage (0-100):",G.discountPercentage||"50");le!==null&&P(G.id,E,parseInt(le)||50)}else P(G.id,E)},style:{padding:"6px 12px",borderRadius:"6px",border:"2px solid #ddd",fontSize:"13px",fontWeight:"600",cursor:"pointer",background:G.pricingModel==="free"?"#e8f5e9":G.pricingModel==="reduced"?"#fff3e0":"#e3f2fd",color:G.pricingModel==="free"?"#2e7d32":G.pricingModel==="reduced"?"#e65100":"#1976d2"},children:[t.jsx("option",{value:"full",children:" Full Rate"}),t.jsxs("option",{value:"reduced",children:[" Reduced (",G.discountPercentage||0,"% off)"]}),t.jsx("option",{value:"free",children:" Free + Ads"})]})}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",background:G.adsEnabled?"#c8e6c9":"#ffcdd2",color:G.adsEnabled?"#2e7d32":"#c62828"},children:G.adsEnabled?" ON":" OFF"})}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsx("button",{onClick:()=>re(G.id,G.adsEnabled),style:{padding:"6px 16px",background:G.adsEnabled?"#f44336":"#4caf50",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:G.adsEnabled?"Disable Ads":"Enable Ads"})})]},G.id))})]})})]}),t.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#e8f5e9",borderRadius:"8px",border:"1px solid #4caf50"},children:[t.jsx("h4",{style:{marginTop:0,color:"#2e7d32"},children:" How Pricing Models Work"}),t.jsxs("div",{style:{display:"grid",gap:"15px",marginBottom:0},children:[t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#1976d2",marginBottom:"5px"},children:" Full Rate (No Ads)"}),t.jsxs("div",{style:{fontSize:"13px",color:"#555"},children:[" Provider pays ",t.jsx("strong",{children:"100% of app usage fees"}),t.jsx("br",{})," No ads shown in their dashboard",t.jsx("br",{})," Premium experience",t.jsx("br",{})," Calculated: appointments  rate + prescriptions  rate"]})]}),t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#e65100",marginBottom:"5px"},children:" Reduced Rate (With Ads)"}),t.jsxs("div",{style:{fontSize:"13px",color:"#555"},children:[" Provider pays ",t.jsx("strong",{children:"discounted fees"})," (you set %)",t.jsx("br",{})," Ads shown in their dashboard (you make money from ads)",t.jsx("br",{})," Win-win: Lower cost for them, ad revenue for you",t.jsx("br",{})," Calculated: (appointments  rate + prescriptions  rate)  (1 - discount%)"]})]}),t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#2e7d32",marginBottom:"5px"},children:" Free + Ads"}),t.jsxs("div",{style:{fontSize:"13px",color:"#555"},children:[" Provider pays ",t.jsx("strong",{children:"$0"})," app usage fees",t.jsx("br",{})," Ads shown in their dashboard (you make money from ads only)",t.jsx("br",{})," Great for small clinics or new sign-ups",t.jsx("br",{})," Calculated: $0 cost to provider, 100% ad revenue to you"]})]})]})]}),t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107"},children:[t.jsx("h4",{style:{marginTop:0,color:"#856404"},children:" Configuration Steps"}),t.jsxs("ol",{style:{marginBottom:0,color:"#856404",lineHeight:"1.8",fontSize:"14px"},children:[t.jsxs("li",{children:["Create a Google AdSense account at ",t.jsx("a",{href:"https://www.google.com/adsense",target:"_blank",rel:"noopener noreferrer",children:"google.com/adsense"})]}),t.jsx("li",{children:'Get your Publisher ID (starts with "ca-pub-")'}),t.jsx("li",{children:"Add the AdSense code to your website's HTML head section"}),t.jsx("li",{children:"Enable ads globally and configure placements above"}),t.jsx("li",{children:"For each provider, choose their pricing model:"}),t.jsxs("ul",{style:{marginTop:"5px",marginBottom:"5px"},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Full Rate:"})," Disable ads, they pay full price"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Reduced Rate:"})," Enable ads, set discount %, they pay less"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Free + Ads:"})," Enable ads, they pay nothing"]})]}),t.jsx("li",{children:"Booking page ads will show to all patients regardless of pricing model"})]})]})]})},Cx=()=>{const[r,s]=b.useState("overview"),[u,c]=b.useState(!1),[f,g]=b.useState(""),[x,y]=b.useState(null),[w,j]=b.useState(!1),[C,U]=b.useState({rates:{INR:{currency:"INR",symbol:"",appointmentCost:500,prescriptionCost:200},GBP:{currency:"GBP",symbol:"",appointmentCost:5,prescriptionCost:2}}}),[A,re]=b.useState([]),[P,K]=b.useState([]),[G,se]=b.useState([]),[E,le]=b.useState([]),[oe,B]=b.useState(""),[$e,ht]=b.useState([]),[$,ue]=b.useState([]),[I,at]=b.useState(!1),[he,ct]=b.useState(null),[wt,Fe]=b.useState(!1),[W,ce]=b.useState(""),[fe,lt]=b.useState(""),[Ge,Rt]=b.useState("all"),[We,be]=b.useState("all"),[Ze,_t]=b.useState(null),[kt,Et]=b.useState({appointmentCost:"",prescriptionCost:""}),[Cn,Dt]=b.useState(!1),[an,Nt]=b.useState(""),[gn,xt]=b.useState(!1),[k,we]=b.useState(null);b.useEffect(()=>{const D=window.matchMedia("(max-width: 480px)"),O=q=>j(q.matches);return j(D.matches),D.addEventListener?D.addEventListener("change",O):D.addListener(O),()=>{D.removeEventListener?D.removeEventListener("change",O):D.removeListener(O)}},[]);const[xe,Le]=b.useState(!1),[Ie,An]=b.useState(null),[qn,me]=b.useState(!1);b.useEffect(()=>{const D=new Date,O=D.getFullYear(),q=String(D.getMonth()+1).padStart(2,"0");B(`${O}-${q}`)},[]),b.useEffect(()=>{(async()=>{try{await ki(),await Mt()}catch(O){console.error("Error initializing dashboard:",O),g("Failed to initialize dashboard. Please refresh the page.")}})()},[]),b.useEffect(()=>{if(oe&&r==="payments")try{Gn()}catch(D){console.error("Error calculating payments:",D)}},[oe,r]),b.useEffect(()=>{r==="payment-requests"&&Ht()},[r]),b.useEffect(()=>{if(x){const D=setTimeout(()=>y(null),3e3);return()=>clearTimeout(D)}},[x]);const yn=(D,O="success")=>{y({message:D,type:O})},ki=async()=>{try{const D=Be(Y,"config","billing"),O=await Vt(D);O.exists()&&U(O.data())}catch(D){console.error("Error loading config:",D)}},Mt=async()=>{c(!0);try{await Promise.all([Qt(),Vn(),ft(),Qn()])}catch(D){console.error("Error loading data:",D),g("Failed to load data. Please refresh.")}finally{c(!1)}},Qt=async()=>{try{const D=Se(Y,"users"),O=Ae(D,de("role","==","doctor")),q=await He(O),ne=[];q.forEach(Re=>{const ke=Re.data();ke.hospitalId||ne.push({id:Re.id,uid:Re.id,...ke})}),console.log(" Individual Doctors loaded:",ne.length),re(ne)}catch(D){console.error("Error loading individual doctors:",D)}},Vn=async()=>{try{const D=Se(Y,"hospitals"),O=await He(D),q=[];O.forEach(Re=>{q.push({id:Re.id,...Re.data()})});const ne=Se(Y,"users");for(const Re of q){const ke=Ae(ne,de("role","==","doctor"),de("hospitalId","==",Re.id)),vt=await He(ke);Re.doctorCount=vt.size}console.log(" Hospitals loaded:",q.length),K(q)}catch(D){console.error("Error loading hospitals:",D)}},ft=async()=>{try{const D=Se(Y,"appointments"),O=await He(D),q=[];O.forEach(ne=>{const Re={id:ne.id,...ne.data()};q.push(Re)}),console.log("Appointments loaded:",q.length),q.length>0&&console.log("Sample appointment data:",q[0]),se(q)}catch(D){console.error("Error loading appointments:",D)}},Qn=async()=>{try{const D=Se(Y,"prescriptions"),O=await He(D),q=[];O.forEach(ne=>{const Re={id:ne.id,...ne.data()};q.push(Re)}),console.log(" Prescriptions loaded:",q.length),q.length>0&&console.log(" Sample prescription data:",q[0]),le(q)}catch(D){console.error("Error loading prescriptions:",D)}},Ht=async()=>{try{at(!0),console.log(" Loading payment requests...");const D=Se(Y,"payments"),O=await He(D);console.log(" Payment requests snapshot size:",O.size);const q=[];O.forEach(ne=>{const Re={id:ne.id,...ne.data()};console.log("Payment document:",Re),q.push(Re)}),q.sort((ne,Re)=>{const ke=ne.createdAt?new Date(ne.createdAt):new Date(0);return(Re.createdAt?new Date(Re.createdAt):new Date(0))-ke}),console.log(" Payment requests loaded successfully:",q.length),ue(q),at(!1)}catch(D){console.error(" Error loading payment requests:",D),console.error("Error code:",D.code),console.error("Error message:",D.message),ue([]),at(!1),D.code!=="permission-denied"&&D.code!=="not-found"&&yn("Error: "+D.message,"error")}},rn=async()=>{try{c(!0);const D=Be(Y,"config","billing");await Ft(D,{...C,updatedAt:new Date().toISOString()}),alert(" Global configuration updated successfully!")}catch{try{const O=Be(Y,"config","billing");await ti(O,{...C,updatedAt:new Date().toISOString()}),alert(" Global configuration created successfully!")}catch(O){console.error("Error saving config:",O),g("Failed to save configuration.")}}finally{c(!1)}},N=(D,O)=>{_t({...D,type:O}),Et({appointmentCost:D.customRates?.appointmentCost||"",prescriptionCost:D.customRates?.prescriptionCost||""})},J=async()=>{if(Ze)try{c(!0);const D=Ze.type==="doctor"?"users":"hospitals",O=Be(Y,D,Ze.id),q={};kt.appointmentCost&&(q.appointmentCost=parseFloat(kt.appointmentCost)),kt.prescriptionCost&&(q.prescriptionCost=parseFloat(kt.prescriptionCost)),await Ft(O,{customRates:Object.keys(q).length>0?q:null}),Ze.type==="doctor"?await Qt():await Vn(),_t(null),alert(" Custom rates updated successfully!")}catch(D){console.error("Error saving custom rates:",D),g("Failed to save custom rates.")}finally{c(!1)}},ve=async D=>{if(confirm(`Verify payment of ${D.currency} ${D.amount?.toFixed(2)} from ${D.hospitalName||D.doctorName}?`))try{c(!0);const O=Be(Y,"payments",D.id);await Ft(O,{status:"completed",verifiedAt:new Date().toISOString(),verifiedBy:"admin"}),yn(" Payment verified successfully!","success"),await Ht(),(r==="payments"||r==="billing-overview")&&Gn()}catch(O){console.error("Error verifying payment:",O),yn("Failed to verify payment","error")}finally{c(!1)}},je=async D=>{const O=prompt("Enter rejection reason (optional):");if(O!==null)try{c(!0);const q=Be(Y,"payments",D.id);await Ft(q,{status:"failed",rejectedAt:new Date().toISOString(),rejectedBy:"admin",rejectionReason:O||"No reason provided"}),yn(" Payment rejected","success"),await Ht()}catch(q){console.error("Error rejecting payment:",q),yn("Failed to reject payment","error")}finally{c(!1)}},ge=D=>{ct(D),Fe(!0)},Te=(D,O,q)=>{we({entity:D,type:O,...q}),xt(!0)},bt=async()=>{if(!k||k.pending<=0){alert("No pending amount to pay.");return}if(window.confirm(`Mark payment of ${C.currency} ${k.pending.toFixed(2)} as paid for ${k.entity.name||k.entity.displayName}?`))try{c(!0);const O=k.type==="doctor"?"users":"hospitals",q=Be(Y,O,k.entity.id),Re=(k.entity.paidAmount||0)+k.pending;await Ft(q,{paidAmount:Re,lastPaymentDate:new Date().toISOString(),lastPaymentAmount:k.pending}),await fa(Se(Y,"paymentHistory"),{entityType:k.type,entityId:k.entity.id,amount:k.pending,month:oe,paidAt:new Date().toISOString()}),await xn(k.entity,k.type,oe),alert(" Payment marked as paid!"),xt(!1),k.type==="doctor"?await Qt():await Vn(),await ft(),await Qn()}catch(O){console.error(" Error marking payment from modal:",O),console.error("Error details:",O.message,O.code),alert(`Failed to mark payment as paid: ${O.message||"Unknown error"}`),g(`Failed to mark payment as paid: ${O.message||"Unknown error"}`)}finally{c(!1)}},Mn=async()=>{if(!an||!an.includes("@")){alert("Please enter a valid email address");return}if(window.confirm(`Create new admin account for: ${an}?

The user must register with this email first, then you can set their role to admin.`))try{c(!0);const O=Se(Y,"users"),q=Ae(O,de("email","==",an)),ne=await He(q);if(ne.empty){alert(" User not found. The user must register first before being made an admin.");return}const Re=ne.docs[0],ke=Be(Y,"users",Re.id);await Ft(ke,{role:"admin"}),alert(` User ${an} is now an admin!`),Dt(!1),Nt("")}catch(O){console.error("Error creating admin:",O),g(O.message),g("Failed to save custom rates.")}finally{c(!1)}},sn=async(D,O,q)=>{const ne=!O,Re=ne?"enable":"disable";if(console.log(" Toggling provider status:",{providerId:D,currentStatus:O,newStatus:ne,providerType:q}),!!window.confirm(`Are you sure you want to ${Re} this ${q}?

${ne?"They will appear in the booking system.":"They will be hidden from the booking system."}`))try{c(!0);const vt=q==="doctor"?"users":"hospitals",_e=Be(Y,vt,D);console.log(" Updating document:",vt,D),await Ft(_e,{enabled:ne,lastStatusChange:new Date().toISOString()}),console.log(" Successfully updated status"),yn(` ${q==="doctor"?"Doctor":"Hospital"} ${Re}d successfully!`,"success"),q==="doctor"?await Qt():await Vn()}catch(vt){console.error(` Error toggling ${q} status:`,vt),console.error("Error details:",vt.code,vt.message),yn(` Failed to ${Re} ${q}: ${vt.message||"Permission denied"}`,"error")}finally{c(!1)}},Gn=()=>{if(console.log(" Calculating payments for:",oe),!oe||!A||!P||!G||!E){console.log(" Skipping payment calculation - data not ready");return}const D=[];A.forEach(O=>{const q=Tt(O,"doctor",oe);D.push({type:"doctor",entity:O,...q})}),P.forEach(O=>{const q=Tt(O,"hospital",oe);D.push({type:"hospital",entity:O,...q})}),console.log(" Payment data calculated:",D.length),ht(D)},Tt=(D,O,q)=>{console.log(" Calculating billing for:",{type:O,entityId:D.id,entityName:D.name||D.displayName,month:q,totalAppointments:G.length,totalPrescriptions:E.length});const ne=G.filter(Qe=>{const Wn=O==="doctor"?Qe.doctorId===D.uid&&!Qe.hospitalId:Qe.hospitalId===D.id;let yt=Qe.date||Qe.appointmentDate||Qe.createdAt||Qe.timestamp;yt&&typeof yt=="object"&&yt.toDate&&(yt=yt.toDate().toISOString().split("T")[0]),yt&&typeof yt=="string"&&(yt=yt.substring(0,7));const Xn=yt&&yt===q,Kn=Qe.paymentStatus==="paid",Ei=!Qe.paymentStatus||Qe.paymentStatus==="unpaid"||Qe.paymentStatus!=="paid";return console.log("  Checking appointment:",{aptId:Qe.id,doctorId:Qe.doctorId,hospitalId:Qe.hospitalId,date:Qe.date,appointmentDate:Qe.appointmentDate,createdAt:Qe.createdAt,extractedDate:yt,month:q,paymentStatus:Qe.paymentStatus,isPaid:Kn,isUnpaid:Ei,matchesEntity:Wn,matchesMonth:Xn,included:Wn&&Xn&&Ei}),Wn&&Xn&&Ei}),Re=E.filter(Qe=>{const Wn=O==="doctor"?Qe.doctorId===D.uid&&!Qe.hospitalId:Qe.hospitalId===D.id;let yt=Qe.createdAt||Qe.date||Qe.prescriptionDate||Qe.timestamp;yt&&typeof yt=="object"&&yt.toDate&&(yt=yt.toDate().toISOString().split("T")[0]),yt&&typeof yt=="string"&&(yt=yt.substring(0,7));const Xn=yt&&yt===q,Kn=!Qe.paymentStatus||Qe.paymentStatus==="unpaid"||Qe.paymentStatus!=="paid";return console.log("  Checking prescription:",{prescId:Qe.id,doctorId:Qe.doctorId,hospitalId:Qe.hospitalId,createdAt:Qe.createdAt,extractedDate:yt,month:q,paymentStatus:Qe.paymentStatus,matchesEntity:Wn,matchesMonth:Xn,isUnpaid:Kn,included:Wn&&Xn&&Kn}),Wn&&Xn&&Kn});console.log("  Result:",{appointments:ne.length,prescriptions:Re.length});const ke=Pl(D,C);console.log("  Using rates:",ke);const vt=ne.length*(ke.appointmentCost||0),_e=Re.length*(ke.prescriptionCost||0),Ne=vt+_e,Kt=D.paidAmount||0,Si=Ne-Kt;return{appointments:ne.length,prescriptions:Re.length,appointmentRevenue:vt,prescriptionRevenue:_e,totalRevenue:Ne,paid:Kt,pending:Math.max(0,Si),currency:ke.currency,symbol:ke.symbol}},ln=async D=>{if(D.pending<=0){alert("No pending amount to pay.");return}if(window.confirm(`Mark payment of ${C.currency} ${D.pending.toFixed(2)} as paid for ${D.entity.name||D.entity.displayName}?`))try{c(!0);const q=D.type==="doctor"?"users":"hospitals",ne=Be(Y,q,D.entity.id),ke=(D.entity.paidAmount||0)+D.pending;await Ft(ne,{paidAmount:ke,lastPaymentDate:new Date().toISOString(),lastPaymentAmount:D.pending}),await fa(Se(Y,"paymentHistory"),{entityType:D.type,entityId:D.entity.id,amount:D.pending,month:oe,paidAt:new Date().toISOString()}),await xn(D.entity,D.type,oe),alert(" Payment marked as paid!"),D.type==="doctor"?await Qt():await Vn(),await ft(),await Qn()}catch(q){console.error(" Error marking payment:",q),console.error("Error details:",q.message,q.code),alert(`Failed to mark payment as paid: ${q.message||"Unknown error"}`),g(`Failed to mark payment as paid: ${q.message||"Unknown error"}`)}finally{c(!1)}},xn=async(D,O,q)=>{try{console.log(" Marking items as paid for:",{entity:D.name||D.displayName,type:O,month:q});const ne=G.filter(ke=>{const vt=O==="doctor"?ke.doctorId===D.uid&&!ke.hospitalId:ke.hospitalId===D.id;let _e=ke.date||ke.appointmentDate||ke.createdAt||ke.timestamp;return _e&&typeof _e=="object"&&_e.toDate&&(_e=_e.toDate().toISOString().split("T")[0]),_e&&typeof _e=="string"&&(_e=_e.substring(0,7)),vt&&(_e&&_e===q)&&ke.paymentStatus!=="paid"}),Re=E.filter(ke=>{const vt=O==="doctor"?ke.doctorId===D.uid&&!ke.hospitalId:ke.hospitalId===D.id;let _e=ke.createdAt||ke.date||ke.prescriptionDate||ke.timestamp;return _e&&typeof _e=="object"&&_e.toDate&&(_e=_e.toDate().toISOString().split("T")[0]),_e&&typeof _e=="string"&&(_e=_e.substring(0,7)),vt&&(_e&&_e===q)&&ke.paymentStatus!=="paid"});console.log(` Found ${ne.length} appointments and ${Re.length} prescriptions to mark as paid`);for(const ke of ne)try{const vt=Be(Y,"appointments",ke.id);await Ft(vt,{paymentStatus:"paid",paidAt:new Date().toISOString(),paidMonth:q}),console.log(` Marked appointment ${ke.id} as paid`)}catch(vt){console.error(` Error marking appointment ${ke.id} as paid:`,vt)}for(const ke of Re)try{const vt=Be(Y,"prescriptions",ke.id);await Ft(vt,{paymentStatus:"paid",paidAt:new Date().toISOString(),paidMonth:q}),console.log(` Marked prescription ${ke.id} as paid`)}catch(vt){console.error(` Error marking prescription ${ke.id} as paid:`,vt)}console.log(` Marked ${ne.length} appointments and ${Re.length} prescriptions as paid`)}catch(ne){throw console.error("Error marking items as paid:",ne),ne}},Bn=async D=>{try{let O=null,q=null;if(D.doctorId){const ne=Be(Y,"users",D.doctorId),Re=await Vt(ne);Re.exists()&&(O={id:Re.id,...Re.data()})}if(D.hospitalId){const ne=Be(Y,"hospitals",D.hospitalId),Re=await Vt(ne);Re.exists()&&(q={id:Re.id,...Re.data()})}An({...D,doctorInfo:O,hospitalInfo:q}),Le(!0)}catch(O){console.error("Error loading appointment details:",O),yn(" Failed to load appointment details","error")}},Ve=()=>{if(!G||!E)return t.jsx("div",{style:m.loading,children:"Loading overview data..."});const D=G.filter(q=>q.paymentStatus!=="paid"),O=E.filter(q=>q.paymentStatus!=="paid");return t.jsxs("div",{style:m.overview,children:[t.jsx("h2",{children:" System Overview"}),t.jsxs("div",{style:m.statsGrid,children:[t.jsxs("div",{style:m.statCard,children:[t.jsx("div",{style:m.statIcon,children:""}),t.jsx("div",{style:m.statValue,children:A?.length||0}),t.jsx("div",{style:m.statLabel,children:"Individual Doctors"})]}),t.jsxs("div",{style:m.statCard,children:[t.jsx("div",{style:m.statIcon,children:""}),t.jsx("div",{style:m.statValue,children:P?.length||0}),t.jsx("div",{style:m.statLabel,children:"Hospitals"})]}),t.jsxs("div",{style:{...m.statCard,cursor:"pointer"},onClick:()=>s("payments"),children:[t.jsx("div",{style:m.statIcon,children:t.jsx(nn,{size:20})}),t.jsx("div",{style:m.statValue,children:G?.length||0}),t.jsx("div",{style:m.statLabel,children:"Total Appointments"}),t.jsxs("div",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:[D?.length||0," unpaid"]})]}),t.jsxs("div",{style:{...m.statCard,cursor:"pointer"},onClick:()=>s("payments"),children:[t.jsx("div",{style:m.statIcon,children:""}),t.jsx("div",{style:m.statValue,children:E?.length||0}),t.jsx("div",{style:m.statLabel,children:"Total Prescriptions"}),t.jsxs("div",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:[O?.length||0," unpaid"]})]})]}),t.jsxs("div",{style:m.recentSection,children:[t.jsxs("div",{style:m.recentHeader,children:[t.jsxs("h3",{children:[t.jsx(nn,{size:18})," Recent Appointments"]}),t.jsxs("label",{style:m.toggleLabel,children:[t.jsx("input",{type:"checkbox",checked:qn,onChange:q=>me(q.target.checked)}),t.jsx("span",{style:{marginLeft:"0.5rem"},children:"Show paid items"})]})]}),t.jsxs("div",{style:m.tableContainer,children:[t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Date"}),t.jsx("th",{style:m.th,children:"Patient"}),t.jsx("th",{style:m.th,children:"Doctor"}),t.jsx("th",{style:m.th,children:"Hospital"}),t.jsx("th",{style:m.th,children:"Status"}),t.jsx("th",{style:m.th,children:"Payment"}),t.jsx("th",{style:m.th,children:"Actions"})]})}),t.jsx("tbody",{children:(qn?G:D).slice(0,10).map(q=>t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:q.date||"N/A"}),t.jsx("td",{style:m.td,children:q.patientName||"N/A"}),t.jsx("td",{style:m.td,children:q.doctorName||"N/A"}),t.jsx("td",{style:m.td,children:q.hospitalName||"N/A"}),t.jsx("td",{style:m.td,children:q.status||"pending"}),t.jsx("td",{style:m.td,children:t.jsx("span",{style:{...m.statusBadge,backgroundColor:q.paymentStatus==="paid"?"#27ae60":"#e74c3c",color:"white"},children:q.paymentStatus==="paid"?" Paid":" Unpaid"})}),t.jsx("td",{style:m.td,children:t.jsx("button",{onClick:()=>Bn(q),style:m.viewButton,children:" View Details"})})]},q.id))})]}),(qn?G:D).length===0&&t.jsx("div",{style:m.emptyState,children:"No appointments found"})]})]}),t.jsxs("div",{style:m.infoBox,children:[t.jsx("h3",{children:" How This System Works"}),t.jsxs("ul",{style:m.infoList,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Individual Doctors:"})," Billed separately per appointment & prescription"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Hospital Doctors:"})," All billing aggregated at hospital level"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Custom Rates:"})," Override global rates per doctor or hospital"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Monthly Tracking:"})," View and manage payments by month"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payment Status:"})," Once paid, appointments/prescriptions are marked and hidden from billing"]})]})]}),t.jsxs("div",{style:m.adminSection,children:[t.jsx("h3",{children:" Admin Management"}),t.jsx("p",{style:m.subtitle,children:"Create new admin users"}),t.jsx("button",{onClick:()=>Dt(!0),style:m.createAdminButton,children:" Create New Admin"})]})]})},ni=()=>t.jsxs("div",{style:m.configSection,children:[t.jsx("h2",{children:" Multi-Currency Configuration"}),t.jsx("p",{style:m.subtitle,children:"Set rates for different currencies. Currency is auto-selected based on doctor/hospital country."}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px"},children:[t.jsx("strong",{children:" Currency Logic:"})," India  INR, All others  GBP"]}),C.rates?t.jsxs("div",{style:m.configForm,children:[t.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#fff3e0",borderRadius:"8px"},children:[t.jsx("h3",{style:{marginBottom:"1rem",color:"#e65100"},children:" INR (India)"}),t.jsxs("div",{style:m.formGroup,children:[t.jsx("label",{style:m.label,children:" Appointment Cost ()"}),t.jsx("input",{type:"number",value:C.rates.INR?.appointmentCost||500,onChange:D=>U({...C,rates:{...C.rates,INR:{...C.rates.INR,appointmentCost:parseFloat(D.target.value)||0}}}),style:m.input,placeholder:"500"})]}),t.jsxs("div",{style:m.formGroup,children:[t.jsx("label",{style:m.label,children:" Prescription Cost ()"}),t.jsx("input",{type:"number",value:C.rates.INR?.prescriptionCost||200,onChange:D=>U({...C,rates:{...C.rates,INR:{...C.rates.INR,prescriptionCost:parseFloat(D.target.value)||0}}}),style:m.input,placeholder:"200"})]})]}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#e8f5e9",borderRadius:"8px"},children:[t.jsx("h3",{style:{marginBottom:"1rem",color:"#2e7d32"},children:" GBP (Default)"}),t.jsxs("div",{style:m.formGroup,children:[t.jsx("label",{style:m.label,children:" Appointment Cost ()"}),t.jsx("input",{type:"number",value:C.rates.GBP?.appointmentCost||5,onChange:D=>U({...C,rates:{...C.rates,GBP:{...C.rates.GBP,appointmentCost:parseFloat(D.target.value)||0}}}),style:m.input,placeholder:"5"})]}),t.jsxs("div",{style:m.formGroup,children:[t.jsx("label",{style:m.label,children:" Prescription Cost ()"}),t.jsx("input",{type:"number",value:C.rates.GBP?.prescriptionCost||2,onChange:D=>U({...C,rates:{...C.rates,GBP:{...C.rates.GBP,prescriptionCost:parseFloat(D.target.value)||0}}}),style:m.input,placeholder:"2"})]})]}),t.jsx("button",{onClick:rn,style:m.saveButton,disabled:u,children:u?"Saving...":" Save Multi-Currency Configuration"})]}):t.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[t.jsx("p",{style:{marginBottom:"1rem",color:"#666"},children:"Multi-currency not configured yet. Click below to set it up."}),t.jsx("button",{onClick:()=>window.location.href="/setup-multi-currency",style:{...m.saveButton,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:" Setup Multi-Currency"})]})]}),gt=()=>{if(!A)return t.jsx("div",{style:m.loading,children:"Loading doctors..."});const D=A.filter(O=>{const q=W.toLowerCase(),ne=!W||O.displayName?.toLowerCase().includes(q)||O.email?.toLowerCase().includes(q)||O.specialization?.toLowerCase().includes(q)||O.city?.toLowerCase().includes(q),Re=O.enabled!==!1;return ne&&(Ge==="all"||Ge==="enabled"&&Re||Ge==="disabled"&&!Re)});return t.jsxs("div",{style:m.section,children:[t.jsxs("h2",{children:[" Individual Doctors (",A?.length||0,")"]}),t.jsx("p",{style:m.subtitle,children:"Doctors not affiliated with any hospital"}),t.jsxs("div",{style:m.searchContainer,children:[t.jsx("input",{type:"text",placeholder:" Search doctors by name, email, specialization, location...",value:W,onChange:O=>ce(O.target.value),style:m.searchInput}),t.jsxs("select",{value:Ge,onChange:O=>Rt(O.target.value),style:m.filterSelect,children:[t.jsxs("option",{value:"all",children:["All Doctors (",A?.length||0,")"]}),t.jsxs("option",{value:"enabled",children:["Enabled Only (",A?.filter(O=>O.enabled!==!1).length||0,")"]}),t.jsxs("option",{value:"disabled",children:["Disabled Only (",A?.filter(O=>O.enabled===!1).length||0,")"]})]})]}),D.length===0?t.jsx("div",{style:m.emptyState,children:W||Ge!=="all"?"No doctors match your search/filter criteria":"No individual doctors found"}):t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Status"}),t.jsx("th",{style:m.th,children:"Name"}),t.jsx("th",{style:m.th,children:"Specialization"}),t.jsx("th",{style:m.th,children:"Location"}),t.jsx("th",{style:m.th,children:"Appointment Rate"}),t.jsx("th",{style:m.th,children:"Prescription Rate"}),t.jsx("th",{style:m.th,children:"Pending Payment"}),t.jsx("th",{style:m.th,children:"Actions"})]})}),t.jsx("tbody",{children:D.map(O=>{const q=Tt(O,"doctor",oe),ne=O.enabled!==!1;return t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:t.jsx("span",{style:{...m.statusBadge,backgroundColor:ne?"#27ae60":"#e74c3c",color:"white"},children:ne?" Active":" Disabled"})}),t.jsx("td",{style:m.td,children:O.displayName||"N/A"}),t.jsx("td",{style:m.td,children:O.specialization||"N/A"}),t.jsx("td",{style:m.td,children:O.city?`${O.city}, ${O.country}`:"N/A"}),t.jsxs("td",{style:m.td,children:[q.symbol,O.customRates?.appointmentCost||q.appointmentRevenue/Math.max(q.appointments,1),O.customRates?.appointmentCost&&t.jsx("span",{style:m.customBadge,children:"Custom"})]}),t.jsxs("td",{style:m.td,children:[q.symbol,O.customRates?.prescriptionCost||q.prescriptionRevenue/Math.max(q.prescriptions,1),O.customRates?.prescriptionCost&&t.jsx("span",{style:m.customBadge,children:"Custom"})]}),t.jsx("td",{style:m.td,children:t.jsxs("span",{style:{...m.pending,color:q.pending>0?"#e74c3c":"#27ae60"},children:[q.symbol,q.pending.toFixed(2)]})}),t.jsx("td",{style:m.td,children:t.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>sn(O.id,ne,"doctor"),style:{...m.toggleButton,backgroundColor:ne?"#e74c3c":"#27ae60"},children:ne?" Disable":" Enable"}),t.jsx("button",{onClick:()=>N(O,"doctor"),style:m.editButton,children:" Edit Rates"}),t.jsx("button",{onClick:()=>Te(O,"doctor",q),style:m.viewButton,children:" View Payment"})]})})]},O.id)})})]})})]})},Xt=()=>{if(!P)return t.jsx("div",{style:m.loading,children:"Loading hospitals..."});const D=P.filter(O=>{const q=fe.toLowerCase(),ne=!fe||O.name?.toLowerCase().includes(q)||O.email?.toLowerCase().includes(q)||O.city?.toLowerCase().includes(q),Re=O.enabled!==!1;return ne&&(We==="all"||We==="enabled"&&Re||We==="disabled"&&!Re)});return t.jsxs("div",{style:m.section,children:[t.jsxs("h2",{children:[" Hospitals (",P?.length||0,")"]}),t.jsx("p",{style:m.subtitle,children:"Hospital billing includes all affiliated doctors"}),t.jsxs("div",{style:m.searchContainer,children:[t.jsx("input",{type:"text",placeholder:" Search hospitals by name, email, location...",value:fe,onChange:O=>lt(O.target.value),style:m.searchInput}),t.jsxs("select",{value:We,onChange:O=>be(O.target.value),style:m.filterSelect,children:[t.jsxs("option",{value:"all",children:["All Hospitals (",P?.length||0,")"]}),t.jsxs("option",{value:"enabled",children:["Enabled Only (",P?.filter(O=>O.enabled!==!1).length||0,")"]}),t.jsxs("option",{value:"disabled",children:["Disabled Only (",P?.filter(O=>O.enabled===!1).length||0,")"]})]})]}),D.length===0?t.jsx("div",{style:m.emptyState,children:fe||We!=="all"?"No hospitals match your search/filter criteria":"No hospitals found"}):t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Status"}),t.jsx("th",{style:m.th,children:"Hospital Name"}),t.jsx("th",{style:m.th,children:"Location"}),t.jsx("th",{style:m.th,children:"Doctors Count"}),t.jsx("th",{style:m.th,children:"Appointment Rate"}),t.jsx("th",{style:m.th,children:"Prescription Rate"}),t.jsx("th",{style:m.th,children:"Pending Payment"}),t.jsx("th",{style:m.th,children:"Actions"})]})}),t.jsx("tbody",{children:D.map(O=>{const q=Tt(O,"hospital",oe),ne=O.enabled!==!1;return t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:t.jsx("span",{style:{...m.statusBadge,backgroundColor:ne?"#27ae60":"#e74c3c",color:"white"},children:ne?" Active":" Disabled"})}),t.jsx("td",{style:m.td,children:O.name||"N/A"}),t.jsx("td",{style:m.td,children:O.city?`${O.city}, ${O.country}`:"N/A"}),t.jsx("td",{style:m.td,children:t.jsx("span",{style:m.doctorCount,children:O.doctorCount||0})}),t.jsxs("td",{style:m.td,children:[q.symbol,O.customRates?.appointmentCost||q.appointmentRevenue/Math.max(q.appointments,1),O.customRates?.appointmentCost&&t.jsx("span",{style:m.customBadge,children:"Custom"})]}),t.jsxs("td",{style:m.td,children:[q.symbol,O.customRates?.prescriptionCost||q.prescriptionRevenue/Math.max(q.prescriptions,1),O.customRates?.prescriptionCost&&t.jsx("span",{style:m.customBadge,children:"Custom"})]}),t.jsx("td",{style:m.td,children:t.jsxs("span",{style:{...m.pending,color:q.pending>0?"#e74c3c":"#27ae60"},children:[q.symbol,q.pending.toFixed(2)]})}),t.jsx("td",{style:m.td,children:t.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>sn(O.id,ne,"hospital"),style:{...m.toggleButton,backgroundColor:ne?"#e74c3c":"#27ae60"},children:ne?" Disable":" Enable"}),t.jsx("button",{onClick:()=>N(O,"hospital"),style:m.editButton,children:" Edit Rates"}),t.jsx("button",{onClick:()=>Te(O,"hospital",q),style:m.viewButton,children:" View Payment"})]})})]},O.id)})})]})})]})},Ut=()=>t.jsxs("div",{style:m.section,children:[t.jsx("h2",{children:" Payment Tracking"}),t.jsxs("div",{style:m.monthSelector,children:[t.jsx("label",{style:m.label,children:"Select Month:"}),t.jsx("input",{type:"month",value:oe,onChange:D=>B(D.target.value),style:m.input})]}),t.jsxs("div",{style:m.paymentSection,children:[t.jsx("h3",{children:" Individual Doctors"}),$e.filter(D=>D.type==="doctor").length===0?t.jsx("div",{style:m.emptyState,children:"No individual doctor payments for this month"}):t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Doctor"}),t.jsx("th",{style:m.th,children:"Appointments"}),t.jsx("th",{style:m.th,children:"Prescriptions"}),t.jsx("th",{style:m.th,children:"Total Revenue"}),t.jsx("th",{style:m.th,children:"Paid"}),t.jsx("th",{style:m.th,children:"Pending"}),t.jsx("th",{style:m.th,children:"Action"})]})}),t.jsx("tbody",{children:$e.filter(D=>D.type==="doctor").map(D=>t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:D.entity.displayName}),t.jsx("td",{style:m.td,children:D.appointments}),t.jsx("td",{style:m.td,children:D.prescriptions}),t.jsxs("td",{style:m.td,children:[C.currency," ",D.totalRevenue.toFixed(2)]}),t.jsxs("td",{style:m.td,children:[C.currency," ",D.paid.toFixed(2)]}),t.jsx("td",{style:m.td,children:t.jsxs("span",{style:{...m.pending,color:D.pending>0?"#e74c3c":"#27ae60"},children:[C.currency," ",D.pending.toFixed(2)]})}),t.jsx("td",{style:m.td,children:t.jsx("button",{onClick:()=>ln(D),style:m.payButton,disabled:D.pending<=0,children:" Mark Paid"})})]},D.entity.id))})]})})]}),t.jsxs("div",{style:m.paymentSection,children:[t.jsx("h3",{children:" Hospitals"}),$e.filter(D=>D.type==="hospital").length===0?t.jsx("div",{style:m.emptyState,children:"No hospital payments for this month"}):t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Hospital"}),t.jsx("th",{style:m.th,children:"Appointments"}),t.jsx("th",{style:m.th,children:"Prescriptions"}),t.jsx("th",{style:m.th,children:"Total Revenue"}),t.jsx("th",{style:m.th,children:"Paid"}),t.jsx("th",{style:m.th,children:"Pending"}),t.jsx("th",{style:m.th,children:"Action"})]})}),t.jsx("tbody",{children:$e.filter(D=>D.type==="hospital").map(D=>t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:D.entity.name}),t.jsx("td",{style:m.td,children:D.appointments}),t.jsx("td",{style:m.td,children:D.prescriptions}),t.jsxs("td",{style:m.td,children:[C.currency," ",D.totalRevenue.toFixed(2)]}),t.jsxs("td",{style:m.td,children:[C.currency," ",D.paid.toFixed(2)]}),t.jsx("td",{style:m.td,children:t.jsxs("span",{style:{...m.pending,color:D.pending>0?"#e74c3c":"#27ae60"},children:[C.currency," ",D.pending.toFixed(2)]})}),t.jsx("td",{style:m.td,children:t.jsx("button",{onClick:()=>ln(D),style:m.payButton,disabled:D.pending<=0,children:" Mark Paid"})})]},D.entity.id))})]})})]})]}),Xe=()=>{const D=$.filter(ne=>ne.status==="pending"),O=$.filter(ne=>ne.status==="completed"),q=$.filter(ne=>ne.status==="failed");return t.jsxs("div",{style:m.section,children:[t.jsx("h2",{children:" Payment Requests"}),t.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"Review and verify payment submissions from hospitals and individual doctors"}),I?t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),t.jsx("p",{style:{color:"#999"},children:"Loading payment requests..."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"3rem"},children:[t.jsxs("h3",{style:{color:"#ff9800",marginBottom:"1rem"},children:[" Pending Verification (",D.length,")"]}),D.length===0?t.jsx("div",{style:m.emptyState,children:" No pending payment requests"}):t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Entity"}),t.jsx("th",{style:m.th,children:"Type"}),t.jsx("th",{style:m.th,children:"Amount"}),t.jsx("th",{style:m.th,children:"Method"}),t.jsx("th",{style:m.th,children:"Date"}),t.jsx("th",{style:m.th,children:"Payment Type"}),t.jsx("th",{style:m.th,children:"Actions"})]})}),t.jsx("tbody",{children:D.map(ne=>t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:t.jsx("strong",{children:ne.hospitalName||ne.doctorName})}),t.jsx("td",{style:m.td,children:t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"15px",background:ne.hospitalId?"#e3f2fd":"#f3e5f5",color:ne.hospitalId?"#1976d2":"#7b1fa2",fontSize:"0.85rem",fontWeight:"600"},children:ne.hospitalId?" Hospital":" Doctor"})}),t.jsx("td",{style:m.td,children:t.jsxs("strong",{style:{color:"#2e7d32",fontSize:"1.1rem"},children:[ne.currency," ",ne.amount?.toFixed(2)]})}),t.jsx("td",{style:m.td,children:ne.paymentMethod}),t.jsx("td",{style:m.td,children:new Date(ne.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{style:m.td,children:t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"15px",background:ne.type==="full"?"#e8f5e9":"#fff3e0",color:ne.type==="full"?"#2e7d32":"#e65100",fontSize:"0.85rem"},children:ne.type==="full"?"Full Payment":"Partial Payment"})}),t.jsx("td",{style:m.td,children:t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.jsx("button",{onClick:()=>ge(ne),style:{...m.button,padding:"0.5rem 1rem",fontSize:"0.85rem",background:"#2196f3"},children:" View"}),t.jsx("button",{onClick:()=>ve(ne),style:{...m.button,padding:"0.5rem 1rem",fontSize:"0.85rem",background:"#4caf50"},children:" Verify"}),t.jsx("button",{onClick:()=>je(ne),style:{...m.button,padding:"0.5rem 1rem",fontSize:"0.85rem",background:"#f44336"},children:" Reject"})]})})]},ne.id))})]})})]}),t.jsxs("div",{style:{marginBottom:"3rem"},children:[t.jsxs("h3",{style:{color:"#4caf50",marginBottom:"1rem"},children:[" Verified Payments (",O.length,")"]}),O.length===0?t.jsx("div",{style:m.emptyState,children:"No verified payments yet"}):t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Entity"}),t.jsx("th",{style:m.th,children:"Type"}),t.jsx("th",{style:m.th,children:"Amount"}),t.jsx("th",{style:m.th,children:"Method"}),t.jsx("th",{style:m.th,children:"Submitted"}),t.jsx("th",{style:m.th,children:"Verified"})]})}),t.jsx("tbody",{children:O.map(ne=>t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:ne.hospitalName||ne.doctorName}),t.jsx("td",{style:m.td,children:ne.hospitalId?" Hospital":" Doctor"}),t.jsxs("td",{style:m.td,children:[ne.currency," ",ne.amount?.toFixed(2)]}),t.jsx("td",{style:m.td,children:ne.paymentMethod}),t.jsx("td",{style:m.td,children:new Date(ne.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{style:m.td,children:ne.verifiedAt?new Date(ne.verifiedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]},ne.id))})]})})]}),q.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{style:{color:"#f44336",marginBottom:"1rem"},children:[" Rejected Payments (",q.length,")"]}),t.jsx("div",{style:m.tableContainer,children:t.jsxs("table",{style:m.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:m.th,children:"Entity"}),t.jsx("th",{style:m.th,children:"Type"}),t.jsx("th",{style:m.th,children:"Amount"}),t.jsx("th",{style:m.th,children:"Method"}),t.jsx("th",{style:m.th,children:"Submitted"}),t.jsx("th",{style:m.th,children:"Rejected"}),t.jsx("th",{style:m.th,children:"Reason"})]})}),t.jsx("tbody",{children:q.map(ne=>t.jsxs("tr",{style:m.tr,children:[t.jsx("td",{style:m.td,children:ne.hospitalName||ne.doctorName}),t.jsx("td",{style:m.td,children:ne.hospitalId?" Hospital":" Doctor"}),t.jsxs("td",{style:m.td,children:[ne.currency," ",ne.amount?.toFixed(2)]}),t.jsx("td",{style:m.td,children:ne.paymentMethod}),t.jsx("td",{style:m.td,children:new Date(ne.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{style:m.td,children:ne.rejectedAt?new Date(ne.rejectedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}),t.jsx("td",{style:m.td,children:ne.rejectionReason||"N/A"})]},ne.id))})]})})]})]})]})};return t.jsxs("div",{style:m.container,children:[x&&t.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"15px 25px",borderRadius:"10px",background:x.type==="error"?"#f44336":"#4caf50",color:"white",fontWeight:"600",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e4,animation:"slideIn 0.3s ease-out"},children:x.message}),t.jsxs("div",{style:m.header,children:[t.jsx("h1",{style:m.title,children:" Admin Dashboard - Billing System"}),f&&t.jsx("div",{style:m.error,children:f})]}),t.jsx("div",{style:m.tabs,children:w?t.jsx("select",{value:r,onChange:D=>s(D.target.value),style:{padding:"0.5rem",borderRadius:"8px"},"aria-label":"Select admin tab",children:["overview","config","doctors","hospitals","billing-overview","payment-requests","ads"].map(D=>t.jsx("option",{value:D,children:D==="overview"?"Overview":D.charAt(0).toUpperCase()+D.slice(1)},D))}):["overview","config","doctors","hospitals","billing-overview","payment-requests","ads"].map(D=>t.jsxs("button",{onClick:()=>s(D),style:{...m.tab,...r===D?m.activeTab:{}},children:[D==="overview"&&" Overview",D==="config"&&" Config",D==="doctors"&&" Doctors",D==="hospitals"&&" Hospitals",D==="billing-overview"&&" Billing Overview",D==="payment-requests"&&" Payment Requests",D==="ads"&&" Ads & Pricing"]},D))}),t.jsxs("div",{style:m.content,children:[u&&t.jsx("div",{style:m.loading,children:"Loading..."}),r==="overview"&&Ve(),r==="config"&&ni(),r==="doctors"&&gt(),r==="hospitals"&&Xt(),(r==="payments"||r==="billing-overview")&&Ut(),r==="payment-requests"&&Xe(),r==="ads"&&t.jsx(wx,{showNotification:yn})]}),Ze&&t.jsx("div",{style:m.modal,children:t.jsxs("div",{style:m.modalContent,children:[t.jsx("h3",{children:" Edit Custom Rates"}),t.jsx("p",{style:m.modalSubtitle,children:Ze.type==="doctor"?`Doctor: ${Ze.displayName}`:`Hospital: ${Ze.name}`}),t.jsxs("div",{style:m.formGroup,children:[t.jsxs("label",{style:m.label,children:["Appointment Cost (leave empty for global rate: ",C.currency," ",C.appointmentCost,")"]}),t.jsx("input",{type:"number",value:kt.appointmentCost,onChange:D=>Et({...kt,appointmentCost:D.target.value}),style:m.input,placeholder:`Global: ${C.appointmentCost}`})]}),t.jsxs("div",{style:m.formGroup,children:[t.jsxs("label",{style:m.label,children:["Prescription Cost (leave empty for global rate: ",C.currency," ",C.prescriptionCost,")"]}),t.jsx("input",{type:"number",value:kt.prescriptionCost,onChange:D=>Et({...kt,prescriptionCost:D.target.value}),style:m.input,placeholder:`Global: ${C.prescriptionCost}`})]}),t.jsxs("div",{style:m.modalActions,children:[t.jsx("button",{onClick:J,style:m.saveButton,children:" Save"}),t.jsx("button",{onClick:()=>_t(null),style:m.cancelButton,children:" Cancel"})]})]})}),gn&&k&&t.jsx("div",{style:m.modal,children:t.jsxs("div",{style:m.modalContent,children:[t.jsx("h3",{children:" Payment Details"}),t.jsx("p",{style:m.modalSubtitle,children:k.type==="doctor"?`Doctor: ${k.entity.displayName}`:`Hospital: ${k.entity.name}`}),t.jsxs("p",{style:m.modalSubtitle,children:["Month: ",oe]}),t.jsxs("div",{style:m.paymentDetails,children:[t.jsxs("div",{style:m.paymentRow,children:[t.jsx("span",{children:"Appointments:"}),t.jsxs("span",{children:[k.appointments,"  ",C.currency," ",k.appointmentRevenue/(k.appointments||1)]}),t.jsxs("span",{style:{fontWeight:"bold"},children:[C.currency," ",k.appointmentRevenue.toFixed(2)]})]}),t.jsxs("div",{style:m.paymentRow,children:[t.jsx("span",{children:"Prescriptions:"}),t.jsxs("span",{children:[k.prescriptions,"  ",C.currency," ",k.prescriptionRevenue/(k.prescriptions||1)]}),t.jsxs("span",{style:{fontWeight:"bold"},children:[C.currency," ",k.prescriptionRevenue.toFixed(2)]})]}),t.jsxs("div",{style:{...m.paymentRow,borderTop:"2px solid #ddd",paddingTop:"1rem",marginTop:"1rem"},children:[t.jsx("span",{style:{fontWeight:"bold"},children:"Total Revenue:"}),t.jsx("span",{}),t.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.2rem",color:"#667eea"},children:[C.currency," ",k.totalRevenue.toFixed(2)]})]}),t.jsxs("div",{style:m.paymentRow,children:[t.jsx("span",{children:"Already Paid:"}),t.jsx("span",{}),t.jsxs("span",{style:{color:"#27ae60"},children:[C.currency," ",k.paid.toFixed(2)]})]}),t.jsxs("div",{style:{...m.paymentRow,borderTop:"2px solid #ddd",paddingTop:"1rem",marginTop:"1rem"},children:[t.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:"Pending:"}),t.jsx("span",{}),t.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.3rem",color:k.pending>0?"#e74c3c":"#27ae60"},children:[C.currency," ",k.pending.toFixed(2)]})]})]}),t.jsxs("div",{style:m.modalActions,children:[k.pending>0&&t.jsx("button",{onClick:bt,style:m.saveButton,children:" Mark as Paid"}),t.jsx("button",{onClick:()=>xt(!1),style:m.cancelButton,children:" Close"})]})]})}),Cn&&t.jsx("div",{style:m.modal,children:t.jsxs("div",{style:m.modalContent,children:[t.jsx("h3",{children:" Create New Admin"}),t.jsx("p",{style:m.modalSubtitle,children:"Enter the email of the user you want to make an admin. The user must be registered first."}),t.jsxs("div",{style:m.formGroup,children:[t.jsx("label",{style:m.label,children:"User Email"}),t.jsx("input",{type:"email",value:an,onChange:D=>Nt(D.target.value),style:m.input,placeholder:"user@example.com"})]}),t.jsxs("div",{style:m.modalActions,children:[t.jsx("button",{onClick:Mn,style:m.saveButton,children:" Make Admin"}),t.jsx("button",{onClick:()=>{Dt(!1),Nt("")},style:m.cancelButton,children:" Cancel"})]})]})}),xe&&Ie&&t.jsx("div",{style:m.modal,children:t.jsxs("div",{style:m.modalContent,children:[t.jsx("h3",{children:" Appointment Details"}),t.jsxs("div",{style:m.detailsGrid,children:[t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Patient Information"}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Name:"}),t.jsx("span",{children:Ie.patientName||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Email:"}),t.jsx("span",{children:Ie.patientEmail||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Phone:"}),t.jsx("span",{children:Ie.patientPhone||"N/A"})]})]}),t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Doctor Information"}),Ie.doctorInfo?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Name:"}),t.jsx("span",{children:Ie.doctorInfo.displayName||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Email:"}),t.jsx("span",{children:Ie.doctorInfo.email||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Specialization:"}),t.jsx("span",{children:Ie.doctorInfo.specialization||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Type:"}),t.jsx("span",{style:{...m.statusBadge,backgroundColor:Ie.hospitalId?"#3498db":"#9b59b6"},children:Ie.hospitalId?" Hospital Doctor":" Individual Doctor"})]})]}):t.jsx("div",{children:"Doctor information not available"})]}),Ie.hospitalInfo&&t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Hospital Information"}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Name:"}),t.jsx("span",{children:Ie.hospitalInfo.name||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Location:"}),t.jsx("span",{children:Ie.hospitalInfo.city?`${Ie.hospitalInfo.city}, ${Ie.hospitalInfo.country}`:"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Email:"}),t.jsx("span",{children:Ie.hospitalInfo.email||"N/A"})]})]}),t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Appointment Details"}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Date:"}),t.jsx("span",{children:Ie.date||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Time:"}),t.jsx("span",{children:Ie.time||"N/A"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Status:"}),t.jsx("span",{children:Ie.status||"pending"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Payment Status:"}),t.jsx("span",{style:{...m.statusBadge,backgroundColor:Ie.paymentStatus==="paid"?"#27ae60":"#e74c3c"},children:Ie.paymentStatus==="paid"?" Paid":" Unpaid"})]}),Ie.paymentStatus==="paid"&&t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Paid At:"}),t.jsx("span",{children:new Date(Ie.paidAt).toLocaleString()})]})]})]}),t.jsx("div",{style:m.modalActions,children:t.jsx("button",{onClick:()=>Le(!1),style:m.cancelButton,children:" Close"})})]})}),wt&&he&&t.jsx("div",{style:m.modal,children:t.jsxs("div",{style:m.modalContent,children:[t.jsx("h3",{children:" Payment Request Details"}),t.jsxs("div",{style:m.detailsGrid,children:[t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Entity Information"}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Name:"}),t.jsx("span",{children:t.jsx("strong",{children:he.hospitalName||he.doctorName})})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Type:"}),t.jsx("span",{style:{...m.statusBadge,backgroundColor:he.hospitalId?"#3498db":"#9b59b6"},children:he.hospitalId?" Hospital":" Individual Doctor"})]})]}),t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Payment Details"}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Amount:"}),t.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#2e7d32"},children:[he.currency," ",he.amount?.toFixed(2)]})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Payment Method:"}),t.jsx("span",{children:he.paymentMethod})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Payment Type:"}),t.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"15px",background:he.type==="full"?"#e8f5e9":"#fff3e0",color:he.type==="full"?"#2e7d32":"#e65100",fontSize:"0.85rem"},children:he.type==="full"?"Full Payment":"Partial Payment"})]}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Status:"}),t.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"15px",background:he.status==="completed"?"#4caf50":he.status==="pending"?"#ff9800":"#f44336",color:"white",fontSize:"0.85rem",fontWeight:"600"},children:[he.status==="completed"&&" Verified",he.status==="pending"&&" Pending",he.status==="failed"&&" Rejected"]})]})]}),t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Timeline"}),t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Submitted:"}),t.jsx("span",{children:new Date(he.createdAt).toLocaleString()})]}),he.verifiedAt&&t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Verified:"}),t.jsx("span",{children:new Date(he.verifiedAt).toLocaleString()})]}),he.rejectedAt&&t.jsxs("div",{style:m.detailRow,children:[t.jsx("span",{style:m.detailLabel,children:"Rejected:"}),t.jsx("span",{children:new Date(he.rejectedAt).toLocaleString()})]})]}),he.description&&t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Description"}),t.jsx("p",{style:{margin:0,color:"#666"},children:he.description})]}),he.rejectionReason&&t.jsxs("div",{style:m.detailSection,children:[t.jsx("h4",{children:" Rejection Reason"}),t.jsx("p",{style:{margin:0,color:"#e74c3c"},children:he.rejectionReason})]})]}),t.jsxs("div",{style:m.modalActions,children:[he.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{Fe(!1),ve(he)},style:{...m.saveButton,background:"#4caf50"},children:" Verify Payment"}),t.jsx("button",{onClick:()=>{Fe(!1),je(he)},style:{...m.saveButton,background:"#f44336"},children:" Reject Payment"})]}),t.jsx("button",{onClick:()=>{Fe(!1),ct(null)},style:m.cancelButton,children:"Close"})]})]})})]})},m={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"2rem"},header:{marginBottom:"2rem"},title:{fontSize:"2rem",color:"white",textAlign:"center",marginBottom:"1rem"},error:{background:"#e74c3c",color:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},tabs:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},tab:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",background:"rgba(255, 255, 255, 0.2)",color:"white",cursor:"pointer",fontSize:"1rem",fontWeight:"500",transition:"all 0.3s"},activeTab:{background:"white",color:"#667eea",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)"},content:{background:"white",borderRadius:"12px",padding:"2rem",minHeight:"500px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.2)"},loading:{textAlign:"center",padding:"2rem",fontSize:"1.2rem",color:"#667eea"},overview:{},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},statCard:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",padding:"1.5rem",textAlign:"center",color:"white"},statIcon:{fontSize:"2.5rem",marginBottom:"0.5rem"},statValue:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.25rem"},statLabel:{fontSize:"0.9rem",opacity:.9},infoBox:{background:"#f8f9fa",borderRadius:"8px",padding:"1.5rem",marginTop:"2rem"},infoList:{lineHeight:"1.8",marginLeft:"1.5rem"},section:{},subtitle:{color:"#666",marginBottom:"1.5rem"},searchContainer:{display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},searchInput:{flex:"1 1 300px",padding:"0.75rem 1rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.3s"},filterSelect:{padding:"0.75rem 1rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",background:"white",cursor:"pointer",minWidth:"200px"},statusBadge:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"600"},toggleButton:{color:"white",border:"none",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",transition:"opacity 0.3s"},configSection:{},configForm:{maxWidth:"600px"},formGroup:{marginBottom:"1.5rem"},label:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},input:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",transition:"border-color 0.3s"},saveButton:{background:"#27ae60",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 2rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.3s"},tableContainer:{overflowX:"auto",marginTop:"1rem"},table:{width:"100%",borderCollapse:"collapse"},th:{background:"#667eea",color:"white",padding:"1rem",textAlign:"left",fontWeight:"600"},tr:{borderBottom:"1px solid #e0e0e0"},td:{padding:"1rem"},customBadge:{display:"inline-block",marginLeft:"0.5rem",padding:"0.25rem 0.5rem",background:"#f39c12",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},doctorCount:{display:"inline-block",padding:"0.25rem 0.75rem",background:"#3498db",color:"white",borderRadius:"12px",fontWeight:"600"},editButton:{background:"#3498db",color:"white",border:"none",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",transition:"background 0.3s"},emptyState:{textAlign:"center",padding:"3rem",color:"#999",fontSize:"1.1rem"},monthSelector:{marginBottom:"2rem",display:"flex",alignItems:"center",gap:"1rem"},paymentSection:{marginBottom:"3rem"},pending:{fontWeight:"bold",fontSize:"1.1rem"},payButton:{background:"#27ae60",color:"white",border:"none",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",transition:"background 0.3s"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{background:"white",borderRadius:"12px",padding:"2rem",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},modalSubtitle:{color:"#666",marginBottom:"1.5rem"},modalActions:{display:"flex",gap:"1rem",marginTop:"1.5rem"},cancelButton:{background:"#e74c3c",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 2rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.3s"},adminSection:{background:"#f8f9fa",borderRadius:"8px",padding:"1.5rem",marginTop:"2rem"},createAdminButton:{background:"#667eea",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.3s",marginTop:"1rem"},viewButton:{background:"#27ae60",color:"white",border:"none",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",transition:"background 0.3s"},paymentDetails:{background:"#f8f9fa",borderRadius:"8px",padding:"1.5rem",marginTop:"1rem"},paymentRow:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",padding:"0.75rem 0",fontSize:"0.95rem"},recentSection:{marginTop:"2rem"},recentHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},toggleLabel:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.95rem"},detailsGrid:{display:"grid",gridTemplateColumns:"1fr",gap:"1.5rem",marginTop:"1rem"},detailSection:{background:"#f8f9fa",borderRadius:"8px",padding:"1rem"},detailRow:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #e0e0e0"},detailLabel:{fontWeight:"600",color:"#666"}},Ax=()=>{const{userProfile:r,currentUser:s,loading:u}=Ia(),c=al(),[f,g]=b.useState(!1),[x,y]=b.useState({displayName:"",role:"",specialization:"",phone:"",country:"",state:"",city:"",address:""}),[w,j]=b.useState(!1);b.useEffect(()=>{console.log("Dashboard useEffect:",{currentUser:s?.uid,userProfile:r,loading:u,hasRole:r?.role});const P=()=>!r||!r.role||!r.phone?!0:r.role==="doctor"?!r.specialization||!r.country||!r.state||!r.city:r.role==="hospital"?!r.country||!r.state||!r.city||!r.address:!1;if(s){if(!r){console.log("Dashboard: Waiting for userProfile to load...");return}P()?(j(!0),y({displayName:r.displayName||s.displayName||s.email||"",role:r.role||"",specialization:r.specialization||"",phone:r.phone||"",country:r.country||"",state:r.state||"",city:r.city||"",address:r.address||""})):j(!1)}},[r,s,u]);const C=async P=>{P.preventDefault(),g(!0);try{const K=Be(Y,"users",s.uid),G={uid:s.uid,email:s.email,displayName:x.displayName,role:x.role,phone:x.phone,updatedAt:new Date().toISOString(),...x.role==="doctor"&&{specialization:x.specialization,country:x.country,state:x.state,city:x.city,address:x.address},...x.role==="hospital"&&{country:x.country,state:x.state,city:x.city,address:x.address}};if(await ti(K,G,{merge:!0}),x.role==="hospital"&&r?.hospitalId){console.log("Updating hospital document with location...");const se=Be(Y,"hospitals",r.hospitalId);await ti(se,{name:x.displayName,country:x.country,state:x.state,city:x.city,address:x.address,phone:x.phone,enabled:!0,updatedAt:new Date().toISOString()},{merge:!0}),console.log("Hospital document updated successfully")}c("/dashboard",{replace:!0})}catch(K){console.error("Error creating profile:",K),alert("Failed to create profile: "+K.message)}g(!1)},U=P=>{y({...x,[P.target.name]:P.target.value})},A=r?.role==="admin";b.useEffect(()=>{console.log("Dashboard render state:",{hasCurrentUser:!!s,hasUserProfile:!!r,userRole:r?.role,isAdmin:A,loading:u})},[s,r,A,u]);const re=async()=>{await zy(),c("/login")};return t.jsxs("div",{style:{padding:"2rem"},children:[t.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[t.jsx("h1",{children:"Dashboard"}),t.jsx("button",{onClick:re,style:{padding:"0.5rem 1rem",background:"var(--color-text-muted)",color:"white",border:"none",borderRadius:"var(--radius-md)"},children:"Logout"})]}),r?w?t.jsxs("div",{style:{background:"var(--color-bg-card)",padding:"2rem",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)",maxWidth:"600px",margin:"0 auto"},children:[t.jsx("h2",{style:{marginTop:0},children:"Complete Your Profile"}),t.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Please provide additional information to complete your profile setup."}),x.role?t.jsxs("form",{onSubmit:C,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx("input",{name:"displayName",type:"text",placeholder:"Full Name *",required:!0,value:x.displayName,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}}),t.jsxs("div",{style:{padding:"0.75rem",background:"#f0f0f0",borderRadius:"var(--radius-md)",border:"1px solid #ddd"},children:[t.jsx("strong",{children:"Account Type:"})," ",x.role?x.role==="doctor"?"Individual Doctor":x.role==="hospital"?"Hospital":x.role==="patient"?"Patient":x.role==="admin"?"Administrator":x.role:"Loading..."]}),t.jsx("input",{name:"phone",type:"tel",placeholder:"Phone Number *",required:!0,value:x.phone,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}}),(x.role==="doctor"||x.role==="hospital")&&t.jsxs(t.Fragment,{children:[x.role==="doctor"&&t.jsx("input",{name:"specialization",type:"text",placeholder:"Specialization (e.g. Cardiologist) *",required:!0,value:x.specialization,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}}),t.jsx("input",{name:"country",type:"text",placeholder:"Country *",required:!0,value:x.country,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}}),t.jsx("input",{name:"state",type:"text",placeholder:"State/Province *",required:!0,value:x.state,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}}),t.jsx("input",{name:"city",type:"text",placeholder:"City *",required:!0,value:x.city,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}}),t.jsx("input",{name:"address",type:"text",placeholder:x.role==="doctor"?"Clinic Address":"Hospital Address",value:x.address,onChange:U,style:{padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #ccc"}})]}),t.jsx("button",{type:"submit",disabled:f,style:{padding:"0.75rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",cursor:f?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:f?"Creating Profile...":"Complete Profile"})]}):t.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:"Loading your account information..."})]}):t.jsxs("div",{style:{background:"var(--color-bg-card)",padding:"1.5rem",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},children:[t.jsxs("h2",{style:{marginTop:0},children:["Welcome, ",r?.displayName||s?.email]}),r?.role&&t.jsxs("p",{children:["Role: ",A?"Admin":r.role]}),r?.role==="patient"&&t.jsx(Sx,{}),r?.role==="doctor"&&t.jsx(uh,{}),r?.role==="hospital"&&t.jsx(ox,{}),A&&t.jsx(Cx,{})]}):t.jsxs("div",{style:{background:"var(--color-bg-card)",padding:"2rem",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)",maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[t.jsx("h2",{style:{marginTop:0},children:"Loading Your Profile..."}),t.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"Please wait while we load your account information."}),t.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:"If this takes more than a few seconds, please try refreshing the page."}),t.jsx("button",{onClick:()=>c("/dashboard",{replace:!0}),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},children:"Refresh Page"})]})]})},Dx=async r=>{const s=Se(Y,"appointments");if(r.doctorId&&r.date&&r.time){const f=Be(Y,"doctors",r.doctorId),g=await Vt(f);if(g.exists()){const y=g.data().availability||{};if(y.unavailableDates&&y.unavailableDates.length>0&&y.unavailableDates.some(j=>j.date===r.date)){const j=y.unavailableDates.find(C=>C.date===r.date);throw new Error(`Doctor is on leave on ${r.date}. Reason: ${j.reason||"Not available"}`)}if(y.blockedTimeSlots&&y.blockedTimeSlots.length>0&&y.blockedTimeSlots.some(j=>j.date!==r.date?!1:j.time===r.time?!0:j.startTime&&j.endTime?r.time>=j.startTime&&r.time<j.endTime:!1)){const j=y.blockedTimeSlots.find(C=>C.date===r.date&&(C.time===r.time||C.startTime&&C.endTime&&r.time>=C.startTime&&r.time<C.endTime));throw new Error(`This time slot is blocked. Reason: ${j.reason||"Not available"}`)}}}const u={...r,status:"pending",createdAt:new Date().toISOString(),timestamp:Lg()};return{id:(await fa(s,u)).id,...u}},Tx=async r=>{const s=Se(Y,"appointments"),u=Ae(s,de("patientPhone","==",r));return(await He(u)).docs.map(f=>({id:f.id,...f.data()}))},Yr=async(r={})=>{console.log(" getHospitals called with filters:",r);try{const s=Se(Y,"hospitals");let u=Ae(s);r.country&&(u=Ae(u,de("country","==",r.country)),console.log("   Filtering by country:",r.country)),r.state&&(u=Ae(u,de("state","==",r.state)),console.log("   Filtering by state:",r.state)),r.city&&(u=Ae(u,de("city","==",r.city)),console.log("   Filtering by city:",r.city)),console.log("   Executing Firestore query...");const c=await He(u);console.log(`   Query returned ${c.size} documents`);const f=[];return c.forEach(g=>{const x={id:g.id,...g.data()};x.enabled!==!1?(console.log("   Hospital found (enabled):",x.name||x.id),f.push(x)):console.log("   Hospital skipped (disabled):",x.name||x.id)}),console.log(` getHospitals returning ${f.length} enabled hospitals`),f}catch(s){throw console.error(" Error fetching hospitals:",s),console.error("Error code:",s.code),console.error("Error message:",s.message),s}},ec=async(r={})=>{try{const s=Se(Y,"users");let u=Ae(s,de("role","==","doctor"));r.country&&(u=Ae(u,de("country","==",r.country))),r.state&&(u=Ae(u,de("state","==",r.state))),r.city&&(u=Ae(u,de("city","==",r.city))),r.specialization&&(u=Ae(u,de("specialization","==",r.specialization)));const c=await He(u),f=[];return c.forEach(g=>{const x={id:g.id,...g.data()};x.enabled!==!1&&f.push(x)}),console.log(` getDoctors returning ${f.length} enabled doctors`),f}catch(s){throw console.error("Error fetching doctors:",s),s}},zx=async()=>{try{const r=new Map;(await He(Se(Y,"hospitals"))).forEach(g=>{const x=g.data();if(x.country&&x.state&&x.city){r.has(x.country)||r.set(x.country,new Map);const y=r.get(x.country);y.has(x.state)||y.set(x.state,new Set),y.get(x.state).add(x.city)}});const u=Ae(Se(Y,"users"),de("role","==","doctor"));(await He(u)).forEach(g=>{const x=g.data();if(x.country&&x.state&&x.city){r.has(x.country)||r.set(x.country,new Map);const y=r.get(x.country);y.has(x.state)||y.set(x.state,new Set),y.get(x.state).add(x.city)}});const f={};return r.forEach((g,x)=>{f[x]={},g.forEach((y,w)=>{f[x][w]=Array.from(y).sort()})}),{countries:Array.from(r.keys()).sort(),structured:f}}catch(r){throw console.error("Error fetching locations:",r),r}},Bx=async(r,s="all")=>{try{console.log(" searchProvidersByName called:",{searchTerm:r,providerType:s,searchTermLower:r.toLowerCase()});const u=[],c=r.toLowerCase();if(s==="all"||s==="hospital"){console.log(" Searching hospitals collection...");const f=await He(Se(Y,"hospitals"));console.log(" Total hospitals in database:",f.size),f.forEach(g=>{const x={id:g.id,...g.data()},y=x.name||"";console.log(" Checking hospital:",{id:g.id,name:y,nameLower:y.toLowerCase(),searchLower:c,enabled:x.enabled!==!1,matches:y.toLowerCase().includes(c)}),x.enabled!==!1&&y&&y.toLowerCase().includes(c)&&(console.log(" Hospital matched:",y),u.push({...x,type:"hospital"}))}),console.log(" Hospitals matched:",u.filter(g=>g.type==="hospital").length)}if(s==="all"||s==="doctor"){console.log(" Searching doctors collection...");const f=Ae(Se(Y,"users"),de("role","==","doctor")),g=await He(f);console.log(" Total doctors in database:",g.size),g.forEach(x=>{const y={id:x.id,...x.data()},w=y.displayName||"";console.log(" Checking doctor:",{id:x.id,name:w,nameLower:w.toLowerCase(),searchLower:c,enabled:y.enabled!==!1,matches:w.toLowerCase().includes(c)}),y.enabled!==!1&&w.toLowerCase().includes(c)&&(console.log(" Doctor matched:",w),u.push({...y,type:"doctor"}))}),console.log(" Doctors matched:",u.filter(x=>x.type==="doctor").length)}return console.log(" searchProvidersByName final results:",{totalResults:u.length,results:u.map(f=>({id:f.id,name:f.name||f.displayName,type:f.type}))}),u}catch(u){throw console.error(" Error searching providers:",u),u}},Rx=async r=>{try{const s=Se(Y,"users"),u=Ae(s,de("role","==","doctor"),de("hospitalId","==",r)),c=await He(u),f=[];return c.forEach(g=>{const x={id:g.id,uid:g.id,...g.data()};x.enabled!==!1&&f.push(x)}),console.log(` getDoctorsByHospital returning ${f.length} enabled doctors for hospital ${r}`),f}catch(s){throw console.error("Error fetching hospital doctors:",s),s}},kx=async r=>{try{const{patientPhone:s,patientName:u,appointmentDate:c,appointmentTime:f,hospitalName:g,doctorName:x}=r,y=`Hi ${u}, your appointment is confirmed for ${c} at ${f} with Dr. ${x}${g?` at ${g}`:""}. Thank you for choosing us!`,w=Se(Y,"notifications");return await fa(w,{type:"sms",to:s,message:y,status:"pending",appointmentData:{patientName:u,appointmentDate:c,appointmentTime:f,hospitalName:g,doctorName:x},createdAt:new Date().toISOString()}),console.log("SMS notification queued successfully"),{success:!0}}catch(s){return console.error("Error queuing SMS notification:",s),{success:!1,error:s.message}}},Ex=async r=>{try{const{patientEmail:s,patientName:u,appointmentDate:c,appointmentTime:f,hospitalName:g,doctorName:x,reason:y}=r;if(!s)return console.log("No email provided, skipping email notification"),{success:!1,error:"No email provided"};const w=Se(Y,"notifications");return await fa(w,{type:"email",to:s,subject:"Appointment Confirmation",html:`
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 10px;">
                    <h2 style="color: #667eea;">Appointment Confirmed! </h2>
                    <p>Dear ${u},</p>
                    <p>Your appointment has been successfully booked.</p>
                    
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <h3 style="margin-top: 0; color: #333;">Appointment Details</h3>
                        <p><strong>Date:</strong> ${c}</p>
                        <p><strong>Time:</strong> ${f}</p>
                        <p><strong>Doctor:</strong> Dr. ${x}</p>
                        ${g?`<p><strong>Hospital:</strong> ${g}</p>`:""}
                        ${y?`<p><strong>Reason:</strong> ${y}</p>`:""}
                    </div>
                    
                    <p>Please arrive 10 minutes before your scheduled time.</p>
                    <p>If you need to reschedule or cancel, please contact us as soon as possible.</p>
                    
                    <p style="margin-top: 30px;">Best regards,<br/>Healthcare Team</p>
                </div>
            `,status:"pending",appointmentData:{patientName:u,patientEmail:s,appointmentDate:c,appointmentTime:f,hospitalName:g,doctorName:x,reason:y},createdAt:new Date().toISOString()}),console.log("Email notification queued successfully"),{success:!0}}catch(s){return console.error("Error queuing email notification:",s),{success:!1,error:s.message}}},nt={container:{minHeight:"100vh",background:"var(--bg-main)",padding:"clamp(0.75rem, 3vw, 2rem) clamp(0.5rem, 2vw, 1rem)",fontFamily:"var(--font-sans)",color:"var(--text-main)"},mainCard:{maxWidth:"1200px",margin:"0 auto",background:"var(--bg-card)",borderRadius:"16px",boxShadow:"var(--shadow-xl)",overflow:"hidden",border:"1px solid var(--border-subtle)"},header:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",padding:"clamp(1rem, 3vw, 2rem)",color:"white",textAlign:"center"},content:{padding:"clamp(1rem, 3vw, 2rem)",display:"grid",gap:"clamp(1rem, 2vw, 2rem)",gridTemplateColumns:"1fr"},twoColumn:{gridTemplateColumns:"1fr"},infoBox:{padding:"clamp(1rem, 2vw, 1.25rem)",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.5rem",marginBottom:"1rem",fontSize:"0.95rem",background:"var(--bg-main)",border:"1px solid var(--border-subtle)",borderLeft:"4px solid var(--primary)"},input:{padding:"0.75rem",border:"1px solid var(--border-subtle)",borderRadius:"8px",fontSize:"1rem",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box",background:"var(--bg-main)",color:"var(--text-main)"},button:{padding:"0.8rem 1.5rem",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%",boxSizing:"border-box"},primaryButton:{background:"var(--primary)",color:"white",boxShadow:"var(--shadow-md)"},secondaryButton:{background:"white",color:"var(--text-secondary)",border:"1px solid var(--border-subtle)"},card:{background:"var(--bg-card)",borderRadius:"16px",padding:"1.5rem",boxShadow:"var(--shadow-sm)",border:"1px solid var(--border-subtle)"},providerCard:{background:"var(--bg-main)",borderRadius:"12px",padding:"1.25rem",border:"1px solid var(--border-subtle)",position:"relative",transition:"all 0.2s ease"},sectionTitle:{fontSize:"1.2rem",fontWeight:"700",color:"var(--text-main)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},historyCard:{background:"white",borderRadius:"10px",padding:"1rem",border:"1px solid var(--border-subtle)",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center"}},Nx=()=>{const[r,s]=b.useState({patientName:"",phone:"",dob:"",email:"",appointmentDate:"",appointmentTime:"",reason:"",providerType:"hospital",providerId:"",hospitalId:"",doctorId:"",country:"",state:"",city:""}),[u,c]=b.useState(!1),[f,g]=b.useState(null),[x,y]=b.useState(""),[w,j]=b.useState(!1),[C,U]=b.useState({countries:[],structured:{}}),[A,re]=b.useState([]),[P,K]=b.useState([]),[G,se]=b.useState([]),[E,le]=b.useState([]),[oe,B]=b.useState(!1),[$e,ht]=b.useState(!1),[$,ue]=b.useState("location"),[I,at]=b.useState(""),[he,ct]=b.useState(null),[wt,Fe]=b.useState(null),[W,ce]=b.useState(!0),[fe,lt]=b.useState(null),[Ge,Rt]=b.useState([]),[We,be]=b.useState(!1),[Ze,_t]=b.useState(!1),[kt,Et]=b.useState(window.innerWidth),[Cn,Dt]=b.useState([]),[an,Nt]=b.useState(!1),[gn,xt]=b.useState(""),[k,we]=b.useState(null),[xe,Le]=b.useState(null),Ie=C&&Array.isArray(C.countries)&&C.countries.length?C.countries:oh,An=Ie.slice(0,6);b.useEffect(()=>{const N=()=>Et(window.innerWidth);return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const qn=kt<768,me=kt>=768&&kt<1024,yn=kt>=1024,ki=()=>qn?"1fr":"repeat(2, 1fr)";b.useEffect(()=>{(async()=>{ce(!0);try{if("geolocation"in navigator)navigator.geolocation.getCurrentPosition(async J=>{const{latitude:ve,longitude:je}=J.coords;console.log("User coordinates:",ve,je);try{const Te=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ve}&lon=${je}&accept-language=en`)).json();console.log("Geocoding response:",Te);const bt={country:Te.address?.country||"India",state:Te.address?.state||"",city:Te.address?.city||Te.address?.town||Te.address?.village||""};lt(bt),s(Mn=>({...Mn,country:bt.country,state:bt.state,city:bt.city})),console.log("User location set:",bt)}catch(ge){console.error("Geocoding error:",ge);const Te=Mt();s(bt=>({...bt,country:Te}))}ce(!1)},J=>{console.warn("Geolocation error:",J.message);const ve=Mt();s(je=>({...je,country:ve})),ce(!1)},{enableHighAccuracy:!1,timeout:5e3,maximumAge:0});else{const J=Mt();s(ve=>({...ve,country:J})),ce(!1)}}catch(J){console.error("Error getting location:",J);const ve=Mt();s(je=>({...je,country:ve})),ce(!1)}})()},[]);const Mt=()=>{try{const N=navigator.language||navigator.userLanguage;console.log("Browser language:",N);const J=Intl.DateTimeFormat().resolvedOptions().timeZone;return console.log("Timezone:",J),J.includes("Kolkata")||J.includes("Mumbai")||J.includes("Delhi")?"India":J.includes("New_York")||J.includes("Los_Angeles")||J.includes("Chicago")?"United States":J.includes("London")?"United Kingdom":J.includes("Dubai")?"United Arab Emirates":J.includes("Singapore")?"Singapore":J.includes("Tokyo")?"Japan":J.includes("Shanghai")||J.includes("Hong_Kong")?"China":J.includes("Sydney")||J.includes("Melbourne")?"Australia":N.startsWith("en-IN")?"India":N.startsWith("en-US")?"United States":N.startsWith("en-GB")?"United Kingdom":N.startsWith("ar")?"United Arab Emirates":"India"}catch(N){return console.error("Error detecting country from browser:",N),"India"}};b.useEffect(()=>{(async()=>{try{console.log("BookAppointment: Loading locations...");const J=await zx();console.log("BookAppointment: Locations loaded:",J),U(J),(!J.countries||J.countries.length===0)&&(console.warn("BookAppointment: No locations found in database!"),y("No healthcare providers found in the database. Please register hospitals or doctors first."))}catch(J){console.error("BookAppointment: Error loading locations:",J),y("Failed to load locations. Please check your connection and try again.")}})()},[]),b.useEffect(()=>{if(r.country&&C.structured[r.country]){const N=Object.keys(C.structured[r.country]).sort();re(N),r.state&&!N.includes(r.state)&&s(J=>({...J,state:"",city:""}))}else re([]),K([])},[r.country,C.structured]),b.useEffect(()=>{if(r.country&&r.state&&C.structured[r.country]?.[r.state]){const N=C.structured[r.country][r.state];K(N),r.city&&!N.includes(r.city)&&s(J=>({...J,city:""}))}else K([])},[r.country,r.state,C.structured]),b.useEffect(()=>{const J=setTimeout(async()=>{if(r.phone.replace(/\D/g,"").length>=10){be(!0);try{const je=await Tx(r.phone);if(je.length>0){Rt(je),_t(!0);const ge=je.sort((Te,bt)=>new Date(bt.createdAt)-new Date(Te.createdAt))[0];ge.patientName&&!r.patientName&&s(Te=>({...Te,patientName:ge.patientName,email:ge.patientEmail||Te.email}))}else Rt([]),_t(!1)}catch(je){console.error("Error fetching appointment history:",je)}finally{be(!1)}}else Rt([]),_t(!1)},500);return()=>clearTimeout(J)},[r.phone]),b.useEffect(()=>{(async()=>{if($!=="name"){if(!r.country){se([]);return}console.log("BookAppointment: Loading providers...",{providerType:r.providerType,country:r.country,state:r.state,city:r.city}),B(!0),y("");try{const J={country:r.country,...r.state&&{state:r.state},...r.city&&{city:r.city}};console.log("BookAppointment: Applying filters:",J);let ve=[];r.providerType==="hospital"?(ve=await Yr(J),console.log("BookAppointment: Hospitals loaded:",ve.length),console.log("BookAppointment: Hospital details:",ve)):(ve=await ec(J),console.log("BookAppointment: Doctors loaded:",ve.length),console.log("BookAppointment: Doctor details:",ve)),se(ve),ve.length===0&&(console.warn("BookAppointment: No providers found for filters:",J),console.warn("BookAppointment: Please check if your hospital has these exact location fields:",J))}catch(J){console.error("BookAppointment: Error loading providers:",J),y("Failed to load providers. Please try again.")}finally{B(!1)}}})()},[r.country,r.state,r.city,r.providerType,$]),b.useEffect(()=>{const J=setTimeout(async()=>{if(console.log(" BookAppointment Search Effect Triggered:",{searchMode:$,searchName:I,providerType:r.providerType,searchNameTrimmed:I.trim(),searchNameLength:I.length}),$!=="name"||!I.trim()){$==="name"&&(console.log(" Clearing providers (empty search)"),se([]));return}if(I.length<2){console.log(" Search name too short, waiting for more characters...");return}console.log(" BookAppointment: Searching by name:",I,"Type:",r.providerType),B(!0),y("");try{const ve=await Bx(I,r.providerType);console.log(" BookAppointment: Search results:",ve.length,ve),se(ve),ve.length===0&&console.warn(" BookAppointment: No providers found matching:",I)}catch(ve){console.error(" BookAppointment: Error searching providers:",ve),y("Failed to search providers. Please try again.")}finally{B(!1)}},300);return()=>clearTimeout(J)},[I,r.providerType,$]);const Qt=N=>{const{name:J,value:ve}=N.target;if(s({...r,[J]:ve}),J==="country")s(je=>({...je,state:"",city:"",providerId:"",hospitalId:"",doctorId:""})),se([]),le([]),ct(null),Fe(null);else if(J==="state")s(je=>({...je,city:"",providerId:"",hospitalId:"",doctorId:""})),le([]),ct(null),Fe(null);else if(J==="city"||J==="providerType")s(je=>({...je,providerId:"",hospitalId:"",doctorId:""})),le([]),ct(null),Fe(null);else if(J==="providerId"){const je=G.find(ge=>r.providerType==="hospital"?ge.id===ve:ge.uid===ve||ge.id===ve);console.log("Provider selected:",{value:ve,provider:je,providerType:r.providerType}),ct(je||null),r.providerType==="hospital"&&ve?(s(ge=>({...ge,hospitalId:ve,doctorId:""})),Fe(je),Vn(ve)):(s(ge=>({...ge,hospitalId:"",doctorId:ve})),le([]),Fe(null))}else if(J==="doctorId"){const je=E.find(ge=>ge.uid===ve||ge.id===ve);je&&ct({...wt,selectedDoctor:je})}},Vn=async N=>{ht(!0);try{console.log("Loading doctors for hospital:",N);const J=await Rx(N);console.log("Hospital doctors loaded:",J),le(J)}catch(J){console.error("Error loading hospital doctors:",J),y("Failed to load doctors for this hospital.")}finally{ht(!1)}},ft=N=>{console.log(" Search mode changed to:",N),ue(N),s(J=>({...J,providerId:""})),se([]),ct(null),at("")},Qn=async N=>{try{const J=!!N.hospitalId;if(s(ve=>({...ve,providerType:J?"hospital":"doctor",providerId:J?N.hospitalId:N.doctorId})),J){const je=(await Yr({})).find(ge=>ge.id===N.hospitalId);je&&(se([je]),ct(je),s(ge=>({...ge,country:je.country||ge.country,state:je.state||ge.state,city:je.city||ge.city})))}else{const je=(await ec({})).find(ge=>ge.uid===N.doctorId);je&&(se([je]),ct(je),s(ge=>({...ge,country:je.country||ge.country,state:je.state||ge.state,city:je.city||ge.city})))}_t(!1)}catch(J){console.error("Error selecting previous provider:",J),y("Failed to load previous provider details.")}},Ht=(N,J)=>{if(!N||!J)return[];const{workingHours:ve,slotDuration:je,workingDays:ge,unavailableDates:Te,blockedTimeSlots:bt}=N,Mn=new Date(J).getDay();if(!ge.includes(Mn))return[];if(Te&&Te.includes(J))return[];const sn=[],[Gn,Tt]=ve.start.split(":").map(Number),[ln,xn]=ve.end.split(":").map(Number);let Bn=Gn*60+Tt;const Ve=ln*60+xn;for(;Bn<Ve;){const ni=Math.floor(Bn/60),gt=Bn%60,Xt=`${String(ni).padStart(2,"0")}:${String(gt).padStart(2,"0")}`;bt&&bt.some(Xe=>Xe.date===J&&Xe.time===Xt)||sn.push(Xt),Bn+=je}return sn};b.useEffect(()=>{(async()=>{if(!r.doctorId||!r.appointmentDate){Dt([]),xt("");return}Nt(!0),xt("");try{console.log("Fetching slots for doctor:",r.doctorId,"date:",r.appointmentDate);const J=await oc(r.doctorId);console.log("Doctor availability:",J),we(J);const ve=Ht(J,r.appointmentDate);console.log("Generated slots:",ve);const je=Se(Y,"appointments"),ge=Ae(je,de("doctorId","==",r.doctorId),de("appointmentDate","==",r.appointmentDate),de("status","in",["pending","confirmed"])),bt=(await He(ge)).docs.map(sn=>sn.data().appointmentTime);console.log("Booked times:",bt);const Mn=ve.filter(sn=>!bt.includes(sn));console.log("Available slots:",Mn),Dt(Mn)}catch(J){console.error("Error fetching time slots:",J),xt(`Failed to load slots: ${J.message}`),Dt([])}finally{Nt(!1)}})()},[r.doctorId,r.appointmentDate]);const rn=async N=>{N.preventDefault(),j(!0),y(""),c(!1);try{if(console.log("Booking appointment...",r),!r.patientName||!r.phone||!r.dob)throw new Error("Name, phone number, and date of birth are required");if(r.providerType==="hospital"){if(!r.hospitalId)throw new Error("Please select a hospital");if(!r.doctorId)throw new Error("Please select a doctor from the hospital")}else if(!r.doctorId)throw new Error("Please select a doctor");console.log("Checking slot availability before booking...");const J=Se(Y,"appointments"),ve=Ae(J,de("doctorId","==",r.doctorId),de("appointmentDate","==",r.appointmentDate),de("appointmentTime","==",r.appointmentTime),de("status","in",["pending","confirmed"]));if(!(await He(ve)).empty)throw new Error("This time slot is no longer available. Please select a different time.");const ge={patientName:r.patientName,patientPhone:r.phone,patientDob:r.dob,patientEmail:r.email||null,appointmentDate:r.appointmentDate,appointmentTime:r.appointmentTime,reason:r.reason,status:"pending",country:r.country,state:r.state,city:r.city};if(r.providerType==="hospital"){ge.hospitalId=r.hospitalId,ge.hospitalName=wt?.name||"",ge.doctorId=r.doctorId;const Te=E.find(bt=>(bt.uid||bt.id)===r.doctorId);Te&&(ge.doctorName=Te.displayName||Te.name,ge.specialization=Te.specialization)}else{const Te=G.find(bt=>(bt.uid||bt.id)===r.doctorId);if(!Te)throw new Error("Selected doctor not found");ge.doctorId=Te.uid||Te.id,ge.doctorName=Te.displayName||Te.name,ge.specialization=Te.specialization,Te.hospitalId&&(ge.hospitalId=Te.hospitalId,ge.hospitalName=Te.hospitalName||"")}await Dx(ge),console.log("Appointment booked successfully!"),Promise.all([kx(ge),Ex(ge)]).then(([Te,bt])=>{console.log("SMS result:",Te),console.log("Email result:",bt)}).catch(Te=>{console.error("Notification error (non-blocking):",Te)}),g(ge),c(!0),y(""),ge.hospitalId&&localStorage.setItem("lastUsedHospitalId",ge.hospitalId),console.log(" Success state set:",{success:!0,bookedAppointment:ge}),window.scrollTo({top:0,behavior:"smooth"}),s({patientName:"",phone:"",dob:"",email:"",appointmentDate:"",appointmentTime:"",reason:"",providerType:"hospital",providerId:"",hospitalId:"",doctorId:"",country:fe?.country||Mt(),state:fe?.state||"",city:fe?.city||""}),se([]),le([]),ct(null),Fe(null),at(""),Rt([]),_t(!1),window.scrollTo({top:0,behavior:"smooth"})}catch(J){console.error("Error booking appointment:",J),y(J.message||"Failed to book appointment. Please try again.")}finally{j(!1)}};return t.jsx("div",{style:nt.container,children:t.jsxs("div",{style:nt.mainCard,children:[t.jsxs("div",{style:nt.header,children:[t.jsxs("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{style:{display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:28})}),"Book an Appointment"]}),t.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:.9,fontSize:"1rem"},children:"No registration required! Just fill in your details to book."})]}),t.jsxs("div",{style:{...nt.content,...he&&yn?nt.twoColumn:{}},children:[t.jsxs("div",{children:[W&&t.jsxs("div",{style:{...nt.infoBox,background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",color:"#1565c0"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"Detecting your location to show nearby providers..."})]}),fe&&!W&&t.jsxs("div",{style:{...nt.infoBox,background:"linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%)",color:"#155724"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsxs("span",{children:["Location detected: ",fe.city&&`${fe.city}, `,fe.state,", ",fe.country]})]}),u&&f&&t.jsxs("div",{style:{background:"linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%)",border:"2px solid #28a745",borderRadius:"15px",padding:"clamp(1.25rem, 3vw, 2rem)",marginBottom:"1.5rem",boxShadow:"0 4px 20px rgba(40, 167, 69, 0.2)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #28a745"},children:[t.jsx("span",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},children:""}),t.jsxs("div",{children:[t.jsx("h3",{style:{margin:0,color:"#155724",fontSize:"clamp(1.2rem, 4vw, 1.8rem)",fontWeight:"700"},children:"Appointment Confirmed!"}),t.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#155724",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",opacity:.8},children:"Your booking has been successfully confirmed"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(100%, 250px), 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{background:"white",padding:"clamp(0.85rem, 2vw, 1rem)",borderRadius:"10px",border:"1px solid #c3e6cb"},children:[t.jsx("div",{style:{fontSize:"clamp(0.75rem, 2vw, 0.85rem)",color:"#155724",opacity:.7,marginBottom:"0.25rem",fontWeight:"600"},children:"PATIENT"}),t.jsx("div",{style:{fontSize:"clamp(0.95rem, 2.5vw, 1.1rem)",color:"#155724",fontWeight:"600"},children:f.patientName}),t.jsxs("div",{style:{fontSize:"clamp(0.8rem, 2vw, 0.9rem)",color:"#155724",opacity:.8,marginTop:"0.25rem"},children:[" ",f.patientPhone]})]}),t.jsxs("div",{style:{background:"white",padding:"clamp(0.85rem, 2vw, 1rem)",borderRadius:"10px",border:"1px solid #c3e6cb"},children:[t.jsx("div",{style:{fontSize:"clamp(0.75rem, 2vw, 0.85rem)",color:"#155724",opacity:.7,marginBottom:"0.25rem",fontWeight:"600"},children:"DATE & TIME"}),t.jsxs("div",{style:{fontSize:"clamp(0.95rem, 2.5vw, 1.1rem)",color:"#155724",fontWeight:"600"},children:[" ",new Date(f.appointmentDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]}),t.jsxs("div",{style:{fontSize:"clamp(0.8rem, 2vw, 0.9rem)",color:"#155724",opacity:.8,marginTop:"0.25rem"},children:[" ",f.appointmentTime]})]}),f.doctorName&&t.jsxs("div",{style:{background:"white",padding:"clamp(0.85rem, 2vw, 1rem)",borderRadius:"10px",border:"1px solid #c3e6cb"},children:[t.jsx("div",{style:{fontSize:"clamp(0.75rem, 2vw, 0.85rem)",color:"#155724",opacity:.7,marginBottom:"0.25rem",fontWeight:"600"},children:"DOCTOR"}),t.jsxs("div",{style:{fontSize:"clamp(0.95rem, 2.5vw, 1.1rem)",color:"#155724",fontWeight:"600"},children:[" ",f.doctorName]}),f.specialization&&t.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 0.9rem)",color:"#155724",opacity:.8,marginTop:"0.25rem"},children:f.specialization})]}),f.hospitalName?t.jsxs("div",{style:{background:"white",padding:"clamp(0.85rem, 2vw, 1rem)",borderRadius:"10px",border:"1px solid #c3e6cb"},children:[t.jsx("div",{style:{fontSize:"clamp(0.75rem, 2vw, 0.85rem)",color:"#155724",opacity:.7,marginBottom:"0.25rem",fontWeight:"600"},children:"HOSPITAL"}),t.jsxs("div",{style:{fontSize:"clamp(0.95rem, 2.5vw, 1.1rem)",color:"#155724",fontWeight:"600"},children:[" ",f.hospitalName]}),t.jsxs("div",{style:{fontSize:"clamp(0.8rem, 2vw, 0.9rem)",color:"#155724",opacity:.8,marginTop:"0.25rem"},children:[" ",f.city,", ",f.state]})]}):t.jsxs("div",{style:{background:"white",padding:"clamp(0.85rem, 2vw, 1rem)",borderRadius:"10px",border:"1px solid #c3e6cb"},children:[t.jsx("div",{style:{fontSize:"clamp(0.75rem, 2vw, 0.85rem)",color:"#155724",opacity:.7,marginBottom:"0.25rem",fontWeight:"600"},children:"LOCATION"}),t.jsxs("div",{style:{fontSize:"clamp(0.95rem, 2.5vw, 1.1rem)",color:"#155724",fontWeight:"600"},children:[" ",f.city,", ",f.state]}),t.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 0.9rem)",color:"#155724",opacity:.8,marginTop:"0.25rem"},children:f.country})]})]}),t.jsxs("div",{style:{marginTop:"1.5rem",padding:"clamp(0.85rem, 2vw, 1rem)",background:"rgba(255, 255, 255, 0.5)",borderRadius:"10px",fontSize:"clamp(0.85rem, 2.5vw, 0.95rem)",color:"#155724",lineHeight:"1.6"},children:[t.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:[" Confirmation sent to: ",f.patientEmail]}),t.jsx("div",{style:{opacity:.8},children:" We'll send you an SMS confirmation shortly. Please arrive 10 minutes before your appointment time."})]}),t.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),g(null)},style:{...nt.button,...nt.primaryButton,flex:"1 1 200px"},children:" Book Another Appointment"}),t.jsx(ji,{to:"/",style:{...nt.button,...nt.secondaryButton,flex:"1 1 200px",textDecoration:"none",background:"white",border:"2px solid #28a745",color:"#155724"},children:" Go to Home"})]})]}),x&&t.jsxs("div",{style:{...nt.infoBox,background:"linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%)",color:"#721c24"},children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:x})]}),!u&&t.jsxs("form",{onSubmit:rn,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[t.jsxs("div",{style:nt.card,children:[t.jsxs("div",{style:nt.sectionTitle,children:[t.jsx("span",{children:""})," Personal Information"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx("input",{name:"patientName",type:"text",placeholder:"Full Name *",required:!0,value:r.patientName,onChange:Qt,style:nt.input,onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("input",{name:"dob",type:"date",placeholder:"Date of Birth *",required:!0,value:r.dob,onChange:Qt,max:new Date().toISOString().split("T")[0],style:nt.input,onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"}),t.jsx("small",{style:{color:"#666",fontSize:"0.8rem",display:"block",marginTop:"0.25rem"},children:" Date of Birth (Required for patient records)"})]}),t.jsx("input",{name:"phone",type:"tel",placeholder:"Phone Number *",required:!0,value:r.phone,onChange:Qt,style:nt.input,onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"}),We&&t.jsx("small",{style:{color:"#666",fontSize:"0.85rem",marginTop:"-0.5rem"},children:" Checking previous appointments..."}),t.jsx("input",{name:"email",type:"email",placeholder:"Email (optional)",value:r.email,onChange:Qt,style:nt.input,onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"})]})]}),Ze&&Ge.length>0&&t.jsxs("div",{style:nt.card,children:[t.jsxs("div",{style:nt.sectionTitle,children:[t.jsx("span",{children:""})," Previous Appointments",t.jsx("span",{style:{marginLeft:"auto",background:"#667eea",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"600"},children:Ge.length})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",maxHeight:"300px",overflowY:"auto"},children:Ge.slice(0,5).map(N=>t.jsx("div",{style:nt.historyCard,onClick:()=>Qn(N),onMouseEnter:J=>{J.currentTarget.style.borderColor="#667eea",J.currentTarget.style.transform="translateX(5px)",J.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.2)"},onMouseLeave:J=>{J.currentTarget.style.borderColor="#e9ecef",J.currentTarget.style.transform="translateX(0)",J.currentTarget.style.boxShadow="none"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("p",{style:{margin:0,fontWeight:"600",fontSize:"1rem",color:"#333"},children:N.hospitalName||N.doctorName}),N.specialization&&t.jsx("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem",color:"#666"},children:N.specialization}),t.jsxs("p",{style:{margin:"0.25rem 0",fontSize:"0.85rem",color:"#999"},children:[new Date(N.appointmentDate).toLocaleDateString()," ",t.jsx("span",{style:{textTransform:"capitalize",color:N.status==="completed"?"#28a745":"#ffc107",marginLeft:"0.25rem"},children:N.status})]})]}),t.jsx("span",{style:{fontSize:"0.85rem",color:"#667eea",fontWeight:"600",whiteSpace:"nowrap",marginLeft:"1rem"},children:"Book Again "})]})},N.id))}),t.jsx("button",{type:"button",onClick:()=>_t(!1),style:{marginTop:"0.75rem",padding:"0.5rem",background:"transparent",border:"none",color:"#666",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline"},children:"Hide history"})]}),t.jsxs("div",{style:nt.card,children:[t.jsxs("div",{style:nt.sectionTitle,children:[t.jsx("span",{children:""})," Find Hospital or Doctor"]}),xe&&!r.hospitalId&&r.providerType==="hospital"&&t.jsxs("div",{onClick:()=>{s(N=>({...N,country:xe.country||N.country,state:xe.state||N.state,city:xe.city||N.city})),se([xe]),ct(xe),s(N=>({...N,country:xe.country,state:xe.state,city:xe.city,hospitalId:xe.id,providerId:xe.id})),Vn(xe.id)},style:{background:"#f0f9ff",border:"1px solid #bae6fd",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"1rem"},children:[t.jsx("div",{style:{fontSize:"1.5rem"},children:""}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"600",color:"#0369a1"},children:["Book again with ",xe.name||xe.displayName]}),t.jsxs("div",{style:{fontSize:"0.9rem",color:"#0c4a6e"},children:[xe.city,", ",xe.state]})]}),t.jsx("div",{style:{marginLeft:"auto",color:"#0284c7",fontWeight:"600"},children:"Select "})]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem"},children:[t.jsx("button",{type:"button",onClick:()=>ft("location"),style:{...nt.button,flex:1,background:$==="location"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#f0f0f0",color:$==="location"?"white":"#666",boxShadow:$==="location"?"0 4px 15px rgba(102, 126, 234, 0.3)":"none"},children:" By Location"}),t.jsx("button",{type:"button",onClick:()=>ft("name"),style:{...nt.button,flex:1,background:$==="name"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#f0f0f0",color:$==="name"?"white":"#666",boxShadow:$==="name"?"0 4px 15px rgba(102, 126, 234, 0.3)":"none"},children:" By Name"})]}),t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("label",{style:{fontSize:"0.95rem",fontWeight:"500",color:"#555",marginBottom:"0.5rem",display:"block"},children:"Book with:"}),t.jsxs("select",{name:"providerType",value:r.providerType,onChange:Qt,style:{...nt.input,cursor:"pointer"},children:[t.jsx("option",{value:"hospital",children:" Hospital"}),t.jsx("option",{value:"doctor",children:" Doctor"})]})]}),$==="name"?t.jsx("input",{type:"text",placeholder:`Search ${r.providerType==="hospital"?"hospital":"doctor"} by name...`,value:I,onChange:N=>at(N.target.value),style:nt.input,onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("select",{name:"country",value:r.country,onChange:Qt,required:!0,style:{...nt.input,cursor:"pointer",backgroundColor:"white"},children:[t.jsx("option",{value:"",children:"Select Country *"}),t.jsx("optgroup",{label:"Popular",children:An.map(N=>t.jsx("option",{value:N,children:N},`pop-${N}`))}),t.jsx("optgroup",{label:"All Countries",children:Ie.map(N=>t.jsx("option",{value:N,children:N},N))})]}),t.jsxs("select",{name:"state",value:r.state,onChange:Qt,required:$==="location",disabled:!r.country||A.length===0,style:nt.input,children:[t.jsx("option",{value:"",children:r.country?A.length===0?"No states available":"Select State/Province *":"Select country first"}),A.map(N=>t.jsx("option",{value:N,children:N},N))]}),t.jsxs("select",{name:"city",value:r.city,onChange:Qt,disabled:!r.state||P.length===0,style:nt.input,children:[t.jsx("option",{value:"",children:r.state?P.length===0?"No cities available":"Select City (optional)":"Select state first"}),P.map(N=>t.jsx("option",{value:N,children:N},N))]})]}),t.jsxs("div",{style:{marginTop:"1rem"},children:[G.length>0&&t.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginBottom:"0.5rem",background:"#e8f5e9",padding:"0.5rem",borderRadius:"5px"},children:[" Found ",G.length," ",r.providerType==="hospital"?"hospital(s)":"doctor(s)"]}),t.jsxs("select",{name:"providerId",value:r.providerId,onChange:Qt,required:!0,disabled:oe||$==="location"&&!r.country||$==="name"&&I.length<2,style:nt.input,children:[t.jsx("option",{value:"",children:oe?" Loading...":`Select ${r.providerType==="hospital"?"Hospital":"Doctor"} *`}),G.map(N=>{const J=r.providerType==="hospital"?N.id:N.uid||N.id,ve=N.name||N.displayName||"Unnamed Provider";return console.log("Rendering provider option:",{id:J,name:ve,provider:N}),t.jsxs("option",{value:J,children:[ve,N.specialization&&` - ${N.specialization}`,N.city&&` (${N.city})`]},J)})]}),G.length===0&&($==="location"&&r.state||$==="name"&&I.length>=2)&&!oe&&t.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#fff3cd",color:"#856404",borderRadius:"10px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["No ",r.providerType==="hospital"?"hospitals":"doctors"," found. Try a different ",$==="location"?"location":"search term","."]})]})]}),r.providerType==="hospital"&&r.hospitalId&&t.jsxs("div",{style:{marginTop:"1rem"},children:[t.jsxs("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"#555",marginBottom:"0.5rem",display:"block"},children:["Select Doctor at ",wt?.name," *"]}),t.jsxs("select",{name:"doctorId",value:r.doctorId,onChange:Qt,required:!0,disabled:$e,style:nt.input,children:[t.jsx("option",{value:"",children:$e?" Loading doctors...":"Select a doctor *"}),E.map(N=>t.jsxs("option",{value:N.id||N.uid,children:[N.displayName||N.name,N.specialization&&` - ${N.specialization}`]},N.id||N.uid))]}),E.length===0&&!$e&&t.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#fff3cd",color:"#856404",borderRadius:"10px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{children:""}),t.jsx("span",{children:"No doctors available at this hospital yet. The hospital needs to add doctors to their staff."})]})]})]}),t.jsxs("div",{style:nt.card,children:[t.jsxs("div",{style:nt.sectionTitle,children:[t.jsx("span",{children:""})," Appointment Details"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:ki(),gap:"1rem",marginBottom:"1rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"#555",marginBottom:"0.5rem",display:"block"},children:"Date *"}),t.jsx("input",{name:"appointmentDate",type:"date",required:!0,value:r.appointmentDate,onChange:Qt,min:new Date().toISOString().split("T")[0],style:nt.input,onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"#555",marginBottom:"0.5rem",display:"block"},children:"Time Slot *"}),r.doctorId?r.appointmentDate?gn?t.jsxs("div",{style:{padding:"1rem",background:"#fee",borderRadius:"8px",color:"#c33",fontSize:"0.9rem",border:"1px solid #fcc"},children:[" ",gn]}):an?t.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",color:"#667eea",fontSize:"0.9rem",textAlign:"center"},children:"Loading available slots..."}):Cn.length===0?t.jsx("div",{style:{padding:"1rem",background:"#fee",borderRadius:"8px",color:"#c33",fontSize:"0.9rem"},children:"No available slots for this date. Please select another date."}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"0.75rem",marginTop:"0.5rem"},children:Cn.map(N=>t.jsxs("button",{type:"button",onClick:()=>s(J=>({...J,appointmentTime:N})),style:{padding:"0.75rem",borderRadius:"8px",border:r.appointmentTime===N?"2px solid #667eea":"2px solid #e0e0e0",background:r.appointmentTime===N?"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)":"white",color:r.appointmentTime===N?"#667eea":"#333",fontWeight:r.appointmentTime===N?"600":"500",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease",boxShadow:r.appointmentTime===N?"0 2px 8px rgba(102, 126, 234, 0.3)":"none"},onMouseEnter:J=>{r.appointmentTime!==N&&(J.target.style.borderColor="#667eea",J.target.style.background="#f8f9fa")},onMouseLeave:J=>{r.appointmentTime!==N&&(J.target.style.borderColor="#e0e0e0",J.target.style.background="white")},children:[" ",N]},N))}):t.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",color:"#666",fontSize:"0.9rem"},children:"Please select a date to view available time slots"}):t.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",color:"#666",fontSize:"0.9rem"},children:"Please select a doctor first to view available time slots"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"#555",marginBottom:"0.5rem",display:"block"},children:"Reason for visit (optional)"}),t.jsx("textarea",{name:"reason",placeholder:"Describe your symptoms or reason for visit...",value:r.reason,onChange:Qt,rows:"4",style:{...nt.input,resize:"vertical",fontFamily:"inherit"},onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#e0e0e0"})]})]}),t.jsx("button",{type:"submit",disabled:w,style:{...nt.button,...nt.primaryButton,opacity:w?.7:1,cursor:w?"not-allowed":"pointer",fontSize:"1.1rem",padding:"1rem"},onMouseEnter:N=>{w||(N.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:N=>{N.currentTarget.style.transform="translateY(0)"},children:w?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""})," Booking..."]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""})," Book Appointment"]})}),t.jsxs("div",{style:{textAlign:"center",padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px",marginTop:"1rem"},children:[t.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"#666",fontSize:"0.95rem"},children:"Are you a doctor or hospital?"}),t.jsx(ji,{to:"/register",style:{color:"#667eea",fontWeight:"600",fontSize:"1rem",textDecoration:"none"},children:"Register here "})]})]})]}),he&&t.jsxs("div",{style:nt.providerCard,children:[t.jsxs("div",{style:nt.sectionTitle,children:[t.jsx("span",{children:""})," Selected Provider"]}),t.jsxs("div",{style:{marginTop:"1.5rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"12px",marginBottom:"1rem"},children:[t.jsx("p",{style:{fontWeight:"700",fontSize:"1.3rem",marginBottom:"0.75rem",color:"#667eea",lineHeight:"1.3"},children:he.name||he.displayName}),he.specialization&&t.jsx("div",{style:{display:"inline-block",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"0.4rem 0.9rem",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"600",marginBottom:"1rem"},children:he.specialization})]}),(he.email||he.phone)&&t.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"12px",marginBottom:"1rem"},children:[t.jsx("p",{style:{fontSize:"0.85rem",fontWeight:"700",color:"#666",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Contact"}),he.email&&t.jsxs("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{children:""}),t.jsx("span",{style:{wordBreak:"break-word"},children:he.email})]}),he.phone&&t.jsxs("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{children:""}),t.jsx("span",{children:he.phone})]})]}),t.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"12px"},children:[t.jsx("p",{style:{fontSize:"0.85rem",fontWeight:"700",color:"#666",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Address"}),t.jsxs("p",{style:{margin:0,fontSize:"0.95rem",lineHeight:"1.6",color:"#555"},children:[he.address&&t.jsxs(t.Fragment,{children:[he.address,t.jsx("br",{})]}),he.city&&t.jsxs(t.Fragment,{children:[he.city,", "]}),he.state&&t.jsxs(t.Fragment,{children:[he.state,t.jsx("br",{})]}),he.country||"N/A"]})]})]})]})]})]})})},Mx=()=>{const[r,s]=b.useState({email:"",password:"",name:"Admin",setupKey:""}),[u,c]=b.useState(""),[f,g]=b.useState(!1),[x,y]=b.useState(!1),w=al(),{currentUser:j,userProfile:C}=Ia();b.useEffect(()=>{j?C?.role!=="admin"&&w("/dashboard"):w("/")},[j,C,w]);const U=async A=>{A.preventDefault(),y(!0),c("");try{const re=ih(),K=await ic(re,"createSecureAdmin")({email:r.email,password:r.password,name:r.name,setupKey:r.setupKey});g(!0),s({email:"",password:"",name:"Admin",setupKey:""}),setTimeout(()=>{w(j?"/dashboard":"/login")},2e3)}catch(re){console.error("Error creating admin:",re),c(re.message||"Failed to create admin user. Check your setup key and try again."),y(!1)}};return t.jsx("div",{style:Wt.container,children:t.jsxs("div",{style:Wt.card,children:[t.jsxs("div",{style:Wt.header,children:[t.jsx("div",{style:Wt.icon,children:""}),t.jsx("h2",{style:Wt.title,children:"Setup Admin User"})]}),t.jsxs("div",{style:Wt.warningBox,children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),t.jsx("strong",{style:{display:"block",marginBottom:"0.5rem"},children:"SECURITY NOTICE"}),t.jsxs("p",{style:{margin:0,fontSize:"0.9rem",lineHeight:"1.5"},children:["This is a protected operation. You need the admin setup key from your Firebase Functions config.",j&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("strong",{children:"Note:"})," As an admin, you can create additional admin accounts."]})]})]}),f&&t.jsxs("div",{style:Wt.successBox,children:[t.jsx("span",{style:{fontSize:"1.5rem",marginRight:"0.5rem"},children:""}),"Admin user created successfully! Redirecting..."]}),u&&t.jsxs("div",{style:Wt.errorBox,children:[t.jsx("span",{style:{fontSize:"1.5rem",marginRight:"0.5rem"},children:""}),u]}),t.jsxs("form",{onSubmit:U,style:Wt.form,children:[t.jsxs("div",{style:Wt.inputGroup,children:[t.jsx("label",{style:Wt.label,children:"Admin Name"}),t.jsx("input",{name:"name",type:"text",placeholder:"Enter admin name",required:!0,value:r.name,onChange:A=>s({...r,name:A.target.value}),style:Wt.input})]}),t.jsxs("div",{style:Wt.inputGroup,children:[t.jsx("label",{style:Wt.label,children:"Admin Email"}),t.jsx("input",{name:"email",type:"email",placeholder:"admin@example.com",required:!0,value:r.email,onChange:A=>s({...r,email:A.target.value}),style:Wt.input})]}),t.jsxs("div",{style:Wt.inputGroup,children:[t.jsx("label",{style:Wt.label,children:"Password"}),t.jsx("input",{name:"password",type:"password",placeholder:"Minimum 8 characters",required:!0,minLength:"8",value:r.password,onChange:A=>s({...r,password:A.target.value}),style:Wt.input})]}),t.jsxs("div",{style:Wt.inputGroup,children:[t.jsx("label",{style:Wt.label,children:"Admin Setup Key "}),t.jsx("input",{name:"setupKey",type:"password",placeholder:"Enter setup key from Firebase config",required:!0,value:r.setupKey,onChange:A=>s({...r,setupKey:A.target.value}),style:Wt.input}),t.jsx("small",{style:Wt.hint,children:"Get this from: firebase functions:config:get admin.setup_key"})]}),t.jsx("button",{type:"submit",disabled:x,style:{...Wt.button,opacity:x?.7:1,cursor:x?"not-allowed":"pointer"},children:x?" Creating Admin...":" Create Admin User"})]}),t.jsxs("div",{style:Wt.infoBox,children:[t.jsx("strong",{style:{display:"block",marginBottom:"0.5rem",color:"#333"},children:" Setup Instructions"}),t.jsxs("ol",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem",lineHeight:"1.8",fontSize:"0.9rem"},children:[t.jsxs("li",{children:["Set the setup key: ",t.jsx("code",{style:Wt.code,children:'firebase functions:config:set admin.setup_key="YOUR_SECRET_KEY"'})]}),t.jsxs("li",{children:["Deploy functions: ",t.jsx("code",{style:Wt.code,children:"firebase deploy --only functions"})]}),t.jsx("li",{children:"Enter admin details and setup key above"}),t.jsxs("li",{children:[t.jsx("strong",{children:"After creating first admin:"})," Set ",t.jsx("code",{style:Wt.code,children:"VITE_ENABLE_ADMIN_SETUP=false"})]}),t.jsx("li",{children:"Existing admins can create more admins without this page"})]})]})]})})},Wt={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},card:{maxWidth:"550px",width:"100%",background:"white",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},header:{textAlign:"center",marginBottom:"2rem"},icon:{fontSize:"3rem",marginBottom:"0.5rem"},title:{margin:0,color:"#333",fontSize:"1.8rem"},warningBox:{padding:"1.5rem",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"12px",marginBottom:"1.5rem",textAlign:"center",color:"#856404"},successBox:{padding:"1rem",background:"#d4edda",color:"#155724",borderRadius:"12px",marginBottom:"1rem",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem",fontWeight:"500"},errorBox:{padding:"1rem",background:"#f8d7da",color:"#721c24",borderRadius:"12px",marginBottom:"1rem",display:"flex",alignItems:"center",fontSize:"0.95rem"},form:{display:"flex",flexDirection:"column",gap:"1.25rem",marginBottom:"1.5rem"},inputGroup:{display:"flex",flexDirection:"column",gap:"0.5rem"},label:{fontSize:"0.9rem",fontWeight:"600",color:"#555"},input:{padding:"0.875rem",fontSize:"1rem",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.2s",fontFamily:"inherit"},hint:{fontSize:"0.8rem",color:"#888",fontStyle:"italic"},button:{padding:"1rem",fontSize:"1rem",fontWeight:"600",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",marginTop:"0.5rem",transition:"transform 0.2s, box-shadow 0.2s"},infoBox:{padding:"1.25rem",background:"#f8f9fa",borderRadius:"12px",fontSize:"0.9rem",color:"#666",border:"1px solid #dee2e6"},code:{background:"#e9ecef",padding:"0.2rem 0.4rem",borderRadius:"4px",fontSize:"0.85rem",fontFamily:"monospace",color:"#495057"}},Hx=()=>{const[r,s]=b.useState(!1),[u,c]=b.useState(!1),[f,g]=b.useState(""),x=async()=>{try{s(!0),g(""),console.log(" Creating billing configuration...");const y=Be(Y,"config","billing");await ti(y,{currency:"USD",appointmentCost:50,prescriptionCost:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log(" Billing configuration created!"),c(!0)}catch(y){console.error(" Error:",y),g(y.message)}finally{s(!1)}};return t.jsx("div",{style:_n.container,children:t.jsxs("div",{style:_n.card,children:[t.jsx("h1",{style:_n.title,children:" Setup Billing Configuration"}),u?t.jsxs("div",{style:_n.successBox,children:[t.jsx("div",{style:_n.successIcon,children:""}),t.jsx("h2",{style:_n.successTitle,children:"Configuration Created!"}),t.jsx("p",{style:_n.successText,children:"The billing configuration has been successfully created."}),t.jsx("p",{style:_n.successText,children:"You can now access the Admin Dashboard to manage billing."}),t.jsx("button",{onClick:()=>window.location.href="/dashboard",style:_n.button,children:"Go to Dashboard"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{style:_n.description,children:"This will create the global billing configuration with default values:"}),t.jsxs("div",{style:_n.configBox,children:[t.jsxs("div",{style:_n.configItem,children:[t.jsx("strong",{children:"Currency:"})," USD"]}),t.jsxs("div",{style:_n.configItem,children:[t.jsx("strong",{children:"Appointment Cost:"})," $50"]}),t.jsxs("div",{style:_n.configItem,children:[t.jsx("strong",{children:"Prescription Cost:"})," $20"]})]}),t.jsx("p",{style:_n.note,children:" You can modify these values later from the Admin Dashboard > Config tab"}),f&&t.jsxs("div",{style:_n.error,children:[" Error: ",f]}),t.jsx("button",{onClick:x,disabled:r,style:_n.button,children:r?"Creating...":" Create Billing Config"})]})]})})},_n={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},card:{background:"white",borderRadius:"12px",padding:"3rem",maxWidth:"600px",width:"100%",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.2)"},title:{fontSize:"2rem",color:"#333",marginBottom:"1.5rem",textAlign:"center"},description:{fontSize:"1.1rem",color:"#666",marginBottom:"1.5rem",lineHeight:"1.6"},configBox:{background:"#f8f9fa",borderRadius:"8px",padding:"1.5rem",marginBottom:"1.5rem"},configItem:{padding:"0.5rem 0",fontSize:"1.1rem",color:"#333"},note:{background:"#e3f2fd",borderLeft:"4px solid #2196f3",padding:"1rem",borderRadius:"4px",marginBottom:"1.5rem",color:"#1976d2"},error:{background:"#ffebee",borderLeft:"4px solid #f44336",padding:"1rem",borderRadius:"4px",marginBottom:"1.5rem",color:"#c62828"},button:{width:"100%",padding:"1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.3s"},successBox:{textAlign:"center"},successIcon:{fontSize:"4rem",marginBottom:"1rem"},successTitle:{fontSize:"1.8rem",color:"#27ae60",marginBottom:"1rem"},successText:{fontSize:"1.1rem",color:"#666",marginBottom:"1rem",lineHeight:"1.6"}},Ux=()=>{const[r,s]=b.useState(!1),[u,c]=b.useState(""),f=al(),g=async()=>{try{s(!0),c("Setting up multi-currency configuration...");const x=Be(Y,"config","billing"),y=await Vt(x),j={...y.exists()?y.data():{},rates:{INR:{currency:"INR",symbol:"",appointmentCost:500,prescriptionCost:200},GBP:{currency:"GBP",symbol:"",appointmentCost:5,prescriptionCost:2}},updatedAt:new Date().toISOString()};await ti(x,j,{merge:!0}),c(" Multi-currency configuration updated successfully!"),setTimeout(()=>{f("/dashboard")},2e3)}catch(x){console.error("Error setting up multi-currency:",x),c(" Error: "+x.message)}finally{s(!1)}};return t.jsx("div",{style:ma.container,children:t.jsxs("div",{style:ma.card,children:[t.jsx("h1",{style:ma.title,children:" Multi-Currency Setup"}),t.jsxs("div",{style:ma.info,children:[t.jsx("h3",{children:"This will configure your billing system with:"}),t.jsxs("ul",{style:ma.list,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"INR ()"})," - For India: 500/appointment, 200/prescription"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"GBP ()"})," - For all other countries: 5/appointment, 2/prescription"]})]}),t.jsxs("div",{style:ma.note,children:[t.jsx("strong",{children:" Note:"})," Currency is automatically selected based on the doctor/hospital's country field. Payment gateways will handle currency conversion if needed."]})]}),u&&t.jsx("div",{style:{...ma.message,backgroundColor:u.includes("")?"#d4edda":"#f8d7da",color:u.includes("")?"#155724":"#721c24"},children:u}),t.jsx("button",{onClick:g,disabled:r,style:{...ma.button,opacity:r?.6:1,cursor:r?"not-allowed":"pointer"},children:r?"Setting up...":" Setup Multi-Currency"}),t.jsx("button",{onClick:()=>f("/dashboard"),style:ma.backButton,children:" Back to Dashboard"})]})})},ma={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},card:{background:"white",borderRadius:"12px",padding:"2rem",maxWidth:"600px",width:"100%",boxShadow:"0 10px 40px rgba(0,0,0,0.2)"},title:{color:"#667eea",marginBottom:"1.5rem",textAlign:"center"},info:{marginBottom:"2rem"},list:{marginLeft:"1.5rem",marginTop:"1rem",lineHeight:"2"},note:{marginTop:"1.5rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",borderLeft:"4px solid #2196f3"},message:{padding:"1rem",borderRadius:"8px",marginBottom:"1rem",textAlign:"center",fontWeight:"500"},button:{width:"100%",padding:"1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem"},backButton:{width:"100%",padding:"0.75rem",background:"#f5f5f5",color:"#666",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"}},Ox=()=>{const[r,s]=b.useState(null),[u,c]=b.useState([]),[f,g]=b.useState([]),[x,y]=b.useState(!0);b.useEffect(()=>{w()},[]);const w=async()=>{try{const j=Be(Y,"config","billing"),C=await Vt(j),U=C.exists()?C.data():null;s(U);const A=Ae(Se(Y,"users"),de("role","==","doctor")),P=(await He(A)).docs.map(se=>({id:se.id,...se.data()}));c(P.slice(0,5));const G=(await He(Se(Y,"hospitals"))).docs.map(se=>({id:se.id,...se.data()}));g(G.slice(0,5)),y(!1)}catch(j){console.error("Error loading data:",j),y(!1)}};return x?t.jsx("div",{style:Yt.container,children:"Loading..."}):t.jsxs("div",{style:Yt.container,children:[t.jsx("h1",{style:Yt.title,children:" Currency Debug Tool"}),t.jsxs("div",{style:Yt.section,children:[t.jsx("h2",{children:" Global Config"}),t.jsx("pre",{style:Yt.code,children:JSON.stringify(r,null,2)}),!r?.rates&&t.jsxs("div",{style:Yt.warning,children:[" ",t.jsx("strong",{children:"No multi-currency rates found!"}),t.jsx("br",{}),"Go to ",t.jsx("a",{href:"/setup-multi-currency",children:"/setup-multi-currency"})," to set it up."]})]}),t.jsxs("div",{style:Yt.section,children:[t.jsx("h2",{children:" Sample Doctors (First 5)"}),u.map(j=>{const C=Pl(j,r);return t.jsxs("div",{style:Yt.card,children:[t.jsxs("div",{style:Yt.cardHeader,children:[t.jsx("strong",{children:j.displayName||"No Name"}),t.jsx("span",{style:Yt.badge,children:j.country||" No Country"})]}),t.jsxs("div",{style:Yt.cardBody,children:[t.jsxs("div",{children:["Email: ",j.email]}),t.jsxs("div",{children:["Country: ",t.jsx("strong",{children:j.country||" NOT SET"})]}),t.jsxs("div",{style:Yt.ratesBox,children:[t.jsx("strong",{children:"Detected Currency:"})," ",C.currency," ",C.symbol,t.jsx("br",{}),"Appointment: ",C.symbol,C.appointmentCost,t.jsx("br",{}),"Prescription: ",C.symbol,C.prescriptionCost]}),j.customRates&&t.jsx("div",{style:Yt.customBadge,children:"Has Custom Rates"})]})]},j.id)})]}),t.jsxs("div",{style:Yt.section,children:[t.jsx("h2",{children:" Sample Hospitals (First 5)"}),f.map(j=>{const C=Pl(j,r);return t.jsxs("div",{style:Yt.card,children:[t.jsxs("div",{style:Yt.cardHeader,children:[t.jsx("strong",{children:j.name||"No Name"}),t.jsx("span",{style:Yt.badge,children:j.country||" No Country"})]}),t.jsxs("div",{style:Yt.cardBody,children:[t.jsxs("div",{children:["Email: ",j.email]}),t.jsxs("div",{children:["Country: ",t.jsx("strong",{children:j.country||" NOT SET"})]}),t.jsxs("div",{style:Yt.ratesBox,children:[t.jsx("strong",{children:"Detected Currency:"})," ",C.currency," ",C.symbol,t.jsx("br",{}),"Appointment: ",C.symbol,C.appointmentCost,t.jsx("br",{}),"Prescription: ",C.symbol,C.prescriptionCost]}),j.customRates&&t.jsx("div",{style:Yt.customBadge,children:"Has Custom Rates"})]})]},j.id)})]}),t.jsxs("div",{style:Yt.section,children:[t.jsx("h2",{children:" Test Cases"}),t.jsxs("div",{style:Yt.testCase,children:[t.jsx("strong",{children:"Test: India"}),t.jsx("pre",{style:Yt.code,children:JSON.stringify(Ro("India",r),null,2)})]}),t.jsxs("div",{style:Yt.testCase,children:[t.jsx("strong",{children:"Test: United Kingdom"}),t.jsx("pre",{style:Yt.code,children:JSON.stringify(Ro("United Kingdom",r),null,2)})]}),t.jsxs("div",{style:Yt.testCase,children:[t.jsx("strong",{children:"Test: USA"}),t.jsx("pre",{style:Yt.code,children:JSON.stringify(Ro("USA",r),null,2)})]})]})]})},Yt={container:{padding:"2rem",maxWidth:"1200px",margin:"0 auto",fontFamily:"system-ui, -apple-system, sans-serif"},title:{color:"#667eea",marginBottom:"2rem"},section:{marginBottom:"3rem",background:"white",padding:"1.5rem",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},code:{background:"#f5f5f5",padding:"1rem",borderRadius:"8px",overflow:"auto",fontSize:"0.9rem"},warning:{marginTop:"1rem",padding:"1rem",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",color:"#856404"},card:{marginBottom:"1rem",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden"},cardHeader:{padding:"1rem",background:"#f8f9fa",display:"flex",justifyContent:"space-between",alignItems:"center"},cardBody:{padding:"1rem"},badge:{padding:"0.25rem 0.75rem",background:"#667eea",color:"white",borderRadius:"12px",fontSize:"0.85rem"},ratesBox:{marginTop:"1rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",borderLeft:"4px solid #2196f3"},customBadge:{marginTop:"0.5rem",padding:"0.5rem",background:"#fff3e0",borderRadius:"4px",fontSize:"0.85rem",color:"#e65100"},testCase:{marginBottom:"1rem"}},Lx=()=>{const{currentUser:r,userProfile:s}=Ia(),u=al(),[c,f]=b.useState(!1),[g,x]=b.useState(null),y=(C,U="success")=>{x({message:C,type:U}),setTimeout(()=>x(null),3e3)},w=()=>{r?.uid&&(navigator.clipboard.writeText(r.uid),f(!0),y("UID copied to clipboard!"),setTimeout(()=>f(!1),2e3))},j=()=>{r?.email&&(navigator.clipboard.writeText(r.email),y("Email copied to clipboard!"))};return r?t.jsxs("div",{style:it.container,children:[g&&t.jsx("div",{style:{...it.notification,background:g.type==="success"?"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)":"linear-gradient(135deg, #f5576c 0%, #fa709a 100%)"},children:g.message}),t.jsxs("div",{style:it.header,children:[t.jsx("button",{onClick:()=>u("/dashboard"),style:it.backButton,children:" Back to Dashboard"}),t.jsx("h1",{style:{margin:0,fontSize:"clamp(1.5rem, 4vw, 2.5rem)"},children:" My Profile Information"})]}),t.jsxs("div",{style:it.card,children:[t.jsxs("div",{style:it.cardHeader,children:[t.jsx("h2",{style:{margin:0,color:"#333"},children:" User Details"}),t.jsx("span",{style:it.roleBadge,children:s?.role?.toUpperCase()||"USER"})]}),t.jsxs("div",{style:it.infoGrid,children:[t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"User ID (UID)"})]}),t.jsx("div",{style:it.infoValue,children:t.jsx("code",{style:it.code,children:r.uid})}),t.jsx("button",{onClick:w,style:{...it.button,...it.copyButton,background:c?"#38ef7d":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:c?" Copied!":" Copy UID"})]}),t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"Email Address"})]}),t.jsx("div",{style:it.infoValue,children:r.email||"No email provided"}),r.email&&t.jsx("button",{onClick:j,style:{...it.button,...it.copyButton},children:" Copy Email"})]}),t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"Display Name"})]}),t.jsx("div",{style:it.infoValue,children:s?.displayName||"Not set"})]}),s?.phone&&t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"Phone Number"})]}),t.jsx("div",{style:it.infoValue,children:s.phone})]}),s?.hospitalId&&t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"Hospital ID"})]}),t.jsx("div",{style:it.infoValue,children:t.jsx("code",{style:it.code,children:s.hospitalId})})]}),r.metadata?.creationTime&&t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem",display:"inline-flex",lineHeight:0},children:t.jsx(nn,{size:20})}),t.jsx("span",{children:"Account Created"})]}),t.jsx("div",{style:it.infoValue,children:new Date(r.metadata.creationTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{style:it.infoCard,children:[t.jsxs("div",{style:it.infoLabel,children:[t.jsx("span",{style:{fontSize:"1.5rem"},children:""}),t.jsx("span",{children:"Email Verification"})]}),t.jsx("div",{style:it.infoValue,children:t.jsx("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",background:r.emailVerified?"#38ef7d":"#ffa502",color:"white",fontSize:"0.9rem",fontWeight:"600"},children:r.emailVerified?" Verified":" Not Verified"})})]})]}),t.jsxs("div",{style:it.infoBox,children:[t.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),t.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#333"},children:"What is UID?"}),t.jsx("p",{style:{margin:0,color:"#666",lineHeight:"1.6"},children:"Your User ID (UID) is a unique identifier assigned to your account. It's used internally by the system to manage your data securely. You might need this when contacting support or for administrative purposes."})]})]}),t.jsx("style",{children:`
                @keyframes slideDown {
                    from {
                        transform: translateY(-100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateY(0);
                        opacity: 1;
                    }
                }
                button:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
                button:active {
                    transform: translateY(0);
                }
            `})]}):t.jsx("div",{style:it.container,children:t.jsx("div",{style:it.card,children:t.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),t.jsx("h2",{style:{color:"#333",marginBottom:"1rem"},children:"Authentication Required"}),t.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"Please log in to view your user information"}),t.jsx("button",{onClick:()=>u("/login"),style:{...it.button,...it.primaryButton},children:"Go to Login"})]})})})},it={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"clamp(1rem, 3vw, 2rem)",position:"relative"},notification:{position:"fixed",top:"2rem",right:"2rem",padding:"1rem 2rem",borderRadius:"10px",color:"white",fontWeight:"600",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,animation:"slideDown 0.3s ease"},header:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"clamp(1rem, 3vw, 2rem)",marginBottom:"2rem",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",gap:"1rem"},backButton:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",alignSelf:"flex-start",transition:"all 0.3s ease"},card:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"clamp(1.5rem, 3vw, 2.5rem)",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",maxWidth:"1200px",margin:"0 auto"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid #e0e0e0",flexWrap:"wrap",gap:"1rem"},roleBadge:{padding:"0.5rem 1.5rem",borderRadius:"20px",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",fontSize:"0.9rem",fontWeight:"600"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},infoCard:{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderRadius:"15px",padding:"1.5rem",border:"2px solid #e0e0e0",transition:"all 0.3s ease"},infoLabel:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",color:"#666",fontSize:"0.9rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},infoValue:{fontSize:"1.1rem",color:"#333",fontWeight:"500",marginBottom:"1rem",wordBreak:"break-all"},code:{background:"#f5f5f5",padding:"0.5rem",borderRadius:"8px",fontFamily:"monospace",fontSize:"0.9rem",display:"block"},button:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.3s ease",width:"100%"},primaryButton:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},copyButton:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},infoBox:{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)",borderRadius:"15px",padding:"2rem",textAlign:"center",border:"2px solid #667eea"}};async function Px(){console.log(" Starting hospital role migration...");try{const r=await He(Se(Y,"hospitals"));console.log(` Found ${r.size} hospitals`);let s=0,u=0,c=0;for(const f of r.docs){const g=f.data(),x=g.ownerId;if(!x){console.log(`  Hospital ${f.id} has no ownerId, skipping`),c++;continue}console.log(`
 Processing hospital: ${g.name} (${f.id})`),console.log(`   Owner UID: ${x}`);const y=Be(Y,"users",x),w=await Vt(y);if(!w.exists()){console.log(` User document not found for UID: ${x}`),c++;continue}const j=w.data();console.log(`   Current role: ${j.role||"MISSING"}`),j.role==="hospital"?(console.log(" Already has correct role"),u++):(console.log(" Updating role to 'hospital'..."),await Ft(y,{role:"hospital",hospitalId:f.id}),console.log(" Role updated successfully!"),s++)}return console.log(`
`+"=".repeat(50)),console.log(" MIGRATION SUMMARY:"),console.log("=".repeat(50)),console.log(` Fixed: ${s}`),console.log(`  Already correct: ${u}`),console.log(` Errors: ${c}`),console.log(` Total processed: ${r.size}`),console.log("=".repeat(50)),{success:!0,fixed:s,alreadyCorrect:u,errors:c,total:r.size}}catch(r){return console.error(" Migration failed:",r),{success:!1,error:r.message}}}const Ix=()=>{const[r,s]=b.useState([]),[u,c]=b.useState([]),[f,g]=b.useState([]),[x,y]=b.useState(!0),[w,j]=b.useState(null),[C,U]=b.useState(!1);b.useEffect(()=>{A()},[]);const A=async()=>{try{const P=await He(Se(Y,"hospitals")),K=[];P.forEach(oe=>{K.push({id:oe.id,...oe.data()})}),s(K),console.log(" Hospitals collection:",K);const G=await He(Ae(Se(Y,"users"),de("role","==","hospital"))),se=[];G.forEach(oe=>{se.push({id:oe.id,...oe.data()})}),g(se),console.log(" Hospital users:",se);const E=await ec({});c(E),console.log(" Doctors:",E);const le=await Yr({});console.log(" getHospitals() result:",le)}catch(P){console.error("Error loading data:",P)}finally{y(!1)}},re=async()=>{if(confirm('This will update all hospital users to have role="hospital". Continue?')){U(!0),j(null);try{const P=await Px();j(P),await A()}catch(P){console.error("Migration error:",P),j({success:!1,error:P.message})}finally{U(!1)}}};return x?t.jsx("div",{style:{padding:"2rem"},children:"Loading database data..."}):t.jsxs("div",{style:{padding:"2rem",fontFamily:"monospace"},children:[t.jsx("h1",{children:" Database Debug Page"}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#fff3cd",borderRadius:"8px"},children:[t.jsx("h3",{style:{marginTop:0},children:" Fix Hospital Roles"}),t.jsx("p",{children:"If hospitals are not showing up when booking, click this button to fix their roles:"}),t.jsx("button",{onClick:re,disabled:C,style:{padding:"0.75rem 1.5rem",background:C?"#ccc":"#4caf50",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:C?"not-allowed":"pointer"},children:C?" Fixing...":" Fix Hospital Roles Now"}),w&&t.jsx("div",{style:{marginTop:"1rem",padding:"1rem",background:w.success?"#d4edda":"#f8d7da",borderRadius:"8px"},children:w.success?t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsx("strong",{children:" Migration Complete!"})}),t.jsxs("div",{children:["Fixed: ",w.fixed]}),t.jsxs("div",{children:["Already correct: ",w.alreadyCorrect]}),t.jsxs("div",{children:["Errors: ",w.errors]}),t.jsxs("div",{children:["Total: ",w.total]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsx("strong",{children:" Migration Failed"})}),t.jsx("div",{children:w.error})]})})]}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h2",{children:[" Hospitals Collection (",r.length,")"]}),r.length===0?t.jsxs("div",{style:{padding:"1rem",background:"#fff3cd",borderRadius:"8px"},children:[" No hospitals found in 'hospitals' collection",t.jsx("br",{}),t.jsx("strong",{children:"Problem:"})," Hospitals are not being saved during registration!"]}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:r.map(P=>t.jsxs("div",{style:{padding:"1rem",background:"#e8f5e9",borderRadius:"8px",border:"2px solid #4caf50"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"ID:"})," ",P.id]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",P.name||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",P.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Country:"})," ",P.country||" MISSING"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",P.state||" MISSING"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",P.city||" MISSING"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"})," ",P.address||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",P.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Owner ID:"})," ",P.ownerId||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Country:"})," ",P.country||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",P.state||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",P.city||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"})," ",P.address||"N/A"]})]},P.id))})]}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h2",{children:[" Hospital Users (role='hospital') (",f.length,")"]}),f.length===0?t.jsx("div",{style:{padding:"1rem",background:"#fff3cd",borderRadius:"8px"},children:" No users with role='hospital' found"}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:f.map(P=>t.jsxs("div",{style:{padding:"1rem",background:"#e3f2fd",borderRadius:"8px",border:"2px solid #2196f3"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"UID:"})," ",P.uid]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",P.displayName||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",P.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Role:"})," ",P.role]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Hospital ID:"})," ",P.hospitalId||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Country:"})," ",P.country||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",P.state||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",P.city||"N/A"]})]},P.id))})]}),t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h2",{children:[" Doctors (",u.length,")"]}),u.length===0?t.jsx("div",{style:{padding:"1rem",background:"#fff3cd",borderRadius:"8px"},children:" No doctors found"}):t.jsx("div",{style:{display:"grid",gap:"1rem"},children:u.map(P=>t.jsxs("div",{style:{padding:"1rem",background:"#f3e5f5",borderRadius:"8px",border:"2px solid #9c27b0"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"UID:"})," ",P.uid]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",P.displayName||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",P.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Specialization:"})," ",P.specialization||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Hospital ID:"})," ",P.hospitalId||"Independent"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Country:"})," ",P.country||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",P.state||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",P.city||"N/A"]})]},P.id))})]}),t.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h3",{children:" Summary"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Hospitals in 'hospitals' collection: ",t.jsx("strong",{children:r.length})]}),t.jsxs("li",{children:["Users with role='hospital': ",t.jsx("strong",{children:f.length})]}),t.jsxs("li",{children:["Doctors: ",t.jsx("strong",{children:u.length})]})]}),t.jsx("h3",{children:" What to Check"}),t.jsxs("ol",{style:{lineHeight:"1.8"},children:[t.jsx("li",{children:"If hospitals collection is empty, registration is not creating hospital documents"}),t.jsx("li",{children:"If hospitalUsers is empty, users aren't getting role='hospital' during registration"}),t.jsx("li",{children:"Check if hospital documents have location fields (country, state, city)"}),t.jsx("li",{children:"The BookAppointment page filters by location, so missing location = won't show up"})]}),t.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fff3cd",borderRadius:"8px"},children:[t.jsx("strong",{children:" Solution:"})," If hospitals have no location data:",t.jsx("br",{}),"1. Go to Firebase Console  Firestore  hospitals collection",t.jsx("br",{}),"2. Edit each hospital document and add: country, state, city",t.jsx("br",{}),"3. OR re-register the hospital with complete profile"]})]}),t.jsx("button",{onClick:A,style:{marginTop:"2rem",padding:"1rem 2rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},children:" Refresh Data"})]})},_x=()=>{const[r,s]=b.useState(null),[u,c]=b.useState(!1),f=async()=>{c(!0),s(`Starting test...
`);const g=`test_hospital_${Date.now()}@test.com`,x="TestPass123!",y=`Test Hospital ${Date.now()}`;try{s(E=>E+`
 Test 1: Registering hospital...`),s(E=>E+`
   Email: ${g}`),s(E=>E+`
   Name: ${y}`);const w=await lh(g,x,y,"hospital",{country:"Test Country",state:"Test State",city:"Test City",address:"Test Address"});s(E=>E+`
 Registration successful!`),s(E=>E+`
   User UID: ${w.uid}`),s(E=>E+`
   Hospital ID: ${w.hospitalId||"NOT SET"}`),await new Promise(E=>setTimeout(E,2e3)),s(E=>E+`

 Test 2: Checking hospitals collection...`);const j=await He(Se(Y,"hospitals"));s(E=>E+`
   Found ${j.size} hospitals`);let C=!1;j.forEach(E=>{const le=E.data();s(oe=>oe+`
   - ${le.name} (${E.id})`),le.email===g&&(C=!0,s(oe=>oe+"  OUR TEST HOSPITAL "))}),C||s(E=>E+`
 Our test hospital NOT found in hospitals collection!`),s(E=>E+`

 Test 3: Checking users collection...`),s(E=>E+`
   Looking for user: ${w.uid}`);const{doc:U,getDoc:A}=await Gr(async()=>{const{doc:E,getDoc:le}=await import("./firebase-p-DgfaJy.js").then(oe=>oe.K);return{doc:E,getDoc:le}},[]),re=U(Y,"users",w.uid),P=await A(re);let K=!1;if(P.exists()){K=!0;const E=P.data();s(le=>le+`
    Found user: ${E.displayName} (${P.id})`),s(le=>le+`
     Email: ${E.email}`),s(le=>le+`
     Role: ${E.role||"NOT SET"} ${E.role==="hospital"?"":""}`),s(le=>le+`
     HospitalID: ${E.hospitalId||"NOT SET"}`)}else s(E=>E+`
 User document not found!`);K||s(E=>E+`
 Our test user NOT found in users collection!`),s(E=>E+`

 Test 4: Testing getHospitals() function...`);const G=await Yr({});s(E=>E+`
   getHospitals() returned ${G.length} hospitals`);const se=G.find(E=>E.email===g);s(se?E=>E+`
 Our test hospital found via getHospitals()!`:E=>E+`
 Our test hospital NOT found via getHospitals()!`),s(E=>E+`

`+"=".repeat(50)),C&&K&&se?s(E=>E+`
 ALL TESTS PASSED - Hospital registration is working!`):(s(E=>E+`
 SOME TESTS FAILED - There is an issue with registration`),C||s(E=>E+`
   - Hospital not in hospitals collection`),K||s(E=>E+`
   - User not in users collection`),se||s(E=>E+`
   - getHospitals() not returning hospital`)),s(E=>E+`
`+"=".repeat(50))}catch(w){s(j=>j+`

 ERROR: ${w.message}`),s(j=>j+`
   Code: ${w.code||"N/A"}`),s(j=>j+`
   Stack: ${w.stack}`),console.error("Test error:",w)}finally{c(!1)}};return t.jsxs("div",{style:{padding:"2rem",fontFamily:"monospace",maxWidth:"800px",margin:"0 auto"},children:[t.jsx("h1",{children:" Hospital Registration Test"}),t.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px"},children:[t.jsx("p",{children:t.jsx("strong",{children:"This test will:"})}),t.jsxs("ol",{children:[t.jsx("li",{children:"Register a new test hospital"}),t.jsx("li",{children:"Check if it appears in hospitals collection"}),t.jsx("li",{children:"Check if user has correct role in users collection"}),t.jsx("li",{children:"Test if getHospitals() returns it"})]}),t.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#666"},children:[t.jsx("strong",{children:"Note:"})," This will create a real test hospital in your database. You can delete it later from Firebase Console if needed."]})]}),t.jsx("button",{onClick:f,disabled:u,style:{padding:"1rem 2rem",background:u?"#ccc":"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:u?"not-allowed":"pointer",marginBottom:"2rem"},children:u?" Running Tests...":" Run Test"}),r&&t.jsx("div",{style:{padding:"1.5rem",background:"#1e1e1e",color:"#00ff00",borderRadius:"8px",fontSize:"0.9rem",lineHeight:"1.8",whiteSpace:"pre-wrap",fontFamily:"Consolas, Monaco, monospace",maxHeight:"600px",overflow:"auto"},children:r})]})},qx=()=>{const[r,s]=b.useState([]),[u,c]=b.useState(!1),[f,g]=b.useState(""),x=async()=>{c(!0);try{const w=await He(Se(Y,"hospitals")),j=[];w.forEach(C=>{j.push({id:C.id,...C.data()})}),s(j),g(`Loaded ${j.length} hospitals`)}catch(w){g(`Error: ${w.message}`)}finally{c(!1)}},y=async(w,j)=>{try{await Ft(Be(Y,"hospitals",w),{country:j.country,state:j.state,city:j.city,address:j.address||""}),g(C=>C+`
 Updated ${w}`),await x()}catch(C){g(U=>U+`
 Failed ${w}: ${C.message}`)}};return t.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[t.jsx("h1",{children:" Fix Hospital Locations"}),t.jsx("button",{onClick:x,disabled:u,style:{padding:"1rem 2rem",background:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:u?"not-allowed":"pointer",marginBottom:"2rem"},children:u?"Loading...":" Load Hospitals"}),f&&t.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",marginBottom:"2rem",whiteSpace:"pre-wrap",fontFamily:"monospace"},children:f}),t.jsx("div",{style:{display:"grid",gap:"1rem"},children:r.map(w=>{const j=w.country&&w.state&&w.city;return t.jsxs("div",{style:{padding:"1.5rem",background:j?"#e8f5e9":"#fff3cd",border:`2px solid ${j?"#4caf50":"#ffc107"}`,borderRadius:"12px"},children:[t.jsxs("h3",{style:{marginTop:0},children:[j?"":""," ",w.name]}),t.jsxs("div",{style:{marginBottom:"1rem",fontSize:"0.9rem"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"ID:"})," ",w.id]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",w.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Country:"})," ",w.country||t.jsx("span",{style:{color:"red"},children:" MISSING"})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",w.state||t.jsx("span",{style:{color:"red"},children:" MISSING"})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",w.city||t.jsx("span",{style:{color:"red"},children:" MISSING"})]})]}),!j&&t.jsxs("div",{style:{marginTop:"1rem"},children:[t.jsx("h4",{children:"Add Location:"}),t.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[t.jsx("input",{type:"text",placeholder:"Country",id:`country-${w.id}`,defaultValue:w.country||"",style:Bo.input}),t.jsx("input",{type:"text",placeholder:"State",id:`state-${w.id}`,defaultValue:w.state||"",style:Bo.input}),t.jsx("input",{type:"text",placeholder:"City",id:`city-${w.id}`,defaultValue:w.city||"",style:Bo.input}),t.jsx("input",{type:"text",placeholder:"Address (optional)",id:`address-${w.id}`,defaultValue:w.address||"",style:Bo.input}),t.jsx("button",{onClick:()=>{const C=document.getElementById(`country-${w.id}`).value,U=document.getElementById(`state-${w.id}`).value,A=document.getElementById(`city-${w.id}`).value,re=document.getElementById(`address-${w.id}`).value;if(!C||!U||!A){alert("Country, State, and City are required!");return}y(w.id,{country:C,state:U,city:A,address:re})},style:Bo.button,children:" Save Location"})]})]})]},w.id)})})]})},Bo={input:{padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem"},button:{padding:"0.75rem 1.5rem",background:"#4caf50",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"}},Gx=()=>t.jsxs("div",{style:{padding:"2rem",maxWidth:"900px",margin:"0 auto"},children:[t.jsx("h1",{children:"Privacy Policy"}),t.jsx("p",{children:"Last updated: December 10, 2025"}),t.jsx("p",{children:'This Privacy Policy describes how Souldoc ("we", "us", or "our") collects, uses, and shares personal information when you use our services. We are committed to protecting your privacy and will handle your personal information in accordance with applicable laws.'}),t.jsx("h2",{children:"Information We Collect"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Account information (name, email, phone) when you register or book appointments."}),t.jsx("li",{children:"Appointment and payment history."}),t.jsx("li",{children:"Device and usage information (IP address, browser, logs) to improve service quality."})]}),t.jsx("h2",{children:"How We Use Information"}),t.jsx("p",{children:"We use the information to provide, maintain, and improve our services, process transactions, communicate with you, and for fraud prevention."}),t.jsx("h2",{children:"Sharing and Disclosure"}),t.jsx("p",{children:"We may share information with service providers, payment processors, and when required by law. We do not sell personal information."}),t.jsx("h2",{children:"Data Security"}),t.jsx("p",{children:"We maintain reasonable administrative and technical safeguards to protect personal information. However, no method of transmission over the Internet is completely secure."}),t.jsx("h2",{children:"Your Rights"}),t.jsxs("p",{children:["You may access, correct, or request deletion of your personal information. To do so, contact us at ",t.jsx("a",{href:"mailto:pauljos@gmail.com",children:"pauljos@gmail.com"}),"."]}),t.jsx("h2",{children:"Changes"}),t.jsx("p",{children:"We may update this policy from time to time. We will post any changes on this page with a revised date."})]}),Wx=()=>t.jsxs("div",{style:{padding:"2rem",maxWidth:"900px",margin:"0 auto"},children:[t.jsx("h1",{children:"Terms of Service"}),t.jsx("p",{children:"Last updated: December 10, 2025"}),t.jsx("p",{children:'These Terms of Service ("Terms") govern your access to and use of Souldoc (the "Service"). By using the Service you agree to these Terms.'}),t.jsx("h2",{children:"Use of the Service"}),t.jsx("p",{children:"You may use the Service only in compliance with these Terms and all applicable laws. You must provide accurate information during registration and booking."}),t.jsx("h2",{children:"Payments"}),t.jsx("p",{children:"Payments processed through the Service are subject to our billing policies. We may use third-party payment processors; their terms will also apply."}),t.jsx("h2",{children:"Intellectual Property"}),t.jsx("p",{children:"All content, trademarks, and software provided on the Service are the property of Souldoc or its licensors."}),t.jsx("h2",{children:"Limitation of Liability"}),t.jsx("p",{children:"To the maximum extent permitted by law, Souldoc will not be liable for any indirect, incidental, or consequential damages arising from your use of the Service."}),t.jsx("h2",{children:"Governing Law"}),t.jsx("p",{children:"These Terms are governed by the laws of the jurisdiction in which the company operates. Any disputes will be resolved under those laws."}),t.jsx("h2",{children:"Contact"}),t.jsxs("p",{children:["Questions about these Terms should be sent to ",t.jsx("a",{href:"mailto:pauljos@gmail.com",children:"pauljos@gmail.com"}),"."]})]}),Yx=({children:r})=>{const{isAuthenticated:s,loading:u}=Ia();return u?t.jsx("div",{children:"Loading..."}):s?r:t.jsx(vg,{to:"/login"})};function Fx(){const r=()=>{const s=al();return b.useEffect(()=>{let u=null;return(async()=>{try{const c=await Function('return import("@capacitor/core")')();if((c?.Capacitor?.getPlatform?c.Capacitor.getPlatform():"web")==="web")return;const y=(await Function('return import("@capacitor/app")')()).App.addListener("backButton",({canGoBack:w})=>{w&&s(-1)});u=y&&y.remove?()=>y.remove():null}catch(c){console.debug("Capacitor App plugin not available (web/dev):",c?.message||c)}})(),()=>{try{u&&u()}catch{}}},[s]),null};return t.jsxs(xg,{children:[t.jsx(r,{}),t.jsxs(bg,{children:[t.jsx(ei,{path:"/",element:t.jsx(Fg,{})}),t.jsx(ei,{path:"/book",element:t.jsx(Nx,{})}),t.jsx(ei,{path:"/login",element:t.jsx(Ry,{})}),t.jsx(ei,{path:"/register",element:t.jsx(Ly,{})}),t.jsx(ei,{path:"/setup-admin",element:t.jsx(Mx,{})}),t.jsx(ei,{path:"/setup-billing",element:t.jsx(Hx,{})}),t.jsx(ei,{path:"/setup-multi-currency",element:t.jsx(Ux,{})}),t.jsx(ei,{path:"/debug-currency",element:t.jsx(Ox,{})}),t.jsx(ei,{path:"/privacy",element:t.jsx(Gx,{})}),t.jsx(ei,{path:"/terms",element:t.jsx(Wx,{})}),t.jsx(ei,{path:"/get-my-uid",element:t.jsx(Lx,{})}),t.jsx(ei,{path:"/debug-database",element:t.jsx(Ix,{})}),t.jsx(ei,{path:"/test-hospital",element:t.jsx(_x,{})}),t.jsx(ei,{path:"/fix-hospitals",element:t.jsx(qx,{})}),t.jsx(ei,{path:"/dashboard",element:t.jsx(Yx,{children:t.jsx(Ax,{})})})]})]})}let Or,Kd;const Vx=()=>(b.useEffect(()=>{(async()=>{try{const r=await Function('return import("@capacitor/core")')(),s=r?.Capacitor?.getPlatform?r.Capacitor.getPlatform():"web";try{Or=(await Function('return import("@capacitor/status-bar")')()).StatusBar,s==="ios"?await Or.setStyle({style:"LIGHT"}):s==="android"&&(await Or.setBackgroundColor({color:"#0f766e"}),await Or.setStyle({style:"DARK"}))}catch(u){console.debug("StatusBar plugin not available (web/dev):",u?.message||u)}try{Kd=(await Function('return import("@capacitor/keyboard")')()).Keyboard,s==="ios"?await Kd.setResizeMode({mode:"body"}):s==="android"&&await Kd.setResizeMode({mode:"native"})}catch(u){console.debug("Keyboard plugin not available (web/dev):",u?.message||u)}}catch(r){console.debug("Capacitor core not available (web/dev):",r?.message||r)}})()},[]),t.jsx(b.StrictMode,{children:t.jsx(Oy,{children:t.jsx(Fx,{})})}));Yg.createRoot(document.getElementById("root")).render(t.jsx(Vx,{}));
